{"version":3,"sources":["../static/js/32.280d9585.chunk.js","privilegeManager/pages/privilege/privilegeTable.js","privilegeManager/pages/privilege/privilegeEdit.js"],"names":["webpackJsonp","2069","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","privilegetableMapStateToProps","state","appList","app","operInfo","privilege","privilegeList","privilegetableMapDispatchToProps","dispatch","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_react_redux__","__WEBPACK_IMPORTED_MODULE_2_antd__","__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__","__WEBPACK_IMPORTED_MODULE_4__privilegeEdit__","__WEBPACK_IMPORTED_MODULE_5__constants_baseConfig__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","Option","Header","Content","Sider","PrivilegeTable","_Component","_ref","_temp","_this","_ret","this","_len","arguments","args","Array","_key","getPrototypeOf","apply","concat","condition","privilegeName","appID","checkList","selectAppId","showLoading","privilegeTableColumns","title","dataIndex","render","text","recored","a","createElement","defaultChecked","onChange","e","handleCheckChange","id","appName","applicationId","displayName","type","shape","icon","size","onClick","handleEditClick","handleAppChange","console","log","setState","handleAddClick","confirmDelete","deleteIDs","map","item","status","push","delKeys","searchAppid","cancelDelete","handleSearch","appid","privilegeID","checked","slice","hasValue","newProps","privilegeInfo","appInfo","appIcon","appType","applicationType","find","_this2","removeBtnDisabled","filter","className","onConfirm","onCancel","okText","cancelText","disabled","handleDeleteClick","style","border","padding","span","width","placeholder","defaultValue","getAppIcon","spinning","rowKey","columns","dataSource","2070","mapStateToProps","activePrivilege","mapDispatchToProps","__WEBPACK_IMPORTED_MODULE_0_react_redux__","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_1_react___default","FormItem","Item","PrivilegeEditor","dialogTitle","visible","handleAppTypeChange","handleOk","preventDefault","operType","form","validateFields","err","values","method","data","handleCancel","newAppId","resetFields","getFieldDecorator","formItemLayout","labelCol","wrapperCol","maskClosable","onOk","assign","label","hasFeedback","initialValue","rules","required","message","float","name","groups","WrappedRegistrationForm"],"mappings":"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","file":"static/js/32.280d9585.chunk.js","sourcesContent":["webpackJsonp([32],{\n\n/***/ 2069:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_redux__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__ = __webpack_require__(1281);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__privilegeEdit__ = __webpack_require__(2070);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__constants_baseConfig__ = __webpack_require__(120);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Option=__WEBPACK_IMPORTED_MODULE_2_antd__[\"A\" /* Select */].Option;var Header=__WEBPACK_IMPORTED_MODULE_2_antd__[\"s\" /* Layout */].Header,Sider=__WEBPACK_IMPORTED_MODULE_2_antd__[\"s\" /* Layout */].Sider,Content=__WEBPACK_IMPORTED_MODULE_2_antd__[\"s\" /* Layout */].Content;var PrivilegeTable=function(_Component){_inherits(PrivilegeTable,_Component);function PrivilegeTable(){var _ref;var _temp,_this,_ret;_classCallCheck(this,PrivilegeTable);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=PrivilegeTable.__proto__||Object.getPrototypeOf(PrivilegeTable)).call.apply(_ref,[this].concat(args))),_this),_this.state={condition:{privilegeName:'',appID:''},checkList:[],selectAppId:'',showLoading:false},_this.privilegeTableColumns=[{title:'选择',dataIndex:'id',key:'check',render:function render(text,recored){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"j\" /* Checkbox */],{defaultChecked:false,onChange:function onChange(e){return _this.handleCheckChange(e,recored.id);}}));}},{title:'权限名',dataIndex:'name',key:'name'},{title:'分组名',dataIndex:'groups',key:'groups'},{title:'对应工具',dataIndex:'applicationId',key:'applicationId',render:function render(text,recored){var appName='';for(var i in _this.props.appList){if(_this.props.appList[i].id==recored.applicationId){appName=_this.props.appList[i].displayName;break;}}return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,appName);}},{title:'编辑',dataIndex:'edit',key:'edit',render:function render(text,recored){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"H\" /* Tooltip */],{title:'\\u6743\\u9650\\u7F16\\u8F91'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Button */],{type:'primary',shape:'circle',icon:'edit',size:'small',onClick:function onClick(e){return _this.handleEditClick(recored);}}));}}],_this.handleAppChange=function(appID){console.log('handleAppChange，appID：',appID);_this.setState({selectAppId:appID});},_this.handleAddClick=function(e){//console.log(\"add privilege\");\n_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"z\" /* privilegeAdd */])(_this.state.selectAppId));},_this.confirmDelete=function(e){var deleteIDs=[];_this.state.checkList.map(function(item,i){if(item.status){deleteIDs.push(item.id);}});console.log(\"确定删除：\",deleteIDs);_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"A\" /* privilegeDelete */])({delKeys:deleteIDs,searchAppid:_this.state.selectAppId}));},_this.cancelDelete=function(e){console.log(\"不删除\",e);},_this.handleSearch=function(e){console.log(\"search\",_this.state.selectAppId);_this.setState({showLoading:true});_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"D\" /* privilegeGetList */])({appid:_this.state.selectAppId}));},_this.handleCheckChange=function(e,privilegeID){//console.log(\"checkbox change：\" + JSON.stringify(e.target.checked));\nvar checked=e.target.checked;var checkList=_this.state.checkList.slice();var hasValue=false;for(var i in checkList){if(checkList[i].id==privilegeID){checkList[i].status=checked;hasValue=true;break;}}if(!hasValue){checkList.push({id:privilegeID,status:checked});}_this.setState({checkList:checkList});},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(PrivilegeTable,[{key:'componentWillMount',value:function componentWillMount(){console.log(\"加载权限列表：\",this.props.appList);if(this.props.appList.length>0){var appID=this.props.appList[0].id;this.setState({selectAppId:appID});this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"D\" /* privilegeGetList */])({appid:appID,appList:this.props.appList}));}else{this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"D\" /* privilegeGetList */])({appid:null}));}}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(newProps){this.setState({showLoading:false});if(this.state.selectAppId==''&&this.props.appList.length>0){var appID=this.props.appList[0].id;this.setState({selectAppId:appID});}}},{key:'handleEditClick',value:function handleEditClick(privilegeInfo){//console.log(\"edit:\" + JSON.stringify(privilegeInfo));\nthis.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"C\" /* privilegeEdit */])(privilegeInfo));}},{key:'getAppIcon',value:function getAppIcon(appInfo){var appIcon=\"appstore\";var appType=appInfo.applicationType;var app=__WEBPACK_IMPORTED_MODULE_5__constants_baseConfig__[\"a\" /* ApplicationTypes */].find(function(app){return app.key===appType;});if(app){appIcon=app.icon;}return appIcon;}},{key:'render',value:function render(){var _this2=this;var removeBtnDisabled=this.state.checkList.filter(function(item){return item.status;}).length>0?false:true;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'relative'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"s\" /* Layout */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Header,null,'\\u5E94\\u7528\\u6743\\u9650\\u5217\\u8868',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"H\" /* Tooltip */],{title:'\\u65B0\\u589E\\u6743\\u9650'},'\\xA0',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Button */],{type:'primary',shape:'circle',icon:'plus',onClick:this.handleAddClick})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"H\" /* Tooltip */],{title:'\\u5220\\u9664\\u6743\\u9650'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"w\" /* Popconfirm */],{title:'\\u786E\\u8BA4\\u8981\\u5220\\u9664\\u9009\\u4E2D\\u6743\\u9650\\u9879?',onConfirm:this.confirmDelete,onCancel:this.cancelDelete,okText:'\\u786E\\u5B9A',cancelText:'\\u53D6\\u6D88'},'\\xA0',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Button */],{type:'primary',shape:'circle',icon:'delete',disabled:removeBtnDisabled,onClick:this.handleDeleteClick})))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Content,{className:'content'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"z\" /* Row */],{style:{border:'solid 1px rgba(87, 83, 83, 0.13)',padding:'5px'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Col */],{span:6},'\\u6240\\u5C5E\\u5E94\\u7528\\xA0',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"A\" /* Select */],{style:{width:120},onChange:this.handleAppChange,placeholder:'\\u8BF7\\u9009\\u62E9\\u5E94\\u7528',defaultValue:this.state.selectAppId},this.props.appList.map(function(app,i){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Option,{key:app.id,value:app.id},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"p\" /* Icon */],{type:_this2.getAppIcon(app)}),app.displayName);}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Col */],{span:6},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Button */],{type:'primary',icon:'search',onClick:this.handleSearch},'\\u67E5\\u8BE2'))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"B\" /* Spin */],{spinning:this.state.showLoading},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"D\" /* Table */],{rowKey:'id',columns:this.privilegeTableColumns,dataSource:this.props.privilegeList})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__privilegeEdit__[\"a\" /* default */],null))));}}]);return PrivilegeTable;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);function privilegetableMapStateToProps(state){//console.log(\"privilegetableMapStateToProps:\" + JSON.stringify(state.app));\nreturn{appList:state.app.appList,operInfo:state.privilege.operInfo,privilegeList:state.privilege.privilegeList};}function privilegetableMapDispatchToProps(dispatch){return{dispatch:dispatch};}/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_1_react_redux__[\"b\" /* connect */])(privilegetableMapStateToProps,privilegetableMapDispatchToProps)(PrivilegeTable));\n\n/***/ }),\n\n/***/ 2070:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__ = __webpack_require__(1281);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var FormItem=__WEBPACK_IMPORTED_MODULE_2_antd__[\"o\" /* Form */].Item;var Option=__WEBPACK_IMPORTED_MODULE_2_antd__[\"A\" /* Select */].Option;var PrivilegeEditor=function(_Component){_inherits(PrivilegeEditor,_Component);function PrivilegeEditor(){var _ref;var _temp,_this,_ret;_classCallCheck(this,PrivilegeEditor);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=PrivilegeEditor.__proto__||Object.getPrototypeOf(PrivilegeEditor)).call.apply(_ref,[this].concat(args))),_this),_this.state={dialogTitle:'',visible:false,selectAppId:'',privilegeInfo:{}},_this.handleAppTypeChange=function(e){console.log('menu click',e);_this.setState({selectAppId:e});},_this.handleOk=function(e){e.preventDefault();var operType=_this.props.operInfo.operType;_this.props.form.validateFields(function(err,values){if(!err){//values.applicationId = this.state.selectAppId;\nconsole.log('Received values of form: ',values);var method=operType=='add'?'POST':\"PUT\";_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"E\" /* privilegeSave */])({method:method,data:values,searchAppid:_this.state.selectAppId}));}});},_this.handleCancel=function(e){_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"B\" /* privilegeDialogClose */])());},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(PrivilegeEditor,[{key:'componentWillReceiveProps',value:function componentWillReceiveProps(newProps){var activePrivilege=newProps.activePrivilege,selectAppId=newProps.selectAppId;var operType=newProps.operInfo.operType;if(operType=='edit'){if(activePrivilege){for(var i in this.props.appList){var appInfo=this.props.appList[i];if(appInfo.id==activePrivilege.applicationId){this.setState({selectAppId:appInfo.id});}}}this.setState({visible:true,dialogTitle:'权限编辑',privilegeInfo:activePrivilege});}else if(operType=='add'){var newAppId='';if(selectAppId!=''){newAppId=selectAppId;}this.setState({visible:true,dialogTitle:'权限新增',privilegeInfo:{applicationId:newAppId},selectAppId:newAppId});}else{this.props.form.resetFields();this.setState({visible:false});}}},{key:'render',value:function render(){var getFieldDecorator=this.props.form.getFieldDecorator;var formItemLayout={labelCol:{span:6},wrapperCol:{span:14}};return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"u\" /* Modal */],{width:600,title:this.state.dialogTitle,maskClosable:false,visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"z\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Col */],{span:12},' ',__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('span',null,'\\u6743\\u9650\\u7F16\\u53F7'),hasFeedback:true}),getFieldDecorator('id',{initialValue:this.state.privilegeInfo.id,rules:[{required:true,message:'请输入权限编号!'}]})(__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"q\" /* Input */],{style:{float:'left'}})))),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Col */],{span:12},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('span',null,'\\u6743\\u9650\\u540D\\u79F0'),hasFeedback:true}),getFieldDecorator('name',{initialValue:this.state.privilegeInfo.name,rules:[{required:true,message:'请输入权限名称!'}]})(__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"q\" /* Input */],null))))),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"z\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Col */],{span:12},' ',__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('span',null,'\\u5206\\u7EC4\\u540D\\u79F0'),hasFeedback:true}),getFieldDecorator('groups',{initialValue:this.state.privilegeInfo.groups,rules:[{required:true,message:'请输入分组名称!'}]})(__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"q\" /* Input */],{style:{float:'left'}})))),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Col */],{span:12},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('span',null,'\\u6240\\u5C5E\\u5E94\\u7528'),hasFeedback:true}),getFieldDecorator('applicationId',{initialValue:this.state.privilegeInfo.applicationId})(__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"A\" /* Select */],{style:{width:120},onChange:this.handleAppTypeChange},this.props.appList.map(function(app,i){return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(Option,{key:app.id,value:app.id},app.displayName);})))))));}}]);return PrivilegeEditor;}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]);function mapStateToProps(state){//console.log(\"privilegeEditMapStateToProps:\" + JSON.stringify(state));\nreturn{appList:state.app.appList,operInfo:state.privilege.operInfo,activePrivilege:state.privilege.activePrivilege,selectAppId:state.privilege.selectAppId};}function mapDispatchToProps(dispatch){return{dispatch:dispatch};}var WrappedRegistrationForm=__WEBPACK_IMPORTED_MODULE_2_antd__[\"o\" /* Form */].create()(PrivilegeEditor);/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"b\" /* connect */])(mapStateToProps,mapDispatchToProps)(WrappedRegistrationForm));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/32.280d9585.chunk.js","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Layout, Table, Button, Checkbox, Select, Row, Col, Menu, Icon, Input, Popconfirm, message, Tooltip, Spin } from 'antd';\r\nimport { privilegeAdd, privilegeEdit, privilegeDelete, privilegeGetList, appListGet, privilegeDialogClose } from '../../actions/actionCreator';\r\nimport PrivilegeEditor from './privilegeEdit';\r\nimport { ApplicationTypes } from '../../../constants/baseConfig'\r\n\r\nconst Option = Select.Option;\r\nconst { Header, Sider, Content } = Layout;\r\n\r\nclass PrivilegeTable extends Component {\r\n    state = {\r\n        condition: { privilegeName: '', appID: '' },\r\n        checkList: [],\r\n        selectAppId: '',\r\n        showLoading: false\r\n    }\r\n    componentWillMount() {\r\n        console.log(\"加载权限列表：\", this.props.appList);\r\n        if (this.props.appList.length > 0) {\r\n            let appID = this.props.appList[0].id;\r\n            this.setState({ selectAppId: appID });\r\n            this.props.dispatch(privilegeGetList({ appid: appID, appList: this.props.appList }));\r\n        } else {\r\n            this.props.dispatch(privilegeGetList({ appid: null }));\r\n        }\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        this.setState({ showLoading: false });\r\n        if (this.state.selectAppId == '' && this.props.appList.length > 0) {\r\n            let appID = this.props.appList[0].id;\r\n            this.setState({ selectAppId: appID });\r\n        }\r\n    }\r\n    privilegeTableColumns = [\r\n        {\r\n            title: '选择', dataIndex: 'id', key: 'check', render: (text, recored) => (\r\n                <span>\r\n                    <Checkbox defaultChecked={false} onChange={(e) => this.handleCheckChange(e, recored.id)} />\r\n                </span>\r\n            )\r\n        },\r\n        { title: '权限名', dataIndex: 'name', key: 'name' },\r\n        { title: '分组名', dataIndex: 'groups', key: 'groups' },\r\n        {\r\n            title: '对应工具', dataIndex: 'applicationId', key: 'applicationId', render: (text, recored) => {\r\n                let appName = '';\r\n                for (let i in this.props.appList) {\r\n                    if (this.props.appList[i].id == recored.applicationId) {\r\n                        appName = this.props.appList[i].displayName;\r\n                        break;\r\n                    }\r\n                }\r\n                return (<span>{appName}</span>)\r\n            }\r\n        },\r\n        {\r\n            title: '编辑', dataIndex: 'edit', key: 'edit', render: (text, recored) => (\r\n                <Tooltip title=\"权限编辑\">\r\n                    <Button type='primary' shape='circle' icon='edit' size='small' onClick={(e) => this.handleEditClick(recored)} />\r\n                </Tooltip>\r\n            )\r\n        }\r\n    ];\r\n\r\n    handleAppChange = (appID) => {\r\n        console.log('handleAppChange，appID：', appID);\r\n        this.setState({ selectAppId: appID });\r\n    }\r\n    handleEditClick(privilegeInfo) {\r\n        //console.log(\"edit:\" + JSON.stringify(privilegeInfo));\r\n        this.props.dispatch(privilegeEdit(privilegeInfo));\r\n    }\r\n    handleAddClick = (e) => {\r\n        //console.log(\"add privilege\");\r\n        this.props.dispatch(privilegeAdd(this.state.selectAppId));\r\n    }\r\n\r\n    confirmDelete = (e) => {\r\n        let deleteIDs = [];\r\n        this.state.checkList.map((item, i) => {\r\n            if (item.status) {\r\n                deleteIDs.push(item.id);\r\n            }\r\n        });\r\n        console.log(\"确定删除：\", deleteIDs);\r\n        this.props.dispatch(privilegeDelete({ delKeys: deleteIDs, searchAppid: this.state.selectAppId }));\r\n    }\r\n    getAppIcon(appInfo) {\r\n        let appIcon = \"appstore\";\r\n        let appType = appInfo.applicationType;\r\n        let app = ApplicationTypes.find(app => app.key === appType);\r\n        if (app) {\r\n            appIcon = app.icon;\r\n        }\r\n        return appIcon;\r\n    }\r\n\r\n    cancelDelete = (e) => {\r\n        console.log(\"不删除\", e);\r\n    }\r\n    handleSearch = (e) => {\r\n        console.log(\"search\", this.state.selectAppId);\r\n        this.setState({ showLoading: true });\r\n        this.props.dispatch(privilegeGetList({ appid: this.state.selectAppId }));\r\n    }\r\n    handleCheckChange = (e, privilegeID) => {\r\n        //console.log(\"checkbox change：\" + JSON.stringify(e.target.checked));\r\n        let checked = e.target.checked;\r\n        let checkList = this.state.checkList.slice();\r\n        var hasValue = false;\r\n        for (var i in checkList) {\r\n            if (checkList[i].id == privilegeID) {\r\n                checkList[i].status = checked;\r\n                hasValue = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!hasValue) {\r\n            checkList.push({ id: privilegeID, status: checked });\r\n        }\r\n        this.setState({ checkList: checkList });\r\n    }\r\n\r\n    render() {\r\n        let removeBtnDisabled = this.state.checkList.filter((item) => item.status).length > 0 ? false : true;\r\n        return (\r\n            <div className=\"relative\">\r\n                <Layout>\r\n                    <Header>\r\n                        应用权限列表\r\n                        <Tooltip title=\"新增权限\">\r\n                            &nbsp;<Button type='primary' shape='circle' icon='plus' onClick={this.handleAddClick} />\r\n                        </Tooltip>\r\n                        <Tooltip title=\"删除权限\">\r\n                            <Popconfirm title=\"确认要删除选中权限项?\" onConfirm={this.confirmDelete} onCancel={this.cancelDelete} okText=\"确定\" cancelText=\"取消\">\r\n                                &nbsp;<Button type='primary' shape='circle' icon='delete' disabled={removeBtnDisabled} onClick={this.handleDeleteClick} />\r\n                            </Popconfirm>\r\n                        </Tooltip>\r\n                    </Header>\r\n                    <Content className='content'>\r\n                        <Row style={{ border: 'solid 1px rgba(87, 83, 83, 0.13)', padding: '5px' }}>\r\n                            {/* <Col span={6}>权限名称&nbsp;<Input placeholder='权限名称' maxLength=\"25\" style={{ width: '170px' }} onChange={this.handleSearchNameChange} /></Col> */}\r\n                            <Col span={6}>所属应用&nbsp;\r\n                                <Select style={{ width: 120 }} onChange={this.handleAppChange} placeholder='请选择应用' defaultValue={this.state.selectAppId}>\r\n                                    {\r\n                                        this.props.appList.map((app, i) => <Option key={app.id} value={app.id} ><Icon type={this.getAppIcon(app)} />{app.displayName}</Option>)\r\n                                    }\r\n                                </Select>\r\n                            </Col>\r\n                            <Col span={6}>\r\n                                <Button type=\"primary\" icon=\"search\" onClick={this.handleSearch}>查询</Button>\r\n                            </Col>\r\n                        </Row>\r\n                        <Spin spinning={this.state.showLoading}>\r\n                            <Table rowKey='id' columns={this.privilegeTableColumns} dataSource={this.props.privilegeList} />\r\n                        </Spin>\r\n                        <PrivilegeEditor />\r\n                    </Content>\r\n                </Layout>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction privilegetableMapStateToProps(state) {\r\n    //console.log(\"privilegetableMapStateToProps:\" + JSON.stringify(state.app));\r\n    return {\r\n        appList: state.app.appList,\r\n        operInfo: state.privilege.operInfo,\r\n        privilegeList: state.privilege.privilegeList\r\n    }\r\n}\r\n\r\nfunction privilegetableMapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch\r\n    };\r\n}\r\n\r\nexport default connect(privilegetableMapStateToProps, privilegetableMapDispatchToProps)(PrivilegeTable);\n\n\n// WEBPACK FOOTER //\n// ./src/privilegeManager/pages/privilege/privilegeTable.js","import { connect } from 'react-redux';\r\nimport React, { Component } from 'react'\r\nimport { Layout, Button, Modal, Row, Col, Form, Input, Menu, Select, message } from 'antd'\r\nimport { privilegeAdd, privilegeEdit, privilegeDialogClose, privilegeSave } from '../../actions/actionCreator';\r\n\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\n\r\nclass PrivilegeEditor extends Component {\r\n    state = {\r\n        dialogTitle: '',\r\n        visible: false,\r\n        selectAppId: '',\r\n        privilegeInfo: {}\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        let { activePrivilege, selectAppId } = newProps;\r\n        let { operType } = newProps.operInfo;\r\n        if (operType == 'edit') {\r\n            if (activePrivilege) {\r\n                for (let i in this.props.appList) {\r\n                    let appInfo = this.props.appList[i];\r\n                    if (appInfo.id == activePrivilege.applicationId) {\r\n                        this.setState({ selectAppId: appInfo.id });\r\n                    }\r\n                }\r\n            }\r\n            this.setState({ visible: true, dialogTitle: '权限编辑', privilegeInfo: activePrivilege });\r\n        } else if (operType == 'add') {\r\n            let newAppId = ''\r\n            if (selectAppId != '') {\r\n                newAppId = selectAppId;\r\n            }\r\n            this.setState({ visible: true, dialogTitle: '权限新增', privilegeInfo: { applicationId: newAppId }, selectAppId: newAppId });\r\n        } else {\r\n            this.props.form.resetFields();\r\n            this.setState({ visible: false });\r\n        }\r\n    }\r\n    handleAppTypeChange = (e) => {\r\n        console.log('menu click', e);\r\n        this.setState({ selectAppId: e });\r\n    }\r\n    handleOk = (e) => {\r\n        e.preventDefault();\r\n        let { operType } = this.props.operInfo;\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                //values.applicationId = this.state.selectAppId;\r\n                console.log('Received values of form: ', values);\r\n                let method = (operType == 'add' ? 'POST' : \"PUT\");\r\n                this.props.dispatch(privilegeSave({ method: method, data: values, searchAppid: this.state.selectAppId }));\r\n            }\r\n        });\r\n    }\r\n    handleCancel = (e) => {\r\n        this.props.dispatch(privilegeDialogClose());\r\n    }\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: { span: 6 },\r\n            wrapperCol: { span: 14 },\r\n        };\r\n        return (\r\n            <Modal width={600} title={this.state.dialogTitle} maskClosable={false} visible={this.state.visible}\r\n                onOk={this.handleOk} onCancel={this.handleCancel} >\r\n                <Row>\r\n                    <Col span={12}> <FormItem\r\n                        {...formItemLayout}\r\n                        label={(\r\n                            <span>\r\n                                权限编号\r\n                            </span>\r\n                        )}\r\n                        hasFeedback>\r\n                        {getFieldDecorator('id', {\r\n                            initialValue: this.state.privilegeInfo.id,\r\n                            rules: [{ required: true, message: '请输入权限编号!' }],\r\n                        })(\r\n                            <Input style={{ float: 'left' }} />\r\n                            )}\r\n                    </FormItem></Col>\r\n                    <Col span={12}>\r\n                        <FormItem\r\n                            {...formItemLayout}\r\n                            label={(\r\n                                <span>\r\n                                    权限名称\r\n                            </span>\r\n                            )}\r\n                            hasFeedback>\r\n                            {getFieldDecorator('name', {\r\n                                initialValue: this.state.privilegeInfo.name,\r\n                                rules: [{ required: true, message: '请输入权限名称!' }],\r\n                            })(\r\n                                <Input />\r\n                                )}\r\n                        </FormItem>\r\n                    </Col>\r\n\r\n                </Row>\r\n                <Row >\r\n                    <Col span={12}> <FormItem\r\n                        {...formItemLayout}\r\n                        label={(\r\n                            <span>\r\n                                分组名称\r\n                            </span>\r\n                        )}\r\n                        hasFeedback>\r\n                        {getFieldDecorator('groups', {\r\n                            initialValue: this.state.privilegeInfo.groups,\r\n                            rules: [{ required: true, message: '请输入分组名称!' }],\r\n                        })(\r\n                            <Input style={{ float: 'left' }} />\r\n                            )}\r\n                    </FormItem></Col>\r\n                    <Col span={12}>\r\n                        <FormItem\r\n                            {...formItemLayout}\r\n                            label={(\r\n                                <span>\r\n                                    所属应用\r\n                            </span>\r\n                            )}\r\n                            hasFeedback>\r\n                            {getFieldDecorator('applicationId', {\r\n                                initialValue: this.state.privilegeInfo.applicationId,\r\n                            })(\r\n                                <Select style={{ width: 120 }} onChange={this.handleAppTypeChange}>\r\n                                    {\r\n                                        this.props.appList.map((app, i) => <Option key={app.id} value={app.id}>{app.displayName}</Option>)\r\n                                    }\r\n                                </Select>\r\n                                )}\r\n                        </FormItem>\r\n                    </Col>\r\n\r\n                </Row>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    //console.log(\"privilegeEditMapStateToProps:\" + JSON.stringify(state));\r\n    return {\r\n        appList: state.app.appList,\r\n        operInfo: state.privilege.operInfo,\r\n        activePrivilege: state.privilege.activePrivilege,\r\n        selectAppId: state.privilege.selectAppId\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch\r\n    };\r\n}\r\nconst WrappedRegistrationForm = Form.create()(PrivilegeEditor);\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WrappedRegistrationForm);\n\n\n// WEBPACK FOOTER //\n// ./src/privilegeManager/pages/privilege/privilegeEdit.js"],"sourceRoot":""}