{"version":3,"sources":["../static/js/36.5af8e3e1.chunk.js","customerManager/pages/repeatCustomer.js"],"names":["webpackJsonp","2165","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","mapStateToProps","state","showLoading","search","repeatJudgeInfo","mapDispatchToProps","dispatch","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react_redux__","__WEBPACK_IMPORTED_MODULE_1__actions_actionCreator__","__WEBPACK_IMPORTED_MODULE_2_react__","__WEBPACK_IMPORTED_MODULE_2_react___default","n","__WEBPACK_IMPORTED_MODULE_3_antd__","__WEBPACK_IMPORTED_MODULE_4__search_less__","__WEBPACK_IMPORTED_MODULE_5_moment__","__WEBPACK_IMPORTED_MODULE_5_moment___default","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","Step","repeatCustomerStyle","color","margin","RepeatCustomer","_Component","_ref","_temp","_this","_ret","this","_len","arguments","args","Array","_key","getPrototypeOf","apply","concat","keyword","handleKeyWordChange","e","setState","handleSearch","console","log","warning","description","followUpResponses","mainPhone","replace","a","createElement","spinning","className","style","width","placeholder","onChange","onPressEnter","type","onClick","marginRight","customerName","direction","current","map","result","index","desc","userTrueName","departmentName","title","followUpTime","format","followUpContents","status"],"mappings":"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","file":"static/js/36.5af8e3e1.chunk.js","sourcesContent":["webpackJsonp([36],{\n\n/***/ 2165:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__actions_actionCreator__ = __webpack_require__(1302);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__search_less__ = __webpack_require__(1721);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__search_less___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__search_less__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Step=__WEBPACK_IMPORTED_MODULE_3_antd__[\"C\" /* Steps */].Step;var repeatCustomerStyle={color:'#169bd5',margin:'10px 0'};var RepeatCustomer=function(_Component){_inherits(RepeatCustomer,_Component);function RepeatCustomer(){var _ref;var _temp,_this,_ret;_classCallCheck(this,RepeatCustomer);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=RepeatCustomer.__proto__||Object.getPrototypeOf(RepeatCustomer)).call.apply(_ref,[this].concat(args))),_this),_this.state={keyword:''},_this.handleKeyWordChange=function(e){_this.setState({keyword:e.target.value});},_this.handleSearch=function(e){console.log(\"查询条件:\",_this.state.keyword);if(_this.state.keyword===\"\"){__WEBPACK_IMPORTED_MODULE_3_antd__[\"L\" /* notification */].warning({description:'客户电话号码不能为空'});return;}_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_1__actions_actionCreator__[\"A\" /* setLoadingVisible */])(true));_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_1__actions_actionCreator__[\"s\" /* getRepeatJudgeInfo */])(_this.state.keyword));},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(RepeatCustomer,[{key:'componentWillMount',value:function componentWillMount(){}//重客检索\n},{key:'render',value:function render(){var showLoading=this.props.showLoading;var repeatJudgeInfo=this.props.repeatJudgeInfo;if(repeatJudgeInfo){repeatJudgeInfo.followUpResponses=repeatJudgeInfo.followUpResponses||[];if(repeatJudgeInfo.mainPhone){repeatJudgeInfo.mainPhone=repeatJudgeInfo.mainPhone.replace(/([0-9]{3})[0-9]+([0-9]{4})/g,'$1****$2');}}return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"B\" /* Spin */],{spinning:showLoading},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('div',{className:'searchBox'},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('p',null,__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"q\" /* Input */],{style:{width:'450px'},placeholder:'\\u8BF7\\u8F93\\u5165\\u5BA2\\u6237\\u7535\\u8BDD\\u53F7\\u7801',value:this.state.keyword,onChange:this.handleKeyWordChange,onPressEnter:this.handleSearch}),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"g\" /* Button */],{type:'primary',className:'searchButton',onClick:this.handleSearch},'\\u641C\\u7D22'))),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('div',null,repeatJudgeInfo===null?__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('p',{style:repeatCustomerStyle},'\\u6682\\u65E0\\u8BB0\\u5F55!'):__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('p',{style:repeatCustomerStyle},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('b',{style:{marginRight:'10px'}},repeatJudgeInfo.customerName),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('b',null,repeatJudgeInfo.mainPhone)),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"C\" /* Steps */],{direction:'vertical',current:1},repeatJudgeInfo.followUpResponses.map(function(result,index){var desc=__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('p',null,'\\u4E1A\\u52A1\\u5458\\uFF1A',result.userTrueName),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('p',null,'\\u5206\\u884C\\uFF08\\u7EC4\\uFF09\\u540D\\u79F0\\uFF1A',result.departmentName));var title=__WEBPACK_IMPORTED_MODULE_5_moment___default()(result.followUpTime).format(\"YYYY-MM-DD HH:mm:ss\")+\" \"+result.followUpContents;return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(Step,{key:index,status:'process',title:title,description:desc});})))));}}]);return RepeatCustomer;}(__WEBPACK_IMPORTED_MODULE_2_react__[\"Component\"]);function mapStateToProps(state){return{showLoading:state.search.showLoading,repeatJudgeInfo:state.search.repeatJudgeInfo};}function mapDispatchToProps(dispatch){return{dispatch:dispatch};}/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"b\" /* connect */])(mapStateToProps,mapDispatchToProps)(RepeatCustomer));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/36.5af8e3e1.chunk.js","import {connect} from 'react-redux';\r\nimport {getRepeatJudgeInfo, setLoadingVisible} from '../actions/actionCreator';\r\nimport React, {Component} from 'react';\r\nimport {Button, Spin, Input, Steps, notification} from 'antd';\r\nimport './search.less';\r\nimport moment from 'moment';\r\n\r\nconst Step = Steps.Step;\r\nconst repeatCustomerStyle = {\r\n    color: '#169bd5',\r\n    margin: '10px 0'\r\n}\r\n\r\nclass RepeatCustomer extends Component {\r\n    state = {\r\n        keyword: ''\r\n    }\r\n    componentWillMount() {\r\n\r\n    }\r\n    handleKeyWordChange = (e) => {\r\n        this.setState({keyword: e.target.value});\r\n    }\r\n    //重客检索\r\n    handleSearch = (e) => {\r\n        console.log(\"查询条件:\", this.state.keyword);\r\n        if (this.state.keyword === \"\") {\r\n            notification.warning({\r\n                description: '客户电话号码不能为空',\r\n            });\r\n            return;\r\n        }\r\n        this.props.dispatch(setLoadingVisible(true));\r\n        this.props.dispatch(getRepeatJudgeInfo(this.state.keyword));\r\n    }\r\n\r\n    render() {\r\n        const showLoading = this.props.showLoading;\r\n        let repeatJudgeInfo = this.props.repeatJudgeInfo;\r\n        if (repeatJudgeInfo) {\r\n            repeatJudgeInfo.followUpResponses = repeatJudgeInfo.followUpResponses || [];\r\n            if (repeatJudgeInfo.mainPhone) {\r\n                repeatJudgeInfo.mainPhone = repeatJudgeInfo.mainPhone.replace(/([0-9]{3})[0-9]+([0-9]{4})/g, '$1****$2');\r\n            }\r\n        }\r\n        return (\r\n            <Spin spinning={showLoading}>\r\n                <div className=\"searchBox\">\r\n                    <p>\r\n                        <Input style={{width: '450px'}} placeholder='请输入客户电话号码' value={this.state.keyword} onChange={this.handleKeyWordChange} onPressEnter={this.handleSearch} />\r\n                        <Button type=\"primary\" className='searchButton' onClick={this.handleSearch}>搜索</Button>\r\n                    </p>\r\n                </div>\r\n                <div>\r\n                    {\r\n                        (repeatJudgeInfo === null) ? <p style={repeatCustomerStyle}>暂无记录!</p> : <div>\r\n                            <p style={repeatCustomerStyle}><b style={{marginRight: '10px'}}>{repeatJudgeInfo.customerName}</b><b>{repeatJudgeInfo.mainPhone}</b></p>\r\n                            <Steps direction=\"vertical\" current={1}>\r\n                                {\r\n                                    repeatJudgeInfo.followUpResponses.map((result, index) => {\r\n                                        let desc = <div><p>业务员：{result.userTrueName}</p><p>分行（组）名称：{result.departmentName}</p></div>;\r\n                                        let title = moment(result.followUpTime).format(\"YYYY-MM-DD HH:mm:ss\") + \" \" + result.followUpContents;\r\n                                        return (<Step key={index} status='process' title={title} description={desc} />)\r\n                                    })\r\n                                }\r\n                            </Steps>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </Spin>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        showLoading: state.search.showLoading,\r\n        repeatJudgeInfo: state.search.repeatJudgeInfo\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch\r\n    };\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RepeatCustomer);\n\n\n// WEBPACK FOOTER //\n// ./src/customerManager/pages/repeatCustomer.js"],"sourceRoot":""}