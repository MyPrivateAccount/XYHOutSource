{"version":3,"sources":["../static/js/28.faccbfb9.chunk.js","privilegeManager/pages/employee/empEdit.js","privilegeManager/pages/employee/empRoleEdit.js","webpack:///./src/privilegeManager/pages/employee/empRoleStyle.less?0eac","privilegeManager/pages/employee/empRoleStyle.less","privilegeManager/pages/employee/empManager.js"],"names":["webpackJsonp","1780","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","empDialogMapStateToProps","state","console","log","activeEmp","emp","operInfo","roleSource","role","privList","treeSource","org","activeTreeNode","permissionOrgTree","empDialogMapDispatchToProps","dispatch","__WEBPACK_IMPORTED_MODULE_0_react_redux__","__WEBPACK_IMPORTED_MODULE_2_react__","__WEBPACK_IMPORTED_MODULE_2_react___default","n","__WEBPACK_IMPORTED_MODULE_3_antd__","__WEBPACK_IMPORTED_MODULE_4__actions_actionCreator__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","FormItem","Item","Option","TreeNode","EmployeeEditor","_Component","_ref","_temp","_this","_ret","this","_len","arguments","args","Array","_key","getPrototypeOf","apply","concat","empInfo","dialogTitle","visible","empOrgId","componentWillMount","handleOk","e","preventDefault","operType","form","validateFields","err","values","newEmpInfo","assign","roles","filialeId","organizationId","method","JSON","stringify","handleCancel","newProps","_newProps$operInfo","result","setState","id","password","resetFields","getFieldDecorator","formItemLayout","labelCol","span","wrapperCol","treeNodes","loop","data","map","item","children","a","createElement","title","name","isLeaf","width","maskClosable","onOk","onCancel","label","hasFeedback","initialValue","userName","rules","required","message","trueName","phoneNumber","pattern","email","type","position","style","placeholder","priv","min","dropdownStyle","maxHeight","overflow","treeData","AddUserTree","WrappedRegistrationForm","1781","__WEBPACK_IMPORTED_MODULE_5__empRoleStyle_less__","CheckboxGroup","Group","EmployeeRoleEditor","roleOptions","checkedRoles","addRoles","removeRoles","oldRole","undefined","find","newRole","push","handleRoelChange","empRoleOperType","_this2","color","margin","options","onChange","1782","exports","content","transform","locals","1783","version","sources","names","mappings","file","sourcesContent","sourceRoot","2071","emptableMapStateToProps","empSearchResult","emptableMapDispatchToProps","__WEBPACK_IMPORTED_MODULE_1__actions_actionCreator__","__WEBPACK_IMPORTED_MODULE_4__empEdit__","__WEBPACK_IMPORTED_MODULE_5__empRoleEdit__","__WEBPACK_IMPORTED_MODULE_6__constants_searchCondition__","Header","Content","EmpManager","checkList","condition","isSearch","keyWords","roleId","OrganizationIds","empDataLoading","pagination","handleSearch","handleEmpRoleClick","appTableColumns","dataIndex","render","text","recored","defaultChecked","handleCheckChange","shape","size","icon","onClick","handleEditClick","onConfirm","handleResetPwd","cancelDelete","okText","cancelText","handleEmpDelete","deleteIds","status","handleAddClick","event","empId","checked","slice","hasValue","handleUserNameChange","empSearchCondition","pageIndex","pageSize","handleTableChange","filters","sorter","current","handleRoleChange","handleOrgChange","orgs","paginationInfo","total","totalCount","filter","className","verticalAlign","onPressEnter","allowClear","multiple","spinning","rowKey","record","columns","dataSource","extension"],"mappings":"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","file":"static/js/28.faccbfb9.chunk.js","sourcesContent":["webpackJsonp([28],{\n\n/***/ 1780:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__actions_actionCreators__ = __webpack_require__(479);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__actions_actionCreator__ = __webpack_require__(1281);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var FormItem=__WEBPACK_IMPORTED_MODULE_3_antd__[\"o\" /* Form */].Item;var Option=__WEBPACK_IMPORTED_MODULE_3_antd__[\"A\" /* Select */].Option;var TreeNode=__WEBPACK_IMPORTED_MODULE_3_antd__[\"J\" /* TreeSelect */].TreeNode;var EmployeeEditor=function(_Component){_inherits(EmployeeEditor,_Component);function EmployeeEditor(){var _ref;var _temp,_this,_ret;_classCallCheck(this,EmployeeEditor);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=EmployeeEditor.__proto__||Object.getPrototypeOf(EmployeeEditor)).call.apply(_ref,[this].concat(args))),_this),_this.state={empInfo:{},dialogTitle:'员工信息',visible:false,empOrgId:''},_this.componentWillMount=function(){_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_4__actions_actionCreator__[\"L\" /* roleGetList */])());//加载角色列表\n_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_4__actions_actionCreator__[\"k\" /* empGetPrivList */])());},_this.handleOk=function(e){e.preventDefault();var operType=_this.props.operInfo.operType;_this.props.form.validateFields(function(err,values){if(!err){console.log('Received values of form: ',values);var newEmpInfo=values;if(operType!='add'){newEmpInfo=Object.assign({},_this.props.activeEmp,values);newEmpInfo.roles=values.roles;}newEmpInfo.filialeId=values.organizationId;var method=operType=='add'?'POST':\"PUT\";console.log('method:'+method+',empInfo:'+JSON.stringify(newEmpInfo));_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_4__actions_actionCreator__[\"p\" /* empSave */])({method:method,empInfo:newEmpInfo,activeEmp:_this.props.activeEmp}));}});},_this.handleCancel=function(e){_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_4__actions_actionCreator__[\"i\" /* empDialogClose */])());},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(EmployeeEditor,[{key:'componentWillReceiveProps',value:function componentWillReceiveProps(newProps){var _newProps$operInfo=newProps.operInfo,operType=_newProps$operInfo.operType,result=_newProps$operInfo.result;if(operType=='edit'){this.setState({empInfo:newProps.activeEmp,visible:true,dialogTitle:'员工编辑'});}else if(operType=='add'){this.setState({empInfo:{organizationId:newProps.activeTreeNode.id,password:'123456'},visible:true,dialogTitle:'员工新增'});}else{this.setState({visible:false});this.props.form.resetFields();}}},{key:'render',// loadTreeSelectData = (e) => {//加载\n//     let { eventKey } = e.props;\n//     console.log(\"loadTreeselectData\", );\n//     this.props.dispatch(getOrgDataByID({ id: eventKey }));\n//     return new Promise((resolve) => {\n//         setTimeout(() => {\n//             resolve();\n//         }, 500);\n//     });\n// }\nvalue:function render(){var getFieldDecorator=this.props.form.getFieldDecorator;var formItemLayout={labelCol:{span:6},wrapperCol:{span:14}};var loop=function loop(data){return data.map(function(item){if(item.children){return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(TreeNode,{title:item.name,key:item.key,value:item.key},loop(item.children));}return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(TreeNode,{title:item.name,key:item.key,value:item.key,isLeaf:item.isLeaf});});};var treeNodes=loop(this.props.treeSource);return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"u\" /* Modal */],{width:600,title:this.state.dialogTitle,maskClosable:false,visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"z\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"k\" /* Col */],{span:12},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('span',null,'\\u5458\\u5DE5\\u7F16\\u53F7'),hasFeedback:true}),getFieldDecorator('userName',{initialValue:this.state.empInfo.userName,rules:[{required:true,message:'请输入员工编号!'}]})(__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"q\" /* Input */],null)))),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"k\" /* Col */],{span:12},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('span',null,'\\u5458\\u5DE5\\u59D3\\u540D'),hasFeedback:true}),getFieldDecorator('trueName',{initialValue:this.state.empInfo.trueName,rules:[{required:true,message:'请输入员工姓名!'}]})(__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"q\" /* Input */],null))))),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"z\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"k\" /* Col */],{span:12},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('span',null,'\\u8054\\u7CFB\\u7535\\u8BDD'),hasFeedback:true}),getFieldDecorator('phoneNumber',{initialValue:this.state.empInfo.phoneNumber,rules:[{pattern:'^((1[0-9][0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,5-9]))\\\\d{8}$',message:'不是有效的手机号码!'},{required:true,message:'请输入联系电话!'}]})(__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"q\" /* Input */],null)))),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"k\" /* Col */],{span:12},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('span',null,'Email'),hasFeedback:true}),getFieldDecorator('email',{initialValue:this.state.empInfo.email,rules:[{type:'email',message:'输入邮件地址不正确!'}]})(__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"q\" /* Input */],null))))),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"z\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"k\" /* Col */],{span:12},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('span',null,'\\u804C\\u7EA7'),hasFeedback:true}),getFieldDecorator('position',{initialValue:this.state.empInfo.position})(__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"A\" /* Select */],{style:{width:200},placeholder:'\\u8BF7\\u9009\\u62E9\\u804C\\u7EA7'},this.props.privList.map(function(priv,i){return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(Option,{key:priv.value},priv.key);}))))),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"k\" /* Col */],{span:12},this.props.operInfo.operType=='add'?__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('span',null,'\\u521D\\u59CB\\u5BC6\\u7801'),hasFeedback:true}),getFieldDecorator('password',{initialValue:this.state.empInfo.password,rules:[{min:6,message:'请输入至少6位密码!'},{required:true,message:'请输入初始密码!'}]})(__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"q\" /* Input */],{type:'password'}))):null)),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"z\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"k\" /* Col */],{span:12},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('span',null,'\\u6240\\u5C5E\\u90E8\\u95E8'),hasFeedback:true}),getFieldDecorator('organizationId',{initialValue:this.state.empInfo.organizationId,rules:[{required:true,message:'请选择所属部门!'}]})(__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"J\" /* TreeSelect */],{style:{width:300},dropdownStyle:{maxHeight:400,overflow:'auto'},treeData:this.props.permissionOrgTree.AddUserTree,placeholder:'\\u8BF7\\u9009\\u62E9\\u6240\\u5C5E\\u90E8\\u95E8'},treeNodes))))));}}]);return EmployeeEditor;}(__WEBPACK_IMPORTED_MODULE_2_react__[\"Component\"]);function empDialogMapStateToProps(state){console.log(\"empDialogMapStateToProps:\",state);return{activeEmp:state.emp.activeEmp,operInfo:state.emp.operInfo,roleSource:state.role.roleSource,privList:state.emp.privList,treeSource:state.org.treeSource,activeTreeNode:state.org.activeTreeNode,permissionOrgTree:state.org.permissionOrgTree};}function empDialogMapDispatchToProps(dispatch){return{dispatch:dispatch};}var WrappedRegistrationForm=__WEBPACK_IMPORTED_MODULE_3_antd__[\"o\" /* Form */].create()(EmployeeEditor);/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"b\" /* connect */])(empDialogMapStateToProps,empDialogMapDispatchToProps)(WrappedRegistrationForm));\n\n/***/ }),\n\n/***/ 1781:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__actions_actionCreators__ = __webpack_require__(479);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__actions_actionCreator__ = __webpack_require__(1281);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__empRoleStyle_less__ = __webpack_require__(1782);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__empRoleStyle_less___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__empRoleStyle_less__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var CheckboxGroup=__WEBPACK_IMPORTED_MODULE_3_antd__[\"j\" /* Checkbox */].Group;var EmployeeRoleEditor=function(_Component){_inherits(EmployeeRoleEditor,_Component);function EmployeeRoleEditor(){var _ref;var _temp,_this,_ret;_classCallCheck(this,EmployeeRoleEditor);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=EmployeeRoleEditor.__proto__||Object.getPrototypeOf(EmployeeRoleEditor)).call.apply(_ref,[this].concat(args))),_this),_this.state={dialogTitle:'员工权限',visible:false,roleOptions:[],checkedRoles:[]//选中\n},_this.componentWillMount=function(){_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_4__actions_actionCreator__[\"L\" /* roleGetList */])());//加载角色列表\n},_this.handleOk=function(e){var addRoles=_this.state.checkedRoles,removeRoles=[];if(_this.props.activeEmp.roles){_this.props.activeEmp.roles.map(function(oldRole){if(_this.state.checkedRoles.find(function(newRole){return newRole==oldRole;})==undefined){removeRoles.push(oldRole);}});}console.log(\"addroles,removeroles,\",addRoles,removeRoles);_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_4__actions_actionCreator__[\"o\" /* empRoleSave */])({addRoles:addRoles,removeRoles:removeRoles,userName:_this.props.activeEmp.userName}));},_this.handleCancel=function(e){_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_4__actions_actionCreator__[\"i\" /* empDialogClose */])());},_this.handleRoelChange=function(e){console.log(\"角色选择\",e);_this.setState({checkedRoles:e});},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(EmployeeRoleEditor,[{key:'componentWillReceiveProps',value:function componentWillReceiveProps(newProps){var empRoleOperType=newProps.operInfo.empRoleOperType;var roleOptions=[];console.log(newProps.activeEmp);newProps.roleSource.map(function(role){roleOptions.push({label:role.name,value:role.name});});console.log(\"当前用户：\",newProps.activeEmp.roles);this.setState({roleOptions:roleOptions,checkedRoles:newProps.activeEmp.roles});if(empRoleOperType=='edit'){this.setState({visible:true,dialogTitle:'员工权限'});}else{this.setState({visible:false});}}},{key:'render',value:function render(){var _this2=this;return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"u\" /* Modal */],{width:600,title:this.state.dialogTitle,maskClosable:false,visible:this.state.visible,onOk:function onOk(e){return _this2.handleOk(e);},onCancel:this.handleCancel},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('div',{style:{color:'rgba(0, 0, 0, 0.85)'}},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"z\" /* Row */],{style:{margin:'2px'}},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"k\" /* Col */],{span:3},'\\u7528\\u6237\\u540D\\uFF1A'),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"k\" /* Col */],{span:21},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('b',null,this.props.activeEmp.trueName))),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"z\" /* Row */],{style:{margin:'2px'}},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"k\" /* Col */],{span:3},'\\u6240\\u5C5E\\u89D2\\u8272\\uFF1A'),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"k\" /* Col */],{span:21},' ',__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(CheckboxGroup,{options:this.state.roleOptions,value:this.state.checkedRoles,onChange:this.handleRoelChange})))));}}]);return EmployeeRoleEditor;}(__WEBPACK_IMPORTED_MODULE_2_react__[\"Component\"]);function empDialogMapStateToProps(state){//console.log(\"empRoleManagerMapStateToProps:====\", state);\nreturn{activeEmp:state.emp.activeEmp,operInfo:state.emp.operInfo,roleSource:state.role.roleSource};}function empDialogMapDispatchToProps(dispatch){return{dispatch:dispatch};}/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"b\" /* connect */])(empDialogMapStateToProps,empDialogMapDispatchToProps)(EmployeeRoleEditor));\n\n/***/ }),\n\n/***/ 1782:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1783);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(477)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js!./empRoleStyle.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js!./empRoleStyle.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 1783:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(476)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".ant-checkbox-wrapper{margin-left:0!important;margin-right:8px}\", \"\", {\"version\":3,\"sources\":[\"E:/work/XYH/xinyaohang/DesktopPortal/src/privilegeManager/pages/employee/empRoleStyle.less\"],\"names\":[],\"mappings\":\"AAAA,sBACE,wBAA0B,AAC1B,gBAAkB,CACnB\",\"file\":\"empRoleStyle.less\",\"sourcesContent\":[\".ant-checkbox-wrapper {\\n  margin-left: 0 !important;\\n  margin-right: 8px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 2071:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__actions_actionCreator__ = __webpack_require__(1281);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_antd__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__empEdit__ = __webpack_require__(1780);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__empRoleEdit__ = __webpack_require__(1781);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_searchCondition__ = __webpack_require__(1764);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Header=__WEBPACK_IMPORTED_MODULE_3_antd__[\"s\" /* Layout */].Header,Content=__WEBPACK_IMPORTED_MODULE_3_antd__[\"s\" /* Layout */].Content;var Option=__WEBPACK_IMPORTED_MODULE_3_antd__[\"A\" /* Select */].Option;var TreeNode=__WEBPACK_IMPORTED_MODULE_3_antd__[\"J\" /* TreeSelect */].TreeNode;var EmpManager=function(_Component){_inherits(EmpManager,_Component);function EmpManager(){var _ref;var _temp,_this,_ret;_classCallCheck(this,EmpManager);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=EmpManager.__proto__||Object.getPrototypeOf(EmpManager)).call.apply(_ref,[this].concat(args))),_this),_this.state={checkList:[],condition:{isSearch:true,keyWords:'',roleId:'',OrganizationIds:[]},//条件\nempDataLoading:false,pagination:{}},_this.componentWillMount=function(){if(_this.props.permissionOrgTree.AddUserTree.length===0){_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_1__actions_actionCreator__[\"t\" /* orgGetPermissionTree */])(\"UserInfoCreate\"));}_this.handleSearch();},_this.handleEmpRoleClick=function(empInfo){console.log(\"员工编辑：\",empInfo);_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_1__actions_actionCreator__[\"n\" /* empRoleEdit */])(empInfo));},_this.appTableColumns=[{title:'选择',dataIndex:'clientID',key:'check',render:function render(text,recored){return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('span',null,__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"j\" /* Checkbox */],{defaultChecked:false,onChange:function onChange(e){return _this.handleCheckChange(e,recored);}}));}},{title:'用户名',dataIndex:'userName',key:'userName'},{title:'真实姓名',dataIndex:'trueName',key:'trueName'},{title:'联系电话',dataIndex:'phoneNumber',key:'phoneNumber'},{title:'邮箱',dataIndex:'email',key:'email'},{title:'编辑',dataIndex:'edit',key:'edit',render:function render(text,recored){return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('span',null,__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"H\" /* Tooltip */],{title:'\\u7528\\u6237\\u7F16\\u8F91'},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"g\" /* Button */],{type:'primary',shape:'circle',size:'small',icon:'edit',onClick:function onClick(e){return _this.handleEditClick(recored);}})),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"H\" /* Tooltip */],{title:'\\u7528\\u6237\\u6743\\u9650\\u8BBE\\u7F6E'},'\\xA0',__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"g\" /* Button */],{type:'primary',shape:'circle',size:'small',icon:'team',onClick:function onClick(e){return _this.handleEmpRoleClick(recored);}})),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"H\" /* Tooltip */],{title:'\\u91CD\\u7F6E\\u5BC6\\u7801'},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"w\" /* Popconfirm */],{title:'\\u786E\\u8BA4\\u8981\\u91CD\\u7F6E\\u9009\\u4E2D\\u7528\\u6237\\u5BC6\\u7801?',onConfirm:function onConfirm(e){return _this.handleResetPwd(recored);},onCancel:_this.cancelDelete,okText:'\\u786E\\u5B9A',cancelText:'\\u53D6\\u6D88'},'\\xA0',__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"g\" /* Button */],{type:'primary',shape:'circle',size:'small',icon:'retweet'}))));}}],_this.handleEmpDelete=function(e){//员工删除\nvar deleteIds=[];_this.state.checkList.map(function(item,i){if(item.status==true){deleteIds.push(item.id);}});console.log(\"删除列表：\",deleteIds);_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_1__actions_actionCreator__[\"h\" /* empDelete */])(deleteIds));},_this.handleResetPwd=function(empInfo){//重置密码\nconsole.log(\"重置密码：\",empInfo);_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_1__actions_actionCreator__[\"m\" /* empRestPwd */])(empInfo.userName));},_this.handleAddClick=function(event){console.log('handleAddClick');_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_1__actions_actionCreator__[\"g\" /* empAdd */])());},_this.handleEditClick=function(empInfo){console.log(\"handleEditClick\",empInfo);_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_1__actions_actionCreator__[\"j\" /* empEdit */])(empInfo));},_this.handleCheckChange=function(e,empInfo){//console.log(\"checkbox change：\" + JSON.stringify(e.target.checked));\nvar empId=empInfo.id;var checked=e.target.checked;var checkList=_this.state.checkList.slice();var hasValue=false;for(var i in checkList){if(checkList[i].id==empId){checkList[i].status=checked;hasValue=true;break;}}if(!hasValue){checkList.push({id:empId,status:checked});}_this.setState({checkList:checkList});},_this.handleUserNameChange=function(e){//console.log(\"输入内容：\", e.target.value);\nvar condition=Object.assign({},_this.state.condition);condition.keyWords=e.target.value;_this.setState({condition:condition});},_this.handleSearch=function(e){__WEBPACK_IMPORTED_MODULE_6__constants_searchCondition__[\"a\" /* default */].empSearchCondition=_this.state.condition;__WEBPACK_IMPORTED_MODULE_6__constants_searchCondition__[\"a\" /* default */].empSearchCondition.pageIndex=0;__WEBPACK_IMPORTED_MODULE_6__constants_searchCondition__[\"a\" /* default */].empSearchCondition.pageSize=10;console.log(\"查询条件\",__WEBPACK_IMPORTED_MODULE_6__constants_searchCondition__[\"a\" /* default */]);_this.setState({empDataLoading:true});_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_1__actions_actionCreator__[\"l\" /* empListGet */])(__WEBPACK_IMPORTED_MODULE_6__constants_searchCondition__[\"a\" /* default */].empSearchCondition));},_this.handleTableChange=function(pagination,filters,sorter){__WEBPACK_IMPORTED_MODULE_6__constants_searchCondition__[\"a\" /* default */].empSearchCondition.pageIndex=pagination.current-1;__WEBPACK_IMPORTED_MODULE_6__constants_searchCondition__[\"a\" /* default */].empSearchCondition.pageSize=pagination.pageSize;console.log(\"table改变，\",pagination);_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_1__actions_actionCreator__[\"l\" /* empListGet */])(__WEBPACK_IMPORTED_MODULE_6__constants_searchCondition__[\"a\" /* default */].empSearchCondition));},_this.handleRoleChange=function(role){console.log(\"角色变更:\",role);var condition=Object.assign({},_this.state.condition);condition.roleId=role;_this.setState({condition:condition});},_this.handleOrgChange=function(orgs){console.log(\"部门改变:\",orgs);var condition=Object.assign({},_this.state.condition);condition.OrganizationIds=orgs;_this.setState({condition:condition});},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(EmpManager,[{key:'componentWillReceiveProps',value:function componentWillReceiveProps(newProps){this.setState({empDataLoading:false});var paginationInfo={pageSize:newProps.empSearchResult.pageSize,current:newProps.empSearchResult.pageIndex,total:newProps.empSearchResult.totalCount};console.log(\"分页信息：\",paginationInfo);this.setState({pagination:paginationInfo});}},{key:'render',value:function render(){var removeBtnDisabled=this.state.checkList.filter(function(item){return item.status;}).length>0?false:true;var roleOptions=[];if(this.props.roleSource){this.props.roleSource.map(function(role){return roleOptions.push(__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(Option,{key:role.id},role.name));});}var loop=function loop(data){return data.map(function(item){if(item.children){return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(TreeNode,{title:item.name,key:item.key,value:item.key},loop(item.children));}return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(TreeNode,{title:item.name,key:item.key,value:item.key,isLeaf:item.isLeaf});});};var treeNodes=loop(this.props.treeSource);return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('div',{className:'relative'},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"s\" /* Layout */],null,__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(Header,null,'\\u5458\\u5DE5\\u5217\\u8868'),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(Content,null,__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"z\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"k\" /* Col */],{style:{margin:'7px 5px'}},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"z\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"k\" /* Col */],{span:6},'\\u7528\\u6237\\u540D: ',__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"q\" /* Input */],{value:this.state.condition.keyWords,style:{width:'70%',verticalAlign:'middle'},onPressEnter:this.handleSearch,onChange:this.handleUserNameChange})),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"k\" /* Col */],{span:6},'\\u6240\\u5C5E\\u89D2\\u8272: ',__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"A\" /* Select */],{style:{width:'70%'},value:this.state.condition.roleId,allowClear:true,onChange:this.handleRoleChange},roleOptions)),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"k\" /* Col */],{span:6},'\\u6240\\u5C5E\\u90E8\\u95E8:',__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"J\" /* TreeSelect */],{style:{width:'70%'},allowClear:true,multiple:true,dropdownStyle:{maxHeight:400,overflow:'auto'},onChange:this.handleOrgChange,value:this.state.condition.OrganizationIds,treeData:this.props.permissionOrgTree.AddUserTree},treeNodes)),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"k\" /* Col */],{span:6},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"g\" /* Button */],{type:'primary',icon:'search',onClick:this.handleSearch},'\\u67E5\\u8BE2')))))),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"B\" /* Spin */],{spinning:this.state.empDataLoading},__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_antd__[\"D\" /* Table */],{rowKey:function rowKey(record){return record.userName;},pagination:this.state.pagination,columns:this.appTableColumns,dataSource:this.props.empSearchResult.extension,onChange:this.handleTableChange})),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__empEdit__[\"a\" /* default */],null),__WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__empRoleEdit__[\"a\" /* default */],null))));}}]);return EmpManager;}(__WEBPACK_IMPORTED_MODULE_2_react__[\"Component\"]);function emptableMapStateToProps(state){console.log(\"empTableMapStat:\"+JSON.stringify(state.emp.empSearchResult));return{operInfo:state.emp.operInfo,activeTreeNode:state.org.activeTreeNode,empSearchResult:state.emp.empSearchResult,permissionOrgTree:state.org.permissionOrgTree,roleSource:state.role.roleSource,treeSource:state.org.treeSource};}function emptableMapDispatchToProps(dispatch){return{dispatch:dispatch};}/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"b\" /* connect */])(emptableMapStateToProps,emptableMapDispatchToProps)(EmpManager));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/28.faccbfb9.chunk.js","import { connect } from 'react-redux';\r\nimport { appAdd, appEdit } from '../../../actions/actionCreators';\r\nimport React, { Component } from 'react';\r\nimport { Layout, Table, Button, Icon, Modal, Row, Col, Form, Input, message, Select, TreeSelect } from 'antd';\r\nimport { empDialogClose, empSave, roleGetList, empGetPrivList, getOrgDataByID } from '../../actions/actionCreator';\r\n\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\nconst TreeNode = TreeSelect.TreeNode;\r\n\r\n\r\nclass EmployeeEditor extends Component {\r\n    state = {\r\n        empInfo: {},\r\n        dialogTitle: '员工信息',\r\n        visible: false,\r\n        empOrgId: ''\r\n    }\r\n    componentWillMount = () => {\r\n        this.props.dispatch(roleGetList());//加载角色列表\r\n        this.props.dispatch(empGetPrivList());\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        let { operType, result } = newProps.operInfo;\r\n        if (operType == 'edit') {\r\n            this.setState({ empInfo: newProps.activeEmp, visible: true, dialogTitle: '员工编辑' });\r\n        } else if (operType == 'add') {\r\n            this.setState({ empInfo: { organizationId: newProps.activeTreeNode.id, password: '123456' }, visible: true, dialogTitle: '员工新增' });\r\n        } else {\r\n            this.setState({ visible: false });\r\n            this.props.form.resetFields();\r\n        }\r\n    }\r\n    handleOk = (e) => {\r\n        e.preventDefault();\r\n        let { operType } = this.props.operInfo;\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                console.log('Received values of form: ', values);\r\n                let newEmpInfo = values;\r\n                if (operType != 'add') {\r\n                    newEmpInfo = Object.assign({}, this.props.activeEmp, values);\r\n                    newEmpInfo.roles = values.roles;\r\n                }\r\n                newEmpInfo.filialeId = values.organizationId;\r\n                let method = (operType == 'add' ? 'POST' : \"PUT\");\r\n                console.log(`method:${method},empInfo:${JSON.stringify(newEmpInfo)}`);\r\n                this.props.dispatch(empSave({ method: method, empInfo: newEmpInfo, activeEmp: this.props.activeEmp }));\r\n            }\r\n        });\r\n    }\r\n    handleCancel = (e) => {\r\n        this.props.dispatch(empDialogClose());\r\n    }\r\n\r\n    // loadTreeSelectData = (e) => {//加载\r\n    //     let { eventKey } = e.props;\r\n    //     console.log(\"loadTreeselectData\", );\r\n    //     this.props.dispatch(getOrgDataByID({ id: eventKey }));\r\n    //     return new Promise((resolve) => {\r\n    //         setTimeout(() => {\r\n    //             resolve();\r\n    //         }, 500);\r\n    //     });\r\n    // }\r\n\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: { span: 6 },\r\n            wrapperCol: { span: 14 },\r\n        };\r\n        const loop = data => data.map((item) => {\r\n            if (item.children) {\r\n                return <TreeNode title={item.name} key={item.key} value={item.key}>{loop(item.children)}</TreeNode>;\r\n            }\r\n            return <TreeNode title={item.name} key={item.key} value={item.key} isLeaf={item.isLeaf} />;\r\n        });\r\n        const treeNodes = loop(this.props.treeSource);\r\n        return (\r\n            <Modal width={600} title={this.state.dialogTitle} maskClosable={false} visible={this.state.visible}\r\n                onOk={this.handleOk} onCancel={this.handleCancel} >\r\n                <Row>\r\n                    <Col span={12}>\r\n                        <FormItem\r\n                            {...formItemLayout}\r\n                            label={(\r\n                                <span>\r\n                                    员工编号\r\n                                    </span>\r\n                            )}\r\n                            hasFeedback>\r\n                            {getFieldDecorator('userName', {\r\n                                initialValue: this.state.empInfo.userName,\r\n                                rules: [{ required: true, message: '请输入员工编号!' }],\r\n                            })(\r\n                                <Input />\r\n                                )}\r\n                        </FormItem></Col>\r\n                    <Col span={12}>\r\n                        <FormItem\r\n                            {...formItemLayout}\r\n                            label={(\r\n                                <span>\r\n                                    员工姓名\r\n                                    </span>\r\n                            )}\r\n                            hasFeedback>\r\n                            {getFieldDecorator('trueName', {\r\n                                initialValue: this.state.empInfo.trueName,\r\n                                rules: [{ required: true, message: '请输入员工姓名!' }],\r\n                            })(\r\n                                <Input />\r\n                                )}\r\n                        </FormItem>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col span={12}>\r\n                        <FormItem\r\n                            {...formItemLayout}\r\n                            label={(\r\n                                <span>\r\n                                    联系电话\r\n                                    </span>\r\n                            )}\r\n                            hasFeedback>\r\n                            {getFieldDecorator('phoneNumber', {\r\n                                initialValue: this.state.empInfo.phoneNumber,\r\n                                rules: [{ pattern: '^((1[0-9][0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,5-9]))\\\\d{8}$', message: '不是有效的手机号码!' }, { required: true, message: '请输入联系电话!' }],\r\n                            })(\r\n                                <Input />\r\n                                )}\r\n                        </FormItem>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <FormItem\r\n                            {...formItemLayout}\r\n                            label={(\r\n                                <span>\r\n                                    Email\r\n                                    </span>\r\n                            )}\r\n                            hasFeedback>\r\n                            {getFieldDecorator('email', {\r\n                                initialValue: this.state.empInfo.email,\r\n                                rules: [{ type: 'email', message: '输入邮件地址不正确!' }],\r\n                            })(\r\n                                <Input />\r\n                                )}\r\n                        </FormItem>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col span={12}>\r\n                        <FormItem\r\n                            {...formItemLayout}\r\n                            label={(\r\n                                <span>职级</span>\r\n                            )}\r\n                            hasFeedback>\r\n                            {getFieldDecorator('position', {\r\n                                initialValue: this.state.empInfo.position,\r\n                            })(\r\n                                <Select style={{ width: 200 }} placeholder='请选择职级'>\r\n                                    {\r\n                                        this.props.privList.map((priv, i) => <Option key={priv.value}>{priv.key}</Option>)\r\n                                    }\r\n                                </Select>\r\n                                )}\r\n                        </FormItem>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        {\r\n                            this.props.operInfo.operType == 'add' ? <FormItem\r\n                                {...formItemLayout}\r\n                                label={(\r\n                                    <span>初始密码</span>\r\n                                )}\r\n                                hasFeedback>\r\n                                {getFieldDecorator('password', {\r\n                                    initialValue: this.state.empInfo.password,\r\n                                    rules: [{ min: 6, message: '请输入至少6位密码!' }, { required: true, message: '请输入初始密码!' }],\r\n                                })(\r\n                                    <Input type='password' />\r\n                                    )}\r\n                            </FormItem> : null\r\n                        }\r\n\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col span={12}>\r\n                        <FormItem\r\n                            {...formItemLayout}\r\n                            label={(\r\n                                <span>\r\n                                    所属部门\r\n                                    </span>\r\n                            )}\r\n                            hasFeedback>\r\n                            {getFieldDecorator('organizationId', {\r\n\r\n                                initialValue: this.state.empInfo.organizationId,\r\n                                rules: [{ required: true, message: '请选择所属部门!' }]\r\n                            })(\r\n                                <TreeSelect style={{ width: 300 }}\r\n                                    dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\r\n                                    treeData={this.props.permissionOrgTree.AddUserTree}\r\n                                    placeholder=\"请选择所属部门\">\r\n                                    {treeNodes}\r\n                                </TreeSelect>\r\n                                )}\r\n                        </FormItem>\r\n                    </Col>\r\n                </Row>\r\n                {/* <Row>\r\n                    <Col span={24} pull={3}>\r\n                        <FormItem\r\n                            {...formItemLayout}\r\n                            label={(\r\n                                <span>所属角色</span>\r\n                            )}\r\n                            hasFeedback>\r\n                            {getFieldDecorator('roles', {\r\n                                initialValue: this.state.empInfo.roles,\r\n                                //rules: [{ required: true, message: '请选择用户所属角色!' }],\r\n                            })(\r\n                                <Select mode=\"multiple\" placeholder=\"请选择所属角色\" style={{ width: '99%' }}>\r\n                                    {\r\n                                        this.props.roleSource.map((role, i) => <Option key={role.id} value={role.name}>{role.name}</Option>)\r\n                                    }\r\n                                </Select>\r\n                                )}\r\n                        </FormItem>\r\n                    </Col>\r\n                </Row> */}\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nfunction empDialogMapStateToProps(state) {\r\n    console.log(\"empDialogMapStateToProps:\", state);\r\n    return {\r\n        activeEmp: state.emp.activeEmp,\r\n        operInfo: state.emp.operInfo,\r\n        roleSource: state.role.roleSource,\r\n        privList: state.emp.privList,\r\n        treeSource: state.org.treeSource,\r\n        activeTreeNode: state.org.activeTreeNode,\r\n        permissionOrgTree: state.org.permissionOrgTree\r\n    }\r\n}\r\nfunction empDialogMapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch\r\n    };\r\n}\r\nconst WrappedRegistrationForm = Form.create()(EmployeeEditor);\r\nexport default connect(empDialogMapStateToProps, empDialogMapDispatchToProps)(WrappedRegistrationForm);\n\n\n// WEBPACK FOOTER //\n// ./src/privilegeManager/pages/employee/empEdit.js","import { connect } from 'react-redux';\r\nimport { appAdd, appEdit } from '../../../actions/actionCreators';\r\nimport React, { Component } from 'react';\r\nimport { Layout, Table, Button, Icon, Modal, Row, Col, Checkbox } from 'antd';\r\nimport { empDialogClose, empRoleSave, roleGetList } from '../../actions/actionCreator';\r\nimport './empRoleStyle.less'\r\n\r\nconst CheckboxGroup = Checkbox.Group;\r\n\r\nclass EmployeeRoleEditor extends Component {\r\n    state = {\r\n        dialogTitle: '员工权限',\r\n        visible: false,\r\n        roleOptions: [],\r\n        checkedRoles: []//选中\r\n    }\r\n    componentWillMount = () => {\r\n        this.props.dispatch(roleGetList());//加载角色列表\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        let { empRoleOperType } = newProps.operInfo;\r\n        let roleOptions = [];\r\n        console.log(newProps.activeEmp);\r\n        newProps.roleSource.map((role) => {\r\n            roleOptions.push({ label: role.name, value: role.name });\r\n        });\r\n        console.log(\"当前用户：\", newProps.activeEmp.roles);\r\n        this.setState({ roleOptions: roleOptions, checkedRoles: newProps.activeEmp.roles });\r\n        if (empRoleOperType == 'edit') {\r\n            this.setState({ visible: true, dialogTitle: '员工权限' });\r\n        } else {\r\n            this.setState({ visible: false });\r\n        }\r\n    }\r\n    handleOk = (e) => {\r\n        let addRoles = this.state.checkedRoles, removeRoles = [];\r\n        if (this.props.activeEmp.roles) {\r\n            this.props.activeEmp.roles.map((oldRole) => {\r\n                if (this.state.checkedRoles.find((newRole) => newRole == oldRole) == undefined) {\r\n                    removeRoles.push(oldRole);\r\n                }\r\n            });\r\n        }\r\n        console.log(\"addroles,removeroles,\", addRoles, removeRoles);\r\n        this.props.dispatch(empRoleSave({ addRoles: addRoles, removeRoles: removeRoles, userName: this.props.activeEmp.userName }));\r\n    }\r\n    handleCancel = (e) => {\r\n        this.props.dispatch(empDialogClose());\r\n    }\r\n\r\n    handleRoelChange = (e) => {\r\n        console.log(\"角色选择\", e);\r\n        this.setState({ checkedRoles: e });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Modal width={600} title={this.state.dialogTitle} maskClosable={false} visible={this.state.visible}\r\n                onOk={(e) => this.handleOk(e)} onCancel={this.handleCancel} >\r\n                <div style={{ color: 'rgba(0, 0, 0, 0.85)' }}>\r\n                    <Row style={{ margin: '2px' }}>\r\n                        <Col span={3}>用户名：</Col>\r\n                        <Col span={21}><b>{this.props.activeEmp.trueName}</b></Col>\r\n                    </Row>\r\n                    <Row style={{ margin: '2px' }}>\r\n                        <Col span={3} >所属角色：</Col>\r\n                        <Col span={21}> <CheckboxGroup options={this.state.roleOptions} value={this.state.checkedRoles} onChange={this.handleRoelChange} /></Col>\r\n                    </Row>\r\n                </div>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nfunction empDialogMapStateToProps(state) {\r\n    //console.log(\"empRoleManagerMapStateToProps:====\", state);\r\n    return {\r\n        activeEmp: state.emp.activeEmp,\r\n        operInfo: state.emp.operInfo,\r\n        roleSource: state.role.roleSource\r\n    }\r\n}\r\nfunction empDialogMapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch\r\n    };\r\n}\r\nexport default connect(empDialogMapStateToProps, empDialogMapDispatchToProps)(EmployeeRoleEditor);\n\n\n// WEBPACK FOOTER //\n// ./src/privilegeManager/pages/employee/empRoleEdit.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js!./empRoleStyle.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js!./empRoleStyle.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js!./empRoleStyle.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/privilegeManager/pages/employee/empRoleStyle.less\n// module id = 1782\n// module chunks = 26 28","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".ant-checkbox-wrapper{margin-left:0!important;margin-right:8px}\", \"\", {\"version\":3,\"sources\":[\"E:/work/XYH/xinyaohang/DesktopPortal/src/privilegeManager/pages/employee/empRoleStyle.less\"],\"names\":[],\"mappings\":\"AAAA,sBACE,wBAA0B,AAC1B,gBAAkB,CACnB\",\"file\":\"empRoleStyle.less\",\"sourcesContent\":[\".ant-checkbox-wrapper {\\n  margin-left: 0 !important;\\n  margin-right: 8px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./node_modules/less-loader/dist/cjs.js!./src/privilegeManager/pages/employee/empRoleStyle.less\n// module id = 1783\n// module chunks = 26 28","import { connect } from 'react-redux';\r\nimport { empAdd, empEdit, empDelete, empRoleEdit, empListGet, orgGetPermissionTree, empRestPwd } from '../../actions/actionCreator';\r\nimport React, { Component } from 'react'\r\nimport { Layout, Table, Button, Checkbox, Popconfirm, Tooltip, Row, Col, Input, Spin, Select, TreeSelect } from 'antd'\r\nimport EmpEditor from './empEdit';\r\nimport EmployeeRoleEditor from './empRoleEdit';\r\nimport SearchCondition from '../../constants/searchCondition';\r\n\r\nconst { Header, Content } = Layout;\r\nconst Option = Select.Option;\r\nconst TreeNode = TreeSelect.TreeNode;\r\n\r\nclass EmpManager extends Component {\r\n    state = {\r\n        checkList: [],\r\n        condition: { isSearch: true, keyWords: '', roleId: '', OrganizationIds: [] },//条件\r\n        empDataLoading: false,\r\n        pagination: {}\r\n    }\r\n\r\n    componentWillMount = () => {\r\n        if (this.props.permissionOrgTree.AddUserTree.length === 0) {\r\n            this.props.dispatch(orgGetPermissionTree(\"UserInfoCreate\"));\r\n        }\r\n        this.handleSearch();\r\n    }\r\n\r\n    handleEmpRoleClick = (empInfo) => {\r\n        console.log(\"员工编辑：\", empInfo);\r\n        this.props.dispatch(empRoleEdit(empInfo));\r\n    }\r\n\r\n    appTableColumns = [\r\n        {\r\n            title: '选择', dataIndex: 'clientID', key: 'check', render: (text, recored) => (\r\n                <span>\r\n                    <Checkbox defaultChecked={false} onChange={(e) => this.handleCheckChange(e, recored)} />\r\n                </span>\r\n            )\r\n        },\r\n        { title: '用户名', dataIndex: 'userName', key: 'userName' },\r\n        { title: '真实姓名', dataIndex: 'trueName', key: 'trueName' },\r\n        { title: '联系电话', dataIndex: 'phoneNumber', key: 'phoneNumber' },\r\n        { title: '邮箱', dataIndex: 'email', key: 'email' },\r\n        {\r\n            title: '编辑', dataIndex: 'edit', key: 'edit', render: (text, recored) => (\r\n                <span>\r\n                    <Tooltip title=\"用户编辑\">\r\n                        <Button type='primary' shape='circle' size='small' icon='edit' onClick={(e) => this.handleEditClick(recored)} />\r\n                    </Tooltip>\r\n                    <Tooltip title='用户权限设置'>\r\n                        &nbsp;<Button type='primary' shape='circle' size='small' icon='team' onClick={(e) => this.handleEmpRoleClick(recored)} />\r\n                    </Tooltip>\r\n                    <Tooltip title=\"重置密码\">\r\n                        <Popconfirm title=\"确认要重置选中用户密码?\" onConfirm={(e) => this.handleResetPwd(recored)} onCancel={this.cancelDelete} okText=\"确定\" cancelText=\"取消\">\r\n                            &nbsp;<Button type='primary' shape='circle' size='small' icon='retweet' />\r\n                        </Popconfirm>\r\n                    </Tooltip>\r\n                </span>\r\n            )\r\n        }\r\n    ];\r\n    componentWillReceiveProps(newProps) {\r\n        this.setState({ empDataLoading: false });\r\n        let paginationInfo = {\r\n            pageSize: newProps.empSearchResult.pageSize,\r\n            current: newProps.empSearchResult.pageIndex,\r\n            total: newProps.empSearchResult.totalCount\r\n        };\r\n        console.log(\"分页信息：\", paginationInfo);\r\n        this.setState({ pagination: paginationInfo });\r\n    }\r\n    handleEmpDelete = (e) => {//员工删除\r\n        let deleteIds = [];\r\n        this.state.checkList.map((item, i) => {\r\n            if (item.status == true) {\r\n                deleteIds.push(item.id);\r\n            }\r\n        });\r\n        console.log(\"删除列表：\", deleteIds);\r\n        this.props.dispatch(empDelete(deleteIds));\r\n    }\r\n    handleResetPwd = (empInfo) => {//重置密码\r\n        console.log(\"重置密码：\", empInfo);\r\n        this.props.dispatch(empRestPwd(empInfo.userName));\r\n    }\r\n    handleAddClick = (event) => {\r\n        console.log('handleAddClick');\r\n        this.props.dispatch(empAdd());\r\n    }\r\n    handleEditClick = (empInfo) => {\r\n        console.log(\"handleEditClick\", empInfo);\r\n        this.props.dispatch(empEdit(empInfo));\r\n    }\r\n    handleCheckChange = (e, empInfo) => {\r\n        //console.log(\"checkbox change：\" + JSON.stringify(e.target.checked));\r\n        let empId = empInfo.id;\r\n        let checked = e.target.checked;\r\n        let checkList = this.state.checkList.slice();\r\n        var hasValue = false;\r\n        for (var i in checkList) {\r\n            if (checkList[i].id == empId) {\r\n                checkList[i].status = checked;\r\n                hasValue = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!hasValue) {\r\n            checkList.push({ id: empId, status: checked });\r\n        }\r\n        this.setState({ checkList: checkList });\r\n    }\r\n    handleUserNameChange = (e) => {\r\n        //console.log(\"输入内容：\", e.target.value);\r\n        let condition = { ...this.state.condition };\r\n        condition.keyWords = e.target.value;\r\n        this.setState({ condition: condition });\r\n    }\r\n\r\n    handleSearch = (e) => {\r\n        SearchCondition.empSearchCondition = this.state.condition;\r\n        SearchCondition.empSearchCondition.pageIndex = 0;\r\n        SearchCondition.empSearchCondition.pageSize = 10;\r\n        console.log(\"查询条件\", SearchCondition);\r\n        this.setState({ empDataLoading: true });\r\n        this.props.dispatch(empListGet(SearchCondition.empSearchCondition));\r\n    }\r\n\r\n    handleTableChange = (pagination, filters, sorter) => {\r\n        SearchCondition.empSearchCondition.pageIndex = (pagination.current - 1);\r\n        SearchCondition.empSearchCondition.pageSize = pagination.pageSize;\r\n        console.log(\"table改变，\", pagination);\r\n        this.props.dispatch(empListGet(SearchCondition.empSearchCondition));\r\n    };\r\n    handleRoleChange = (role) => {\r\n        console.log(\"角色变更:\", role);\r\n        let condition = { ...this.state.condition };\r\n        condition.roleId = role;\r\n        this.setState({ condition: condition });\r\n    }\r\n    handleOrgChange = (orgs) => {\r\n        console.log(\"部门改变:\", orgs);\r\n        let condition = { ...this.state.condition };\r\n        condition.OrganizationIds = orgs;\r\n        this.setState({ condition: condition });\r\n    }\r\n\r\n    render() {\r\n        let removeBtnDisabled = this.state.checkList.filter((item) => item.status).length > 0 ? false : true;\r\n        let roleOptions = [];\r\n        if (this.props.roleSource) {\r\n            this.props.roleSource.map(role => roleOptions.push(<Option key={role.id}>{role.name}</Option>));\r\n        }\r\n        const loop = data => data.map((item) => {\r\n            if (item.children) {\r\n                return <TreeNode title={item.name} key={item.key} value={item.key}>{loop(item.children)}</TreeNode>;\r\n            }\r\n            return <TreeNode title={item.name} key={item.key} value={item.key} isLeaf={item.isLeaf} />;\r\n        });\r\n        const treeNodes = loop(this.props.treeSource);\r\n        return (\r\n            <div className=\"relative\">\r\n                <Layout>\r\n                    <Header >\r\n                        员工列表\r\n                        {/* <Tooltip title=\"新增用户\">\r\n                            &nbsp;<Button type='primary' shape='circle' icon='plus' onClick={this.handleAddClick} />\r\n                        </Tooltip>\r\n                        <Tooltip title=\"删除用户\">\r\n                            <Popconfirm title=\"确认要删除选中用户?\" onConfirm={this.handleEmpDelete} onCancel={this.cancelDelete} okText=\"确定\" cancelText=\"取消\">\r\n                                &nbsp;<Button type='primary' shape='circle' icon='delete' disabled={removeBtnDisabled} />\r\n                            </Popconfirm>\r\n                        </Tooltip> */}\r\n                    </Header>\r\n                    <Content>\r\n                        <Row>\r\n                            <Col style={{ margin: '7px 5px' }}>\r\n                                <div >\r\n                                    <Row>\r\n                                        <Col span={6}>\r\n                                            用户名: <Input value={this.state.condition.keyWords} style={{ width: '70%', verticalAlign: 'middle' }} onPressEnter={this.handleSearch} onChange={this.handleUserNameChange} />\r\n                                        </Col>\r\n                                        <Col span={6}>\r\n                                            所属角色: <Select style={{ width: '70%' }} value={this.state.condition.roleId} allowClear\r\n                                                onChange={this.handleRoleChange}>\r\n                                                {roleOptions}\r\n                                            </Select>\r\n                                        </Col>\r\n                                        <Col span={6}>\r\n                                            所属部门:\r\n                                    <TreeSelect style={{ width: '70%' }} allowClear multiple\r\n                                                dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\r\n                                                onChange={this.handleOrgChange} value={this.state.condition.OrganizationIds}\r\n                                                treeData={this.props.permissionOrgTree.AddUserTree}>\r\n                                                {treeNodes}\r\n                                            </TreeSelect>\r\n                                        </Col>\r\n                                        <Col span={6}>\r\n                                            <Button type=\"primary\" icon=\"search\" onClick={this.handleSearch}>查询</Button>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n                        <Spin spinning={this.state.empDataLoading}>\r\n                            {<Table rowKey={record => record.userName} pagination={this.state.pagination} columns={this.appTableColumns} dataSource={this.props.empSearchResult.extension} onChange={this.handleTableChange} />}\r\n                        </Spin>\r\n                        <EmpEditor />\r\n                        <EmployeeRoleEditor />\r\n                    </Content>\r\n                </Layout>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nfunction emptableMapStateToProps(state) {\r\n    console.log(\"empTableMapStat:\" + JSON.stringify(state.emp.empSearchResult));\r\n    return {\r\n        operInfo: state.emp.operInfo,\r\n        activeTreeNode: state.org.activeTreeNode,\r\n        empSearchResult: state.emp.empSearchResult,\r\n        permissionOrgTree: state.org.permissionOrgTree,\r\n        roleSource: state.role.roleSource,\r\n        treeSource: state.org.treeSource,\r\n    }\r\n}\r\n\r\nfunction emptableMapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch\r\n    };\r\n}\r\nexport default connect(emptableMapStateToProps, emptableMapDispatchToProps)(EmpManager);\n\n\n// WEBPACK FOOTER //\n// ./src/privilegeManager/pages/employee/empManager.js"],"sourceRoot":""}