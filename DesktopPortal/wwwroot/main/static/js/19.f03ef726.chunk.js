webpackJsonp([19],{1278:function(e,t,n){var a=n(1409);"string"===typeof a&&(a=[[e.i,a,""]]);var i={};i.transform=void 0;n(477)(a,i);a.locals&&(e.exports=a.locals)},1279:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{buildInfo:e.building.buildInfo,basicData:e.basicData}}function l(e){return{dispatch:e}}var c=n(92),s=n(1216),p=n(0),u=n.n(p),d=n(46),m=n(27),f=n.n(m),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=function(e){function t(){var e,n,o,r;a(this,t);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={},o.handleEdit=function(e){o.props.dispatch(Object(s.P)())},r=n,i(o,r)}return o(t,e),h(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props.buildInfo.buildingBasic;return e.landExpireDate&&""!==e.landExpireDate&&(e.landExpireDate=f()(e.landExpireDate).format("YYYY-MM-DD")),e.openDate&&""!==e.openDate&&(e.openDate=f()(e.openDate).format("YYYY-MM-DD")),e.deliveryDate&&""!==e.deliveryDate&&(e.deliveryDate=f()(e.deliveryDate).format("YYYY-MM-DD")),u.a.createElement("div",{style:{marginTop:"25px",backgroundColor:"#ECECEC"}},u.a.createElement(d.o,{layout:"horizontal"},u.a.createElement(d.z,{type:"flex",style:{padding:"1rem 0"}},u.a.createElement(d.k,{span:20},u.a.createElement(d.p,{type:"tags-o",className:"content-icon"}),u.a.createElement("span",{className:"content-title"},"\u57fa\u7840\u4fe1\u606f")),u.a.createElement(d.k,{span:4},[1,8].includes(this.props.buildInfo.examineStatus)?null:u.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}))),u.a.createElement(d.z,{className:"viewRow"},u.a.createElement(d.k,{span:12},e.name," | ",e.areaFullName)),u.a.createElement(d.z,{className:"viewRow"},u.a.createElement(d.k,{span:12},e.builtupArea,"\u33a1 | \u5171",e.houseHolds,"\u6237")),u.a.createElement(d.z,{className:"viewRow"},u.a.createElement(d.k,{span:12},"\u5f00\u76d8\u65f6\u95f4\uff1a",e.openDate||"\u65e0"),u.a.createElement(d.k,{span:12},"\u4ea4\u623f\u65f6\u95f4\uff1a",e.deliveryDate||"\u65e0")),u.a.createElement(d.z,{className:"viewRow"},u.a.createElement(d.k,{span:12},"\u4ea7\u6743\u5e74\u9650\uff1a",e.propertyTerm,"\u5e74"),u.a.createElement(d.k,{span:12},"\u571f\u5730\u5230\u671f\u65f6\u95f4\uff1a",e.landExpireDate)),u.a.createElement(d.z,{className:"viewRow"},u.a.createElement(d.k,{span:12},"\u5360\u5730\u9762\u79ef\uff1a",e.floorSurface,"\u33a1"),u.a.createElement(d.k,{span:12},"\u5efa\u7b51\u9762\u79ef\uff1a",e.builtupArea,"\u33a1")),u.a.createElement(d.z,{className:"viewRow"},u.a.createElement(d.k,{span:12},"\u5bb9\u79ef\u7387\uff1a",e.plotRatio?e.plotRatio:"\u65e0","%"),u.a.createElement(d.k,{span:12},"\u7eff\u5316\u7387\uff1a",e.greeningRate?e.greeningRate:"\u65e0","%")),u.a.createElement(d.z,{className:"viewRow"},u.a.createElement(d.k,{span:12},"\u5730\u4e0b\u505c\u8f66\u4f4d\uff1a",e.basementParkingSpace,"\u4e2a"),u.a.createElement(d.k,{span:12},"\u5730\u9762\u505c\u8f66\u4f4d\uff1a",e.parkingSpace,"\u4e2a")),u.a.createElement(d.z,{className:"viewRow"},u.a.createElement(d.k,{span:12},"\u697c\u680b\u603b\u6570\uff1a",e.buildingNum,"\u680b"),u.a.createElement(d.k,{span:12},"\u5546\u94fa\u603b\u6570\uff1a",e.shops,"\u4e2a")),u.a.createElement(d.z,{className:"viewRow"},u.a.createElement(d.k,{span:12},"\u7269\u4e1a\u516c\u53f8\uff1a",e.pmc),u.a.createElement(d.k,{span:12},"\u7269\u4e1a\u8d39\uff1a",e.pmf)),u.a.createElement(d.z,{className:"viewRow"},u.a.createElement(d.k,{span:12},"\u5f00\u53d1\u5546\uff1a",e.developer)),u.a.createElement(d.z,{className:"viewRow"},u.a.createElement(d.k,{span:24},"\u5730\u5740:",e.address))))}}]),t}(p.Component);t.a=Object(c.b)(r,l)(g)},1304:function(e,t,n){"use strict";function a(e,t){if(!e)return!0;t=t||{};for(var n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],r=e[o],l=t[o];if(r instanceof Array&&r.length>0)return!1;if(r instanceof Date);else if(r instanceof Object)return a(r,l);if("undefined"===typeof l){if(r)return!1}else if(l!==r)return!1}return!0}n.d(t,"a",function(){return l}),t.b=a;var i=n(27),o=n.n(i),r=[function(e,t,n,a){return(a||"").replace(/\$CUS_NAME\$/g,e.customerName||"")},function(e,t,n,a){return(a||"").replace(/\$CUS_MOBILE\$/g,e.mainPhone||"")},function(e,t,n,a){return(a||"").replace(/\$COMPANY\$/g,"\u65b0\u8000\u884c")},function(e,t,n,a){return(a||"").replace(/\$TODAY\$/g,o()().format("YYYY\u5e74MM\u6708DD\u65e5"))},function(e,t,n,a){return(a||"").replace(/\$TODAY2\$/g,o()().format("YYYY-MM-DD"))},function(e,t,n,a){return(a||"").replace(/\$TODAY3\$/g,o()().format("YYYY.MM.DD"))},function(e,t,n,a){return(a||"").replace(/\$REPORTTIME\$/g,o()(e.expectedBeltTime).format("YYYY\u5e74MM\u6708DD\u65e5 HH:mm"))},function(e,t,n,a){return(a||"").replace(/\$REPORTTIME2\$/g,o()(e.expectedBeltTime).format("YYYY-MM-DD HH:mm"))},function(e,t,n,a){return(a||"").replace(/\$REPORTTIME3\$/g,o()(e.expectedBeltTime).format("YYYY.MM.DD HH:mm"))},function(e,t,n,a){return(a||"").replace(/\$USERNAME\$/g,e.userTrueName)},function(e,t,n,a){return(a||"").replace(/\$DEPARTMENT\$/g,e.departmentName)},function(e,t,n,a){return(a||"").replace(/\$USER_MOBILE\$/g,e.userPhone)},function(e,t,n,a){return(a||"").replace(/\$ZC_MOBILE\$/g,e.userPhone||"")},function(e,t,n,a){return(a||"").replace(/\$ZC_NAME\$/g,t.nickname||"")},function(e,t,n,a){return(a||"").replace(/\$PROJECT_NAME\$/g,((n||{}).buildingBasic||{}).name)},function(e,t,n,a){return(a||"").replace(/\[\u9879\u76ee\u540d\u79f0\]/g,((n||{}).buildingBasic||{}).name)}],l=function(e,t,n,a){for(var i=[],o=0;o<e.length;o++)!function(o){var l=e[o],c=l.label,s=l.value||"";r.forEach(function(e){s=e(t,n,a,s)});var p=""+c+s;i.push(p)}(o);return i.join("\r\n")}},1334:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{shopAttachInfo:e.shop.shopsInfo.attachInfo,buildingAttachInfo:e.building.buildInfo.attachInfo,buildInfo:e.building.buildInfo,shopInfo:e.shop.shopsInfo,statusArr:e.active.statusArr,dynamicShopAttachInfo:e.shop.dynamicShopsInfo.attachInfo,dynamicBuildingAttachInfo:e.building.dynamicBuildInfo.attachInfo,projectId:e.active.projectId,shopId:e.active.shopId,dynamicStatusArr:e.active.dynamicStatusArr,basicData:e.basicData}}function l(e){return{dispatch:e}}var c=n(92),s=n(1216),p=n(0),u=n.n(p),d=n(46),m=n(1278),f=(n.n(m),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),h=(d.s.Header,d.s.Sider,d.s.Content),g=d.E.TabPane,A=function(e){function t(){var e,n,o,r;a(this,t);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={previewVisible:!1,previewImage:"",fileList:[],projectId:"",shopId:"",group:[],picGroup:"",imgFiles:{}},o.handleEdit=function(e){"building"===o.props.parentPage?o.props.dispatch(Object(s.j)()):o.props.dispatch(Object(s._136)())},o.handleCancel=function(){return o.setState({previewVisible:!1})},o.getGroup=function(e){if(e&&e.length>0){var t={};e.forEach(function(e){e.group=e.group?e.group:"5",t.hasOwnProperty(e.group)?t[e.group].push({uid:e.fileGuid,name:e.name||"",status:"done",url:e.icon||e.localUrl}):t[e.group]=[{uid:e.fileGuid,name:e.name||"",status:"done",url:e.icon||e.localUrl}]}),o.setState({imgFiles:t})}},o.handlePreview=function(e){o.setState({previewImage:e.url||e.localUrl,previewVisible:!0})},r=n,i(o,r)}return o(t,e),f(t,[{key:"componentDidMount",value:function(){var e=[];"building"===this.props.parentPage?(this.props.buildingAttachInfo.fileList&&this.getGroup(this.props.buildingAttachInfo.fileList),this.setState({fileList:e})):(this.props.shopAttachInfo.fileList&&this.props.shopAttachInfo.fileList.map(function(t){e.push({uid:t.fileGuid,name:t.name||"",status:"done",url:t.icon||t.localUrl})}),this.setState({fileList:e}))}},{key:"componentWillReceiveProps",value:function(e){var t=[];"building"===this.props.parentPage?e.buildingAttachInfo.fileList&&this.getGroup(e.buildingAttachInfo.fileList):(console.log(e.shopAttachInfo.fileList,"\u56fe\u7247\u8be6\u60c5INfolist"),e.shopAttachInfo.fileList.length&&(e.shopAttachInfo.fileList.map(function(e){t.push({uid:e.fileGuid,name:e.name||"",status:"done",url:e.icon||e.localUrl})}),this.setState({fileList:t})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.shopAttachInfo,a=t.buildingAttachInfo,i=void 0,o=void 0,r=this.state,l=r.previewVisible,c=r.previewImage,s=r.fileList,p=(r.group,{multiple:!0,listType:"picture-card",fileList:s,onPreview:function(t){e.setState({previewImage:t.url||t.localUrl,previewVisible:!0})}});return i=n.fileList||[],o=a.fileList||[],console.log(i,"\u5546\u94fa\u5217\u8868"),u.a.createElement("div",{className:""},u.a.createElement(d.s,null,u.a.createElement(h,{className:"attchInfo",style:{padding:"12px 0",margin:"20px 0",backgroundColor:"#ECECEC"}},u.a.createElement(d.z,{type:"flex"},u.a.createElement(d.k,{span:20},"dynamic"===this.props.type?null:u.a.createElement("div",null,u.a.createElement(d.p,{type:"tags-o",className:"content-icon"})," ",u.a.createElement("span",{className:"content-title"},"\u9644\u52a0\u4fe1\u606f"))),u.a.createElement(d.k,{span:4},"dynamic"===this.props.type?u.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}):"building"===this.props.parentPage?[1,8].includes(this.props.buildInfo.examineStatus)?null:u.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}):[1,8].includes(this.props.shopInfo.examineStatus)?null:u.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}))),u.a.createElement(d.z,{type:"flex",justify:"space-between"},"building"===this.props.parentPage?u.a.createElement(d.k,{span:24},0!==o.length?u.a.createElement("div",null,u.a.createElement("div",{className:"picture"},"\u56fe\u7247"),u.a.createElement(d.E,{defaultActiveKey:"1",className:"picBox"},this.props.basicData.photoCategories.map(function(t,n){return u.a.createElement(g,{tab:t.key,key:t.value},u.a.createElement("div",{className:"picBox"},e.state.imgFiles[t.value]?u.a.createElement("div",{className:"clearfix"},u.a.createElement(d.K,{multiple:!0,listType:"picture-card",fileList:e.state.imgFiles[t.value],onPreview:e.handlePreview}),u.a.createElement(d.u,{visible:l,footer:null,onCancel:e.handleCancel},u.a.createElement("img",{alt:"example",style:{width:"100%"},src:c}))):u.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"\u6682\u65e0\u6570\u636e")))}))):u.a.createElement("div",{style:{marginLeft:"50px"}},"\u65e0\u56fe\u7247")):u.a.createElement(d.k,{span:24},0!==i.length?u.a.createElement("div",null,u.a.createElement("div",{className:"picture"},"\u56fe\u7247"),u.a.createElement("div",{className:"picBox"},u.a.createElement("div",{className:"clearfix"},u.a.createElement(d.K,p),u.a.createElement(d.u,{visible:l,footer:null,onCancel:this.handleCancel},u.a.createElement("img",{alt:"example",style:{width:"100%"},src:c}))))):u.a.createElement("div",{style:{marginLeft:"50px"}},"\u65e0\u56fe\u7247"))))))}}]),t}(p.Component);t.a=Object(c.b)(r,l)(A)},1409:function(e,t,n){t=e.exports=n(476)(!0),t.push([e.i,'.content .ant-form-item-label,.content .ant-form-item-label span,.content .ant-form-item-required{font-size:.9rem}.content .viewRow{padding:.7rem 4rem}.content .content-icon{font-size:1.6rem;vertical-align:middle;padding-left:1rem}.content .content-title{font-weight:700}.content .divBorder{border:1px solid #c4c0c0;padding:0 10px 10px}.content .spanSize{font-size:.7rem;font-weight:600}.content .someInput{width:65%}.content .BtnTop{margin:25px 0 10px}.content .file,.content .files,.content .pic,.content .picture{height:2.5rem;background-color:#ddd;line-height:2.5rem;margin-top:15px}.content .files,.content .picture{padding-left:3rem}.content .picBox{padding:25px 3.5rem}.content .picBox .ant-col-sm-6{width:11%}.content .oprationBtn{margin-left:40px;width:8rem}.content .basicEdit .ant-col-sm-6,.content .leaseEdit .ant-col-sm-6{width:25%}.content .leaseEdit .beizhu .ant-col-sm-6{width:12.5%}.content .leaseEdit .redContent .ant-form-item-label label:before{display:inline-block;margin-right:4px;content:"*";font-family:SimSun;line-height:1;font-size:12px;color:#f04134}.content .supporEdit .ant-col-sm-6{width:12.5%}.content .buildingNo{font-weight:700;font-size:1.5rem}.content .buildingName{font-size:1.3rem;font-weight:700;margin-left:10px}.content .redSpan{color:red;font-weight:700}.content .boldSpan{font-weight:700}.content .viewPic{width:8rem;height:8rem;border:1px solid #cdcdcd;position:relative;overflow:hidden;margin:10px}.content .viewPic img{width:8rem;position:absolute}.content .fileViewBox{width:90%;margin:0 auto;padding:10px 0;border-bottom:1px dashed #cdcdcd;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.content .fileViewBox .fileIcon{font-size:1.3rem;cursor:pointer}.content .picViewBox{padding:10px 0;-ms-flex-wrap:wrap;flex-wrap:wrap}.content .eidtViewFile,.content .picViewBox{width:93%;margin:0 auto;display:-ms-flexbox;display:flex}.content .eidtViewFile{-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.content .ant-upload-select-picture-card i{font-size:28px;color:#999}.content .ant-upload-select-picture-card .ant-upload-text{margin-top:8px;font-size:12px;color:#666}.content .fileInput .ant-form-item-control{width:50%}.content .fileDes .ant-col-sm-6,.content .fileInput .ant-col-sm-6{width:10%}.content .uploadFileList{margin-left:8rem}.content .uploadFileList .ant-col-12{width:38%}.attchInfo .anticon-delete:before{content:""}',"",{version:3,sources:["E:/work/XYH/xinyaohang/DesktopPortal/src/houseResource/pages/shops/edit/editCommon.less"],names:[],mappings:"AAAA,kGAGE,eAAiB,CAClB,AACD,kBACE,kBAAqB,CACtB,AACD,uBACE,iBAAkB,AAClB,sBAAuB,AACvB,iBAAmB,CACpB,AACD,wBACE,eAAkB,CACnB,AACD,oBACE,yBAA0B,AAC1B,mBAA0B,CAC3B,AACD,mBACE,gBAAiB,AACjB,eAAiB,CAClB,AACD,oBACE,SAAW,CACZ,AACD,iBACE,kBAAsB,CACvB,AACD,+DAIE,cAAe,AACf,sBAA0B,AAC1B,mBAAoB,AACpB,eAAiB,CAClB,AACD,kCAEE,iBAAmB,CACpB,AACD,iBACE,mBAAqB,CACtB,AACD,+BACE,SAAW,CACZ,AACD,sBACE,iBAAkB,AAClB,UAAY,CACb,AACD,oEAEE,SAAW,CACZ,AACD,0CACE,WAAa,CACd,AACD,kEACE,qBAAsB,AACtB,iBAAkB,AAClB,YAAa,AACb,mBAAoB,AACpB,cAAe,AACf,eAAgB,AAChB,aAAe,CAChB,AACD,mCACE,WAAa,CACd,AACD,qBACE,gBAAkB,AAClB,gBAAkB,CACnB,AACD,uBACE,iBAAkB,AAClB,gBAAkB,AAClB,gBAAkB,CACnB,AACD,kBACE,UAAW,AACX,eAAkB,CACnB,AACD,mBACE,eAAkB,CACnB,AACD,kBACE,WAAY,AACZ,YAAa,AACb,yBAA0B,AAC1B,kBAAmB,AACnB,gBAAiB,AACjB,WAAa,CACd,AACD,sBACE,WAAY,AACZ,iBAAmB,CACpB,AACD,sBACE,UAAW,AACX,cAAgB,AAChB,eAAgB,AAChB,iCAAkC,AAClC,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,8BAA+B,AACnC,sBAAuB,AACnB,kBAAoB,CACzB,AACD,gCACE,iBAAkB,AAClB,cAAgB,CACjB,AACD,qBAGE,eAAgB,AAGhB,mBAAoB,AAChB,cAAgB,CACrB,AACD,4CARE,UAAW,AACX,cAAgB,AAEhB,oBAAqB,AACrB,YAAc,CAaf,AATD,uBAKE,sBAAuB,AACnB,8BAA+B,AACnC,sBAAuB,AACnB,kBAAoB,CACzB,AACD,2CACE,eAAgB,AAChB,UAAY,CACb,AACD,0DACE,eAAgB,AAChB,eAAgB,AAChB,UAAY,CACb,AACD,2CACE,SAAW,CACZ,AAID,kEACE,SAAW,CACZ,AACD,yBACE,gBAAkB,CACnB,AACD,qCACE,SAAW,CACZ,AACD,kCACE,UAAY,CACb",file:"editCommon.less",sourcesContent:['.content .ant-form-item-label,\n.content .ant-form-item-required,\n.content .ant-form-item-label span {\n  font-size: .9rem;\n}\n.content .viewRow {\n  padding: 0.7rem 4rem;\n}\n.content .content-icon {\n  font-size: 1.6rem;\n  vertical-align: middle;\n  padding-left: 1rem;\n}\n.content .content-title {\n  font-weight: bold;\n}\n.content .divBorder {\n  border: 1px solid #C4C0C0;\n  padding: 0 10px 10px 10px;\n}\n.content .spanSize {\n  font-size: .7rem;\n  font-weight: 600;\n}\n.content .someInput {\n  width: 65%;\n}\n.content .BtnTop {\n  margin: 25px 0 10px 0;\n}\n.content .pic,\n.content .file,\n.content .picture,\n.content .files {\n  height: 2.5rem;\n  background-color: #DDDDDD;\n  line-height: 2.5rem;\n  margin-top: 15px;\n}\n.content .picture,\n.content .files {\n  padding-left: 3rem;\n}\n.content .picBox {\n  padding: 25px 3.5rem;\n}\n.content .picBox .ant-col-sm-6 {\n  width: 11%;\n}\n.content .oprationBtn {\n  margin-left: 40px;\n  width: 8rem;\n}\n.content .basicEdit .ant-col-sm-6,\n.content .leaseEdit .ant-col-sm-6 {\n  width: 25%;\n}\n.content .leaseEdit .beizhu .ant-col-sm-6 {\n  width: 12.5%;\n}\n.content .leaseEdit .redContent .ant-form-item-label label:before {\n  display: inline-block;\n  margin-right: 4px;\n  content: "*";\n  font-family: SimSun;\n  line-height: 1;\n  font-size: 12px;\n  color: #f04134;\n}\n.content .supporEdit .ant-col-sm-6 {\n  width: 12.5%;\n}\n.content .buildingNo {\n  font-weight: bold;\n  font-size: 1.5rem;\n}\n.content .buildingName {\n  font-size: 1.3rem;\n  font-weight: bold;\n  margin-left: 10px;\n}\n.content .redSpan {\n  color: red;\n  font-weight: bold;\n}\n.content .boldSpan {\n  font-weight: bold;\n}\n.content .viewPic {\n  width: 8rem;\n  height: 8rem;\n  border: 1px solid #cdcdcd;\n  position: relative;\n  overflow: hidden;\n  margin: 10px;\n}\n.content .viewPic img {\n  width: 8rem;\n  position: absolute;\n}\n.content .fileViewBox {\n  width: 90%;\n  margin: 0  auto;\n  padding: 10px 0;\n  border-bottom: 1px dashed #cdcdcd;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.content .fileViewBox .fileIcon {\n  font-size: 1.3rem;\n  cursor: pointer;\n}\n.content .picViewBox {\n  width: 93%;\n  margin: 0  auto;\n  padding: 10px 0;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.content .eidtViewFile {\n  width: 93%;\n  margin: 0 auto;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.content .ant-upload-select-picture-card i {\n  font-size: 28px;\n  color: #999;\n}\n.content .ant-upload-select-picture-card .ant-upload-text {\n  margin-top: 8px;\n  font-size: 12px;\n  color: #666;\n}\n.content .fileInput .ant-form-item-control {\n  width: 50%;\n}\n.content .fileInput .ant-col-sm-6 {\n  width: 10%;\n}\n.content .fileDes .ant-col-sm-6 {\n  width: 10%;\n}\n.content .uploadFileList {\n  margin-left: 8rem;\n}\n.content .uploadFileList .ant-col-12 {\n  width: 38%;\n}\n.attchInfo .anticon-delete:before {\n  content: "";\n}\n'],sourceRoot:""}])},1416:function(e,t,n){var a=n(1711);"string"===typeof a&&(a=[[e.i,a,""]]);var i={};i.transform=void 0;n(477)(a,i);a.locals&&(e.exports=a.locals)},1710:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{operInfo:e.shop.operInfo,buildingOperInfo:e.building.operInfo,shopsInfo:e.shop.shopsInfo,buildInfo:e.building.buildInfo,attachInfo:e.building.buildInfo.attachInfo,shopAttachInfo:e.shop.shopsInfo.attachInfo,completeFileList:e.shop.completeFileList,deletePicList:e.shop.deletePicList,basicData:e.basicData,loadingState:e.building.attachloading,user:(e.oidc.user||{}).profile||{}}}function c(e){return{save:function(){return e(p._107.apply(void 0,arguments))},dispatch:e}}var s=n(92),p=n(1216),u=n(0),d=n.n(u),m=n(1278),f=(n.n(m),n(46)),h=(n(1221),n(1245)),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),A=(f.s.Header,f.s.Sider,f.s.Content),b=(f.A.Option,f.o.Item,f.E.TabPane),y=function(e){function t(){var e,n,r,l;i(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={previewVisible:!1,previewImage:"",fileList:[],attachments:[],picUploading:!1,deleteIdArr:[],picGroup:"1",imgFiles:{}},r.getGroup=function(e){if(e&&e.length>0){var t={};e.forEach(function(e){e.group=e.group?e.group:"5",t.hasOwnProperty(e.group)?t[e.group].push({uid:e.fileGuid,name:e.name||"",status:"done",url:e.icon||e.localUrl}):t[e.group]=[{uid:e.fileGuid,name:e.name||"",status:"done",url:e.icon||e.localUrl}]});var n=Object.assign({},r.state.imgFiles);if(0!==Object.keys(n).length){for(var a in t)t[a]&&(n[a]=n[a].concat(t[a]));r.setState({imgFiles:n})}else r.setState({imgFiles:t})}},r.handleCancel=function(){return r.setState({previewVisible:!1})},r.hanldeRemove=function(e){var t=e.uid,n=void 0,a=r.state,i=a.fileList,o=a.deleteIdArr,l=a.imgFiles,c=r.props.deletePicList;if(o.push(e.uid),c.push(e),"building"!==r.props.parentPage)i.forEach(function(e,a){e.uid===t&&(n=a)}),i=i.splice(n,1),r.props.dispatch(Object(p._102)({deletePicList:c})),r.setState({deleteIdArr:o,filelist:i});else{var s=l[r.state.picGroup]||[];s.forEach(function(e,a){e.uid===t&&(n=a)}),s.splice(n,1),l[r.state.picGroup]=s.slice(),r.props.dispatch(Object(p._102)({deletePicList:c})),r.setState({deleteIdArr:o,imgFiles:l},function(){})}return!0},r.handleCancelBtn=function(){"building"===r.props.parentPage?r.props.dispatch(Object(p.k)({filelist:r.props.attachInfo.fileList,type:"cancel"})):r.props.dispatch(Object(p._137)({filelist:r.props.shopAttachInfo.fileList,type:"cancel"}))},r.handleBeforeUpload=function(e){console.log(e,"???",r.state.fileList,"\u6211\u7231\u4f60");var t=new FileReader;return t.readAsDataURL(e),t.onloadend=function(){var n=this;if(e.type.startsWith("image/"))if("building"===this.props.parentPage){var a=this.state.imgFiles[this.state.picGroup]||[],i=a.concat([{uid:e.uid,name:e.name,status:"uploading",url:t.result}]),o=Object.assign({},this.state.imgFiles);o[this.state.picGroup]=i,this.setState({imgFiles:o})}else{console.log("shopshopso");var r=this.state.fileList.concat([{uid:e.uid,name:e.name,status:"uploading",url:t.result}]);this.setState({fileList:r},function(){console.log(n.state.fileList,"shopsBeforeUploadFiles")})}}.bind(r),e.type.startsWith("image/")?(r.UploadFile(e,function(e){if(console.log("\u56de\u8c03\u4fe1\u606f\uff1a",e),"building"===r.props.parentPage){var t=Object.assign({},r.state.imgFiles);t[r.state.picGroup].map(function(t){t.uid===e.fileGuid&&(t.status="done",e.localUrl=t.url,e.group=r.state.picGroup)}),r.setState({imgFiles:t},function(){console.log(r.state.imgFiles,"\u4e0a\u4f20\u4e4b\u540e\u7684\u56de\u8c03\u4fe1\u606f\uff1a")})}else{var n=r.state.fileList.slice();n.map(function(t){t.uid===e.fileGuid&&(t.status="done",e.localUrl=t.url)}),r.setState({fileList:n},function(){console.log(r.state.fileList,"\u4e0a\u4f20\u4e4b\u540e\u7684\u56de\u8c03\u4fe1\u606f\uff1ashop")})}var i=[].concat(a(r.props.completeFileList),[e]);console.log(i,"7"),r.props.dispatch(Object(p._101)({completeFileList:i}))}),!1):(f.L.error({message:"\u53ea\u80fd\u4e0a\u4f20\u56fe\u7247\uff01",duration:3}),!1)},r.handPictureSave=function(){r.props.dispatch(Object(p.e)());var e=r.state.deleteIdArr,t=r.props,n=t.completeFileList,a=t.deletePicList;console.log(n,a,"???s\u5220\u9664\u56fe\u7247\uff1f\uff1f\uff1f\uff1f\uff1f\uff1f\uff1f\uff1f");var i=r.props,o=i.shopsInfo,l=i.buildInfo,c="building"===r.props.parentPage?l.id:o.id;return 0!==n.length?(console.log("\u8fdb\u5165\u7684\u662f\u65b0\u589e\u4e48\uff1f\uff1f"),void r.props.save({parentPage:r.props.parentPage,fileInfo:n,completeFileList:n,id:c,type:r.props.type,ownCity:r.props.user.City})):0!==a.length?(console.log("\u8fdb\u5165\u7684\u662f\u5220\u9664\u4e48\uff1f\uff1f"),void r.props.dispatch(Object(p.L)({parentPage:r.props.parentPage,fileInfo:e,id:c,deletePicList:a,type:r.props.type,ownCity:r.props.user.City}))):void 0},r.UploadFile=function(e,t){var n=r.props.shopsInfo,a=r.props.buildInfo,i="building"===r.props.parentPage?a.id:n.id,o=""+h.a.attach.uploadUrl+i,l=e.uid,c=new FormData;c.append("fileGuid",l),c.append("name",e.name),c.append("file",e);var s=new XMLHttpRequest;s.open("POST",o,!0),s.send(c),s.onload=function(n){if(200===this.status){var a=JSON.parse(this.response);if("0"===a.code){var o={fileGuid:l,from:"pc-upload",WXPath:a.extension,sourceId:i,appId:"houseSource",localUrl:e.url,name:e.name};t&&t(o)}else f.L.error({message:"\u4e0a\u4f20\u5931\u8d25\uff1a",duration:3})}else f.L.error({message:"\u56fe\u7247\u4e0a\u4f20\u5931\u8d25!",duration:3})},s.onerror=function(e){f.L.error({message:"\u56fe\u7247\u4e0a\u4f20\u5931\u8d25!",duration:3})},s.onabort=function(){f.L.error({message:"\u56fe\u7247\u4e0a\u4f20\u5f02\u5e38\u7ec8\u6b62!",duration:3})}},r.handlePreview=function(e){r.setState({previewImage:e.url||e.localUrl,previewVisible:!0})},r.changeTabKey=function(e){r.setState({picGroup:e})},l=n,o(r,l)}return r(t,e),g(t,[{key:"componentDidMount",value:function(){var e=[];"building"===this.props.parentPage?this.props.attachInfo.fileList&&this.getGroup(this.props.attachInfo.fileList):(this.props.shopAttachInfo.fileList&&this.props.shopAttachInfo.fileList.map(function(t){e.push({uid:t.fileGuid,name:t.name||"",status:"done",url:t.icon||t.localUrl})}),this.setState({fileList:e}))}},{key:"componentWillReceiveProps",value:function(e){var t=[];"building"===this.props.parentPage?e.attachInfo.fileList&&(this.initFiles||this.getGroup(e.attachInfo.fileList),this.initFiles=!0):e.shopAttachInfo.fileList&&(e.shopAttachInfo.fileList.map(function(e){t.push({uid:e.fileGuid,name:e.name||"",status:"done",url:e.icon||e.localUrl})}),this.setState({fileList:this.state.fileList},function(){}))}},{key:"render",value:function(){var e=this,t=this.props.operInfo.attachPicOperType,n=this.props.buildingOperInfo.attachPicOperType,a=(this.props.shopsInfo,this.props.buildInfo,this.state),i=a.previewVisible,o=a.previewImage,r=a.fileList,l=(this.props.basicData,d.a.createElement("div",null,d.a.createElement(f.p,{type:"plus"}),d.a.createElement("div",{className:"ant-upload-text"},"\u6dfb\u52a0\u56fe\u7247"))),c={multiple:!0,listType:"picture-card",fileList:r,onPreview:function(t){e.setState({previewImage:t.url||t.localUrl,previewVisible:!0})}};return d.a.createElement("div",{className:""},d.a.createElement(f.s,null,d.a.createElement(A,{className:"",style:{padding:"25px 0",margin:"20px 0",backgroundColor:"#ECECEC"}},"dynamic"===this.props.type?null:d.a.createElement("div",null,d.a.createElement(f.p,{type:"tags-o",className:"content-icon"})," ",d.a.createElement("span",{className:"content-title"},"\u9644\u52a0\u4fe1\u606f")),d.a.createElement(f.z,{type:"flex",justify:"space-between"},d.a.createElement(f.k,{span:24},"dynamic"===this.props.type?null:d.a.createElement("div",{className:"picture"},"\u56fe\u7247"),d.a.createElement("div",{className:"picBox"},"building"===this.props.parentPage?d.a.createElement(f.E,{defaultActiveKey:"1",onChange:this.changeTabKey},this.props.basicData.photoCategories.map(function(t,n){return d.a.createElement(b,{tab:t.key,key:t.value},d.a.createElement("div",{className:"picBox"},d.a.createElement("div",{className:"clearfix"},d.a.createElement(f.K,{listType:"picture-card",fileList:e.state.imgFiles[t.value],onPreview:e.handlePreview,beforeUpload:e.handleBeforeUpload,onRemove:e.hanldeRemove},l),d.a.createElement(f.u,{visible:i,footer:null,onCancel:e.handleCancel},d.a.createElement("img",{alt:"example",style:{width:"100%"},src:o})))))})):d.a.createElement("div",{className:"clearfix"},d.a.createElement(f.K,Object.assign({},c,{beforeUpload:this.handleBeforeUpload,onRemove:this.hanldeRemove}),l),d.a.createElement(f.u,{visible:i,footer:null,onCancel:this.handleCancel},d.a.createElement("img",{alt:"example",style:{width:"100%"},src:o})))))),"dynamic"===this.props.type?null:d.a.createElement(f.z,{type:"flex",justify:"center",className:"BtnTop"},"building"===this.props.parentPage?d.a.createElement("div",null,d.a.createElement(f.g,{type:"primary",size:"default",style:{width:"8rem"},loading:this.props.loadingState,disabled:this.props.buildInfo.isDisabled,onClick:this.handPictureSave},"\u4fdd\u5b58"),"add"!==n?d.a.createElement(f.g,{size:"default",className:"oprationBtn",onClick:this.handleCancelBtn},"\u53d6\u6d88"):null):d.a.createElement("div",null,d.a.createElement(f.g,{type:"primary",size:"default",style:{width:"8rem"},loading:this.props.loadingState,disabled:this.props.shopsInfo.isDisabled,onClick:this.handPictureSave},"\u4fdd\u5b58"),"add"!==t?d.a.createElement(f.g,{size:"default",className:"oprationBtn",onClick:this.handleCancelBtn},"\u53d6\u6d88"):null)))))}}]),t}(u.Component);y.defaultProps={parentPage:"shops"},t.a=Object(s.b)(l,c)(f.o.create()(y))},1711:function(e,t,n){t=e.exports=n(476)(!0),t.push([e.i,".buildingNoEdit .defineInput{display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-align:center;align-items:center}.buildingNoEdit .editable-cell{position:relative}.buildingNoEdit .defineSpan{color:red;font-size:10px}.buildingNoEdit .tagBtn{display:-ms-flexbox;display:flex;margin-bottom:10px}.buildingNoEdit .editable-cell-input-wrapper,.buildingNoEdit .editable-cell-text-wrapper{padding-right:24px}.buildingNoEdit .editable-cell-text-wrapper{padding:5px 24px 5px 5px}.buildingNoEdit .editable-cell-icon,.buildingNoEdit .editable-cell-icon-check{position:absolute;right:0;width:30px;cursor:pointer}.buildingNoEdit .editable-cell-icon{line-height:28px;display:none}.buildingNoEdit .editable-cell-icon-check{line-height:28px}.buildingNoEdit .editable-cell:hover .editable-cell-icon{display:inline-block}.buildingNoEdit .editable-cell-icon-check:hover,.buildingNoEdit .editable-cell-icon:hover{color:#108ee9}.buildingNoEdit .editable-add-btn{margin-bottom:8px}.buildingNoEdit .ant-table-tbody>tr>td,.buildingNoEdit .ant-table-thead>tr>th{padding:5px 8px;word-break:break-all}.buildingNoEdit .ant-table-pagination{display:none}.buildingInfo .ant-table table,.buildingNoEdit .ant-table table{background-color:#fff}","",{version:3,sources:["E:/work/XYH/xinyaohang/DesktopPortal/src/houseResource/pages/buildingDish/components/edit.less"],names:[],mappings:"AAAA,6BACE,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,6BAA8B,AAClC,sBAAuB,AACnB,kBAAoB,CACzB,AACD,+BACE,iBAAmB,CACpB,AACD,4BACE,UAAW,AACX,cAAgB,CACjB,AACD,wBACE,oBAAqB,AACrB,aAAc,AACd,kBAAoB,CACrB,AACD,yFAEE,kBAAoB,CACrB,AACD,4CACE,wBAA0B,CAC3B,AACD,8EAEE,kBAAmB,AACnB,QAAS,AACT,WAAY,AACZ,cAAgB,CACjB,AACD,oCACE,iBAAkB,AAClB,YAAc,CACf,AACD,0CACE,gBAAkB,CACnB,AACD,yDACE,oBAAsB,CACvB,AACD,0FAEE,aAAe,CAChB,AACD,kCACE,iBAAmB,CACpB,AACD,8EAEE,gBAAiB,AACjB,oBAAsB,CACvB,AACD,sCACE,YAAc,CACf,AAID,gEACE,qBAAuB,CACxB",file:"edit.less",sourcesContent:[".buildingNoEdit .defineInput {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.buildingNoEdit .editable-cell {\n  position: relative;\n}\n.buildingNoEdit .defineSpan {\n  color: red;\n  font-size: 10px;\n}\n.buildingNoEdit .tagBtn {\n  display: -ms-flexbox;\n  display: flex;\n  margin-bottom: 10px;\n}\n.buildingNoEdit .editable-cell-input-wrapper,\n.buildingNoEdit .editable-cell-text-wrapper {\n  padding-right: 24px;\n}\n.buildingNoEdit .editable-cell-text-wrapper {\n  padding: 5px 24px 5px 5px;\n}\n.buildingNoEdit .editable-cell-icon,\n.buildingNoEdit .editable-cell-icon-check {\n  position: absolute;\n  right: 0;\n  width: 30px;\n  cursor: pointer;\n}\n.buildingNoEdit .editable-cell-icon {\n  line-height: 28px;\n  display: none;\n}\n.buildingNoEdit .editable-cell-icon-check {\n  line-height: 28px;\n}\n.buildingNoEdit .editable-cell:hover .editable-cell-icon {\n  display: inline-block;\n}\n.buildingNoEdit .editable-cell-icon:hover,\n.buildingNoEdit .editable-cell-icon-check:hover {\n  color: #108ee9;\n}\n.buildingNoEdit .editable-add-btn {\n  margin-bottom: 8px;\n}\n.buildingNoEdit .ant-table-thead > tr > th,\n.buildingNoEdit .ant-table-tbody > tr > td {\n  padding: 5px 8px;\n  word-break: break-all;\n}\n.buildingNoEdit .ant-table-pagination {\n  display: none;\n}\n.buildingNoEdit .ant-table table {\n  background-color: #fff;\n}\n.buildingInfo .ant-table table {\n  background-color: #fff;\n}\n"],sourceRoot:""}])},1712:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{buildInfo:e.building.buildInfo,statusArr:e.active.statusArr,dynamicStatusArr:e.active.dynamicStatusArr,dynamicBuildInfo:e.building.dynamicBuildInfo,projectId:e.active.projectId}}function l(e){return{dispatch:e}}var c=n(92),s=n(1216),p=n(0),u=n.n(p),d=n(46),m=n(27),f=n.n(m),h=n(1416),g=(n.n(h),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),A=d.D.Column,b=(d.D.ColumnGroup,function(e){function t(){var e,n,o,r;a(this,t);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={projectId:""},o.handleEdit=function(e){o.props.dispatch(Object(s.O)())},o.compare=function(e){return function(t,n){t[e],n[e]}},o.initData=function(e){o.setState({projectId:e},function(){if("dynamic"===o.props.type){var e={pageSize:1,isCurrent:!0,contentTypes:["BuildingNo"],contentIds:[o.state.projectId]};o.props.dispatch(Object(s._18)({condition:e,id:o.state.projectId,updateType:1}))}})},r=n,i(o,r)}return o(t,e),g(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillMount",value:function(){this.initData(this.props.projectId)}},{key:"componentWillReceiveProps",value:function(e){e.projectId!==this.state.projectId&&this.initData(e.projectId)}},{key:"render",value:function(){var e={};0!==this.props.statusArr.length&&(e=(this.props.statusArr||[]).find(function(e){return"BuildingNo"===e.action})||{});var t=[],n=this.props,a=n.buildInfo,i=n.dynamicBuildInfo,o=n.dynamicStatusArr;return t="dynamic"===this.props.type?"{}"===JSON.stringify(e)?a.buildingNoInfos||[]:[1,16].includes(o.examineStatus)?i.buildingNoInfos||[]:a.buildingNoInfos||[]:a.buildingNoInfos||[],t.forEach(function(e){e.openDate&&""!==e.openDate&&(e.openDate=f()(e.openDate).format("YYYY-MM-DD")),"Invalid date"===e.openDate&&(e.openDate=""),e.deliveryDate=f()(e.deliveryDate).format("YYYY-MM-DD")}),t.sort(function(e,t){return f()(e.openDate)>=f()(t.openDate)&&f()(e.deliveryDate)>=f()(t.deliveryDate)}),t.sort(function(e,t){return parseInt(e.storied)-parseInt(t.storied)}),u.a.createElement("div",{style:{marginTop:"25px",backgroundColor:"#ECECEC"},className:"buildingInfo"},u.a.createElement(d.z,{type:"flex",style:{padding:"1rem 0"}},u.a.createElement(d.k,{span:20},u.a.createElement(d.p,{type:"tags-o",className:"content-icon"})," ",u.a.createElement("span",{className:"content-title"},"\u697c\u680b\u6279\u6b21\u4fe1\u606f")),u.a.createElement(d.k,{span:4},"dynamic"===this.props.type?[1].includes(e.examineStatus)?null:u.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}):[1,8].includes(a.examineStatus)?null:u.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}))),u.a.createElement(d.z,null,u.a.createElement(d.D,{dataSource:t,style:{padding:" 20px"}},u.a.createElement(A,{title:"\u7f16\u53f7",dataIndex:"storied",key:"storied"}),u.a.createElement(A,{title:"\u5f00\u76d8\u65f6\u95f4",dataIndex:"openDate",key:"openDate"}),u.a.createElement(A,{title:"\u4ea4\u623f\u65f6\u95f4",dataIndex:"deliveryDate",key:"deliveryDate"}))))}}]),t}(p.Component));t.a=Object(c.b)(r,l)(b)},1713:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{buildInfo:e.building.buildInfo,statusArr:e.active.statusArr,dynamicStatusArr:e.active.dynamicStatusArr,dynamicBuildInfo:e.building.dynamicBuildInfo,projectId:e.active.projectId}}function l(e){return{dispatch:e}}var c=n(92),s=n(1216),p=n(0),u=n.n(p),d=n(46),m=(n(1279),n(27)),f=n.n(m),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=function(e){function t(){var e,n,o,r;a(this,t);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={projectId:""},o.initData=function(e){o.setState({projectId:e},function(){if(console.log("\u8bf7\u6c42\u63a5\u53e3\u6ca1\u6709\uff1f\uff1f\uff1f\uff1f"),"dynamic"===o.props.type){var e={pageSize:1,isCurrent:!0,contentTypes:["ReportRule"],contentIds:[o.state.projectId]};o.props.dispatch(Object(s._18)({condition:e,id:o.state.projectId,updateType:1}))}})},o.handleEdit=function(e){console.log("\u7f16\u8f91"),o.props.dispatch(Object(s._94)())},r=n,i(o,r)}return o(t,e),h(t,[{key:"componentWillMount",value:function(){console.log(this.state.projectId,"\u672c\u5730id"),this.initData(this.props.projectId)}},{key:"componentWillReceiveProps",value:function(e){e.projectId!==this.state.projectId&&(console.log("\u53d8\u4e86id",e.projectId),this.initData(e.projectId))}},{key:"render",value:function(){var e=this.props,t=e.buildInfo,n=e.dynamicBuildInfo,a=e.dynamicStatusArr,i=void 0,o=(this.props.statusArr||[]).find(function(e){return"ReportRule"===e.action})||{};return console.log(JSON.stringify(t),this.props.dynamicBuildInfo,this.props.dynamicStatusArr,"??\u5176\u4ed6\u89c4\u5219"),"dynamic"===this.props.type?"{}"===JSON.stringify(o)?(i=t.ruleInfo||{},console.log(i,1111),i.liberatingStart&&(i.liberatingStart=f()(i.liberatingStart).format("HH:mm")),i.liberatingEnd&&(i.liberatingEnd=f()(i.liberatingEnd).format("HH:mm"))):[1,16].includes(a.examineStatus)?(i=n.ruleInfo||{},console.log(i,2222),i.liberatingStart&&(i.liberatingStart=f()(i.liberatingStart).format("HH:mm")),i.liberatingEnd&&(i.liberatingEnd=f()(i.liberatingEnd).format("HH:mm"))):(i=t.ruleInfo||{},console.log(i,333),i.liberatingStart&&(i.liberatingStart=f()(i.liberatingStart).format("HH:mm")),i.liberatingEnd&&(i.liberatingEnd=f()(i.liberatingEnd).format("HH:mm"))):(i=t.ruleInfo||{},i.liberatingStart&&""!==i.liberatingStart&&(i.liberatingStart=f()(i.liberatingStart).format("HH:mm")),i.liberatingEnd&&""!==i.liberatingEnd&&(i.liberatingEnd=f()(i.liberatingEnd).format("HH:mm"))),console.log(i,"view*****"),u.a.createElement("div",{style:{marginTop:"25px",backgroundColor:"#ECECEC"}},u.a.createElement(d.o,{layout:"horizontal"},u.a.createElement(d.z,{type:"flex",style:{padding:"1rem 0"}},u.a.createElement(d.k,{span:20},u.a.createElement(d.p,{type:"tags-o",className:"content-icon"}),u.a.createElement("span",{className:"content-title"},"\u62a5\u5907\u89c4\u5219")),u.a.createElement(d.k,{span:4},"dynamic"===this.props.type?[1].includes(o.examineStatus)?null:u.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}):[1,8].includes(this.props.buildInfo.examineStatus)?null:u.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}))),u.a.createElement(d.z,{className:"viewRow"},u.a.createElement(d.k,{span:12},"\u62a5\u5907\u6709\u6548\u671f\uff1a",i.validityDay?" "+i.validityDay+"  \u5929 ":" \u65e0 "," "),u.a.createElement(d.k,{span:12},"\u5e26\u770b\u4fdd\u62a4\u671f\uff1a",i.beltProtectDay?" "+i.beltProtectDay+" \u5929 ":" \u65e0 "," ")),u.a.createElement(d.z,{className:"viewRow"},u.a.createElement(d.k,{span:12},"\u5411\u5f00\u53d1\u5546\u62a5\u5907\u4fe1\u606f\u4e0a\u9650\uff1a",i.maxCustomer?" "+i.maxCustomer+"  \u6761 ":" \u65e0 "),u.a.createElement(d.k,{span:12},"\u5e26\u770b\u65f6\u95f4\uff1a",i.liberatingStart?i.liberatingStart:"\u65e0"," \u2014\u2014 ",i.liberatingEnd?i.liberatingEnd:"\u65e0")),u.a.createElement(d.z,{className:"viewRow"},u.a.createElement(d.k,{span:12},"\u62a5\u5907\u5f00\u59cb\u65e5\u671f\uff1a",i.reportTime?f()(i.reportTime).format("YYYY-MM-DD"):"\u65e0"),u.a.createElement(d.k,{span:12},"\u62a5\u5907\u63d0\u524d\u65f6\u95f4\uff1a",i.advanceTime?" "+i.advanceTime+"  \u5206\u949f ":" \u65e0 ")),i.isCompletenessPhone?u.a.createElement(d.z,{className:"viewRow",style:{color:"red"}},u.a.createElement(d.k,{span:24},"\u5f00\u53d1\u5546\u8981\u6c42\u62a5\u5907\u65f6\u663e\u793a\u5ba2\u6237\u624b\u673a\u5b8c\u6574\u53f7\u7801\uff01")):null,u.a.createElement(d.z,{className:"viewRow",style:{paddingBottom:"25px"}},u.a.createElement(d.k,{span:24},"\u5907\u6ce8\uff1a",i.mark||"\u65e0"))))}}]),t}(p.Component);t.a=Object(c.b)(r,l)(g)},1714:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{buildInfo:e.building.buildInfo,user:(e.oidc.user||{}).profile||{},dynamicStatusArr:e.active.dynamicStatusArr,dynamicBuildInfo:e.building.dynamicBuildInfo,projectId:e.active.projectId,statusArr:e.active.statusArr}}function l(e){return{dispatch:e}}var c=n(92),s=n(1216),p=n(0),u=n.n(p),d=n(46),m=(n(1279),n(1304)),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h={id:"4fa9fe37-2899-4174-a1c9-ad8e00188b5a",customerId:"fba92d39-2aeb-4d19-88cd-99143e6fa598",customerName:"\u5f20\u4e09",userId:"5cfe1b85-360b-4014-94bc-3e37cece7339",departmentId:"0",departmentName:"\u897f\u533a\u4e00\u533a\u4e00\u7ec4",mainPhone:"150****3636",userPhone:"13122220000",userTrueName:"\u4e1a\u52a1\u5458A",transactionsStatus:2,reportTime:"2017-11-30T17:59:32.191637",buildingId:"b5a0baae-9691-4a20-9723-c07f9d2b7631",shopsId:"77b11f39-d70f-47d1-9edc-24ab794dbc34",buildingName:"\u4e07\u79d1\u91d1\u8272\u60a6\u57ce",shopsName:"3",expectedBeltTime:"2017-11-28T17:48:53.770883"},g=function(e){function t(){var e,n,o,r;a(this,t);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={projectId:""},o.initData=function(e){o.setState({projectId:e},function(){if("dynamic"===o.props.type){var e={pageSize:1,isCurrent:!0,contentTypes:["ReportRule"],contentIds:[o.state.projectId]};o.props.dispatch(Object(s._18)({condition:e,id:o.state.projectId,updateType:1}))}})},o.handleEdit=function(e){o.props.dispatch(Object(s._95)())},r=n,i(o,r)}return o(t,e),f(t,[{key:"componentWillMount",value:function(){console.log(this.state.projectId,"\u672c\u5730id"),this.initData(this.props.projectId)}},{key:"componentWillReceiveProps",value:function(e){e.projectId!==this.state.projectId&&(console.log("\u53d8\u4e86id",e.projectId),this.initData(e.projectId))}},{key:"render",value:function(){var e=this.props,t=e.buildInfo,n=e.dynamicBuildInfo,a=e.dynamicStatusArr,i=(this.props.statusArr||[]).find(function(e){return"ReportRule"===e.action})||{},o=void 0,r=void 0,l=void 0;console.log(t,this.props.dynamicBuildInfo,this.props.dynamicStatusArr,"??/"),"dynamic"===this.props.type?(console.log("\u52a8\u6001\u9875\u9762\u54df"),"{}"===JSON.stringify(i)?(o=t.ruleInfo||{},r=o.reportedTemplate,l=[],r&&(l=JSON.parse(r))):[1,16].includes(a.examineStatus)?(o=n.ruleInfo||{})&&(l=o.reportedTemplate):(o=t.ruleInfo||{},r=o.reportedTemplate,l=[],r&&(l=JSON.parse(r)))):(o=t.ruleInfo||{},r=o.reportedTemplate,l=[],r&&(l=JSON.parse(r)));var c=this.props.buildInfo||{};c.buildingBasic&&c.buildingBasic.name||(c.buildingBasic={name:"\u697c\u76d8\u540d\u79f0"});var s=void 0;return l&&(console.log(l,"\u5c55\u793a\u7684\u6a21\u677f\u6570\u636e\u662f\u4e0d\u662f\u5bf9\u7684"),s=Object(m.a)(l,h,this.props.user,c)),u.a.createElement(d.o,{layout:"horizontal",style:{paddingBottom:"25px",backgroundColor:"#ECECEC"}},u.a.createElement(d.z,{type:"flex"},u.a.createElement(d.k,{span:20},u.a.createElement(d.p,{type:"tags-o",className:"content-icon"}),u.a.createElement("span",{className:"content-title"},"\u62a5\u5907\u6a21\u677f")),u.a.createElement(d.k,{span:4},"dynamic"===this.props.type?[1].includes(i.examineStatus)?null:u.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}):[1,8].includes(this.props.buildInfo.examineStatus)?null:u.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}))),u.a.createElement(d.z,{className:"viewRow",style:{paddingBottom:"25px"}},s?u.a.createElement("pre",null,s):"\u6682\u65e0\u6a21\u677f"))}}]),t}(p.Component);t.a=Object(c.b)(r,l)(g)},1715:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{descriptionValue:e.active.descriptionValue,dynamicStatusArr:e.active.dynamicStatusArr,buildInfo:e.building.buildInfo,recordList:e.active.recordList,projectId:e.active.projectId}}function l(e){return{dispatch:e}}var c=n(92),s=n(1216),p=n(0),u=n.n(p),d=n(46),m=n(27),f=(n.n(m),n(1221),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),h=function(e){function t(){var e,n,o,r;a(this,t);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={detailValue:"",defaultValue:"",defaultTitleValue:"",titleValue:"",id:""},o.onChangeTitleValue=function(e){o.setState({titleValue:e.target.value},function(){o.props.dispatch(Object(s._133)(o.state.titleValue))})},o.onChangeValue=function(e){o.setState({detailValue:e.target.value},function(){o.props.dispatch(Object(s._131)(o.state.detailValue))})},r=n,i(o,r)}return o(t,e),f(t,[{key:"componentWillMount",value:function(){var e=this.props.dynamicStatusArr||[];this.setState({id:e.id||""})}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.dynamicStatusArr,a=e.recordList;n.id!==this.state.id&&(a.length>0&&[1,16].includes(n.examineStatus)&&this.setState({detailValue:n.content,titleValue:n.title}),this.setState({id:n.id},function(){console.log(t.state.id,">>>>>>>")}))}},{key:"render",value:function(){var e=this.props.text;return u.a.createElement("div",{className:"textPic"},u.a.createElement("div",{style:{marginBottom:"10px"}},"\u586b\u5199\u4ee5\u4e0b\u4fe1\u606f\uff0c\u53ca\u65f6\u901a\u77e5\u4e1a\u52a1\u5458\u623f\u6e90\u52a8\u6001\u4fe1\u606f\u53d8\u66f4"),u.a.createElement(d.q,{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898\uff08\u5fc5\u586b\uff09...",style:{width:200,marginBottom:"10px"},onChange:this.onChangeTitleValue,defaultValue:this.state.defaultTitleValue,value:this.state.titleValue,disabled:"\u5ba1\u6838\u4e2d"===e}),u.a.createElement("div",{className:"text"},u.a.createElement(d.q,{type:"textarea",rows:8,placeholder:"\u8bf7\u8f93\u5165\u8be6\u7ec6\u63cf\u8ff0\uff08\u5fc5\u586b\uff09...",defaultValue:this.state.defaultValue,value:this.state.detailValue,disabled:"\u5ba1\u6838\u4e2d"===e,onChange:this.onChangeValue})))}}]),t}(p.Component);t.a=Object(c.b)(r,l)(h)},1734:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{buildInfo:e.building.buildInfo,statusArr:e.active.statusArr,dynamicStatusArr:e.active.dynamicStatusArr,dynamicBuildInfo:e.building.dynamicBuildInfo,projectId:e.active.projectId}}function l(e){return{dispatch:e}}var c=n(92),s=n(1216),p=n(0),u=n.n(p),d=n(46),m=(n(1279),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),f=function(e){function t(){var e,n,o,r;a(this,t);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={projectId:""},o.initData=function(e){o.setState({projectId:e},function(){if("dynamic"===o.props.type){var e={pageSize:1,isCurrent:!0,contentTypes:["CommissionType"],contentIds:[o.state.projectId]};o.props.dispatch(Object(s._18)({condition:e,id:o.state.projectId,updateType:1}))}})},o.handleEdit=function(e){o.props.dispatch(Object(s.y)())},r=n,i(o,r)}return o(t,e),m(t,[{key:"componentWillMount",value:function(){this.initData(this.props.projectId)}},{key:"componentWillReceiveProps",value:function(e){e.projectId!==this.state.projectId&&this.initData(e.projectId)}},{key:"render",value:function(){var e=(this.props.statusArr||[]).find(function(e){return"CommissionType"===e.action})||{},t=void 0,n=this.props,a=n.buildInfo,i=n.dynamicBuildInfo,o=n.dynamicStatusArr;return t="dynamic"===this.props.type?"{}"===JSON.stringify(e)?a.commissionPlan||"":[1,16].includes(o.examineStatus)?i.commissionPlan:a.commissionPlan||"":a.commissionPlan||"",u.a.createElement("div",{style:{marginTop:"25px",backgroundColor:"#ECECEC"}},u.a.createElement(d.o,{layout:"horizontal"},u.a.createElement(d.z,{type:"flex",style:{padding:"1rem 0"}},u.a.createElement(d.k,{span:20},u.a.createElement(d.p,{type:"tags-o",className:"content-icon"}),u.a.createElement("span",{className:"content-title"},"\u4f63\u91d1\u65b9\u6848")),u.a.createElement(d.k,{span:4},"dynamic"===this.props.type?[1].includes(e.examineStatus)?null:u.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}):[1,8].includes(this.props.buildInfo.examineStatus)?null:u.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}))),u.a.createElement(d.z,{style:{padding:"20px 4rem"}},u.a.createElement(d.k,{span:24},t||"\u6682\u65e0"))))}}]),t}(p.Component);t.a=Object(c.b)(r,l)(f)},1735:function(e,t,n){var a=n(1736);"string"===typeof a&&(a=[[e.i,a,""]]);var i={};i.transform=void 0;n(477)(a,i);a.locals&&(e.exports=a.locals)},1736:function(e,t,n){t=e.exports=n(476)(!0),t.push([e.i,".activeList{margin-top:25px}.activeList .listBox{width:100%;padding:0 10px;margin-top:10px;background-color:#fff}.activeList .listBox .noSubmit{color:red;padding-left:10px}.activeList .listBox .list_part{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding:10px 0}.activeList .listBox .list_part .addShopsIcon,.activeList .listBox .list_part .buldingTitle{font-weight:700}.activeList .listBox .list_part .addShopsIcon{cursor:pointer}.activeList .listBox .list_shops{padding:10px 20px;border-top:1px solid #dcdcdc}.activeList .listBox .list_shops .deleteShop{cursor:pointer}.activeList .listBox .moreBtn{text-align:center;padding:15px 0;cursor:pointer}.activeProjectPage .myicon,.activeShopPage .myicon{vertical-align:middle;margin-right:10px}.activeProjectPage .rulesTemplate .centerDiv{width:95%;margin:0 auto}.activeProjectPage .rulesTemplate .centerDiv .flexDiv{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin:10px 0}.activeProjectPage .rulesTemplate .ant-card-body{padding:15px}.collapseList .itemContent{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.collapseList .checkedShop{width:7rem;height:3rem;display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:relative;border:1px solid #1992ea;padding:5px 1rem;margin:0 10px 10px 0;color:#1992ea}.collapseList .checkedShop .icon{position:absolute;right:0;top:0}.collapseList .checkShop{width:7rem;height:3rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;position:relative;border:1px solid #dcdcdc;padding:5px 1rem;margin:0 10px 10px 0}.collapseList .checkShop .icon{position:absolute;right:0;top:0}.collapseList .notcheckShop{width:7rem;height:3rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:relative;border:1px solid #dcdcdc;padding:5px 1rem;margin:0 10px 10px 0}.collapseList .notcheckShop .icon{position:absolute;right:0;top:0}.collapseList .notCheckedShop{width:7rem;height:3rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:relative;border:1px solid #1992ea;padding:5px 1rem;color:#1992ea;margin:0 10px 10px 0}.collapseList .notCheckedShop .icon{position:absolute;right:0;top:0}.textPic{padding-top:40px}.textPic .text{margin:0 auto}.textPic .mypic{margin-top:20px}.ant-upload-select-picture-card i{font-size:28px;color:#999}.ant-upload-select-picture-card .ant-upload-text{margin-top:8px;font-size:12px;color:#666}.formBtn{margin-left:40px;width:8rem}","",{version:3,sources:["E:/work/XYH/xinyaohang/DesktopPortal/src/houseResource/pages/houseActive/houseActive.less"],names:[],mappings:"AAAA,YACE,eAAiB,CAClB,AACD,qBACE,WAAY,AACZ,eAAgB,AAChB,gBAAiB,AACjB,qBAAuB,CACxB,AACD,+BACE,UAAW,AACX,iBAAmB,CACpB,AACD,gCACE,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,8BAA+B,AACnC,sBAAuB,AACnB,mBAAoB,AACxB,cAAgB,CACjB,AACD,4FAEE,eAAkB,CACnB,AACD,8CACE,cAAgB,CACjB,AACD,iCACE,kBAAmB,AACnB,4BAA8B,CAC/B,AACD,6CACE,cAAgB,CACjB,AACD,8BACE,kBAAmB,AACnB,eAAgB,AAChB,cAAgB,CACjB,AACD,mDAEE,sBAAuB,AACvB,iBAAmB,CACpB,AACD,6CACE,UAAW,AACX,aAAe,CAChB,AACD,sDACE,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,mBAAoB,AACxB,aAAe,CAChB,AACD,iDACE,YAAc,CACf,AACD,2BACE,oBAAqB,AACrB,aAAc,AACd,mBAAoB,AAChB,cAAgB,CACrB,AACD,2BACE,WAAY,AACZ,YAAa,AACb,oBAAqB,AACrB,aAAc,AACd,eAAgB,AAChB,sBAAuB,AACnB,mBAAoB,AACxB,qBAAsB,AAClB,uBAAwB,AAC5B,kBAAmB,AACnB,yBAA0B,AAC1B,iBAAkB,AAClB,qBAAsB,AACtB,aAAe,CAChB,AACD,iCACE,kBAAmB,AACnB,QAAS,AACT,KAAO,CACR,AACD,yBACE,WAAY,AACZ,YAAa,AACb,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,mBAAoB,AACxB,qBAAsB,AAClB,uBAAwB,AAC5B,eAAgB,AAChB,kBAAmB,AACnB,yBAA0B,AAC1B,iBAAkB,AAClB,oBAAsB,CACvB,AACD,+BACE,kBAAmB,AACnB,QAAS,AACT,KAAO,CACR,AACD,4BACE,WAAY,AACZ,YAAa,AACb,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,mBAAoB,AACxB,qBAAsB,AAClB,uBAAwB,AAC5B,kBAAmB,AACnB,yBAA0B,AAC1B,iBAAkB,AAClB,oBAAsB,CACvB,AACD,kCACE,kBAAmB,AACnB,QAAS,AACT,KAAO,CACR,AACD,8BACE,WAAY,AACZ,YAAa,AACb,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,mBAAoB,AACxB,qBAAsB,AAClB,uBAAwB,AAC5B,kBAAmB,AACnB,yBAA0B,AAC1B,iBAAkB,AAClB,cAAe,AACf,oBAAsB,CACvB,AACD,oCACE,kBAAmB,AACnB,QAAS,AACT,KAAO,CACR,AACD,SACE,gBAAkB,CACnB,AACD,eACE,aAAe,CAChB,AACD,gBACE,eAAiB,CAClB,AACD,kCACE,eAAgB,AAChB,UAAY,CACb,AACD,iDACE,eAAgB,AAChB,eAAgB,AAChB,UAAY,CACb,AACD,SACE,iBAAkB,AAClB,UAAY,CACb",file:"houseActive.less",sourcesContent:[".activeList {\n  margin-top: 25px;\n}\n.activeList .listBox {\n  width: 100%;\n  padding: 0 10px;\n  margin-top: 10px;\n  background-color: #fff;\n}\n.activeList .listBox .noSubmit {\n  color: red;\n  padding-left: 10px;\n}\n.activeList .listBox .list_part {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  -ms-flex-align: center;\n      align-items: center;\n  padding: 10px 0;\n}\n.activeList .listBox .list_part .buldingTitle,\n.activeList .listBox .list_part .addShopsIcon {\n  font-weight: bold;\n}\n.activeList .listBox .list_part .addShopsIcon {\n  cursor: pointer;\n}\n.activeList .listBox .list_shops {\n  padding: 10px 20px;\n  border-top: 1px solid #dcdcdc;\n}\n.activeList .listBox .list_shops .deleteShop {\n  cursor: pointer;\n}\n.activeList .listBox .moreBtn {\n  text-align: center;\n  padding: 15px 0;\n  cursor: pointer;\n}\n.activeProjectPage .myicon,\n.activeShopPage .myicon {\n  vertical-align: middle;\n  margin-right: 10px;\n}\n.activeProjectPage .rulesTemplate .centerDiv {\n  width: 95%;\n  margin: 0 auto;\n}\n.activeProjectPage .rulesTemplate .centerDiv .flexDiv {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  margin: 10px 0;\n}\n.activeProjectPage .rulesTemplate .ant-card-body {\n  padding: 15px;\n}\n.collapseList .itemContent {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.collapseList .checkedShop {\n  width: 7rem;\n  height: 3rem;\n  display: -ms-flexbox;\n  display: flex;\n  cursor: pointer;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  position: relative;\n  border: 1px solid #1992EA;\n  padding: 5px 1rem;\n  margin: 0 10px 10px 0;\n  color: #1992EA;\n}\n.collapseList .checkedShop .icon {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.collapseList .checkShop {\n  width: 7rem;\n  height: 3rem;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  cursor: pointer;\n  position: relative;\n  border: 1px solid #dcdcdc;\n  padding: 5px 1rem;\n  margin: 0 10px 10px 0;\n}\n.collapseList .checkShop .icon {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.collapseList .notcheckShop {\n  width: 7rem;\n  height: 3rem;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  position: relative;\n  border: 1px solid #dcdcdc;\n  padding: 5px 1rem;\n  margin: 0 10px 10px 0;\n}\n.collapseList .notcheckShop .icon {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.collapseList .notCheckedShop {\n  width: 7rem;\n  height: 3rem;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  position: relative;\n  border: 1px solid #1992EA;\n  padding: 5px 1rem;\n  color: #1992EA;\n  margin: 0 10px 10px 0;\n}\n.collapseList .notCheckedShop .icon {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.textPic {\n  padding-top: 40px;\n}\n.textPic .text {\n  margin: 0 auto;\n}\n.textPic .mypic {\n  margin-top: 20px;\n}\n.ant-upload-select-picture-card i {\n  font-size: 28px;\n  color: #999;\n}\n.ant-upload-select-picture-card .ant-upload-text {\n  margin-top: 8px;\n  font-size: 12px;\n  color: #666;\n}\n.formBtn {\n  margin-left: 40px;\n  width: 8rem;\n}\n"],sourceRoot:""}])},1766:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{projectId:e.active.projectId,shopId:e.active.shopId,pushCheckedArr:e.active.pushCheckedArr,shopList:e.active.shopList,hotCheckedArr:e.active.hotCheckedArr}}function l(e){return{dispatch:e}}var c=n(92),s=n(1216),p=n(0),u=n.n(p),d=n(46),m=n(27),f=(n.n(m),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),h=d.l.Panel,g=(d.s.Header,d.s.Sider,d.s.Content,d.E.TabPane,function(e){function t(){var e,n,o,r;a(this,t);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={buildingNo:[]},o.changeChecked=function(e,t,n){var a=o.state.buildingNo.slice();if(a[n].children[t].checked=!a[n].children[t].checked,a[n].children[t].checked)e.push({id:a[n].children[t].id,buildingNo:a[n].children[t].buildingNo,floorNo:a[n].children[t].floorNo,number:a[n].children[t].number});else{var i=e.findIndex(function(e){return e.id===a[n].children[t].id});e.splice(i,1)}o.setState({buildingNo:a},function(){o.props.dispatch(Object(s._83)({arr:e,type:o.props.type}))})},o.clickItem=function(e,t,n){var a=void 0,i=void 0;"hot"===o.props.type?(a=o.props.hotCheckedArr,o.changeChecked(a,t,n)):(i=o.props.pushCheckedArr,o.changeChecked(i,t,n))},r=n,i(o,r)}return o(t,e),f(t,[{key:"componentWillMount",value:function(){this.setState({buildingNo:this.props.list})}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.setState({buildingNo:e.list})}},{key:"render",value:function(){var e=this,t=this.state.buildingNo;return u.a.createElement("div",{className:"collapseList"},u.a.createElement(d.l,null,t.map(function(t,n){return u.a.createElement(h,{header:t.buildingNo,key:""+n},u.a.createElement("div",{className:"kanbanItem"},u.a.createElement("div",{className:"itemContent"},"\u5ba1\u6838\u4e2d"===e.props.text?t.children.map(function(e,t){return u.a.createElement("div",{className:e.checked?"notCheckedShop":"notcheckShop",key:t},e.checked?u.a.createElement(d.p,{type:"check",className:"icon",size:"small"}):null,u.a.createElement("div",null,e.buildingNo+"-"+e.floorNo+"-"+e.number))}):t.children.map(function(t,a){return u.a.createElement("div",{className:t.checked?"checkedShop":"checkShop",key:a,onClick:function(){return e.clickItem(t,a,n)}},t.checked?u.a.createElement(d.p,{type:"check",className:"icon",size:"small"}):null,u.a.createElement("div",null,t.buildingNo+"-"+t.floorNo+"-"+t.number))}))))})))}}]),t}(p.Component));t.a=Object(c.b)(r,l)(g)},1791:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{dataSource:e.building.buildInfo.buildingNoInfos,buildInfo:e.building.buildInfo,editGroup:e.building.editGroup,basicData:e.basicData,operInfo:e.building.operInfo,optionsNum:e.building.optionsNum,optionsEng:e.building.optionsEng,mySelectedRows:e.building.mySelectedRows,loadingState:e.building.batchBuildloading,user:(e.oidc.user||{}).profile||{}}}function c(e){return{dispatch:e,activeAdd:function(){return e(p.c.apply(void 0,arguments))},viewBatchBuilding:function(){return e(Object(p._157)())},save:function(){return e(p._98.apply(void 0,arguments))},comfirmCreateBuilding:function(){return e(p.w.apply(void 0,arguments))},changeCell:function(){return e(p.n.apply(void 0,arguments))}}}var s=n(92),p=n(1216),u=n(0),d=n.n(u),m=n(46),f=n(27),h=(n.n(f),n(1416)),g=(n.n(h),n(1792)),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=m.o.Item,y=(m.A.Option,m.j.Group,m.y.Button),C=m.y.Group,E=function(e){function t(){var e,n,a,r;i(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={loadingState:!1,visibleModal:!1,selectedRowKeys:[],mySelectedRows:[],selectNum:"1",firstDate:null,lastDate:null,defineCode:"",defineStart:"",defineEnd:"",numStartValue:"",numEndValue:"",engStartValue:"",engEndValue:"",redText:!0,flag:!0,columns:[{title:"\u7f16\u53f7",dataIndex:"storied"},{title:"\u5f00\u76d8\u65f6\u95f4",dataIndex:"openDate",render:function(e,t,n){return d.a.createElement(g.a,{value:e,onChange:a.onCellOpenDateChange(n,"openDate")})}},{title:"\u4ea4\u623f\u65f6\u95f4",dataIndex:"deliveryDate",render:function(e,t,n){return d.a.createElement(g.a,{value:e,onChange:a.onCellDeliveryDateChange(n,"deliveryDate")})}}]},a.onCellOpenDateChange=function(e,t){return function(n){console.log(n,"opendate"),a.props.changeCell({value:n,index:e,key:t})}},a.onCellDeliveryDateChange=function(e,t){return function(n){a.props.changeCell({value:n,index:e,key:t})}},a.handleChange=function(e){switch(e.target.value){case"1":a.setState(Object.assign({},a.state,{selectNum:"1"}));break;case"2":a.setState(Object.assign({},a.state,{selectNum:"2"}));break;default:a.setState(Object.assign({},a.state,{selectNum:"3"}))}},a.showModal=function(){a.setState({visibleModal:!0,selectNum:"1",numStartValue:"",numEndValue:"",engStartValue:"",engEndValue:"",defineCode:"",defineStart:"",defineEnd:"",firstDate:null,lastDate:null,redText:!0})},a.handleOkModal=function(e){console.log(a.state.redText,"\u70b9\u51fb");var t=a.state,n=t.selectNum,i=t.firstDate,o=t.lastDate,r=t.defineStart,l=t.numStartValue,c=t.numEndValue,s=t.engStartValue,u=t.engEndValue,d=t.defineCode,m=t.defineEnd;o?(a.props.comfirmCreateBuilding({selectNum:n,firstDate:i,lastDate:o,numStartValue:l,numEndValue:c,engStartValue:s,engEndValue:u,defineCode:d,defineStart:r,defineEnd:m}),a.setState({visibleModal:!1})):a.setState({redText:!1}),a.state.mySelectedRows&&a.props.dispatch(Object(p._103)({mySelectedRows:a.state.mySelectedRows}))},a.handleCancelModal=function(e){a.setState({visibleModal:!1})},a.firstTimeChange=function(e,t){a.setState({firstDate:e})},a.lastTimeChange=function(e,t){a.setState({lastDate:e},function(){a.state.lastDate?a.setState({redText:!0}):a.setState({redText:!1})})},a.onChangeDefine=function(e){a.setState({defineCode:e.target.value})},a.clickNum=function(e){"1"===e&&a.setState({flag:!0,defineCode:a.state.defineCode+"[\u6570\u5b57]"})},a.clickEng=function(e){"2"===e&&a.setState({flag:!1,defineCode:a.state.defineCode+"[\u5b57\u6bcd]"})},a.numStart=function(e){a.setState({numStartValue:e})},a.numEnd=function(e){a.setState({numEndValue:e})},a.engStart=function(e){e.target.value=e.target.value.replace(/[^\a-\z\A-\Z]/g,""),a.setState({engStartValue:e.target.value})},a.engEnd=function(e){e.target.value=e.target.value.replace(/[^\a-\z\A-\Z]/g,""),a.setState({engEndValue:e.target.value})},a.defineStartChange=function(e){a.state.flag?e.target.value=e.target.value.replace(/[^0-9]/g,""):e.target.value=e.target.value.replace(/[^\a-\z\A-\Z]/g,""),a.setState({defineStart:e.target.value})},a.defineEndChange=function(e){a.state.flag?e.target.value=e.target.value.replace(/[^0-9]/g,""):e.target.value=e.target.value.replace(/[^\a-\z\A-\Z]/g,""),a.setState({defineEnd:e.target.value})},a.handleCancel=function(e){a.props.viewBatchBuilding()},a.handleSave=function(e){e.preventDefault(),a.props.dispatch(Object(p.i)());var t=a.props.operInfo.batchBuildOperType,n=a.props.buildInfo;console.log(a.state.mySelectedRows,"\u5f55\u5165\u697c\u76d8\u7684\u697c\u680b\u6279\u6b21\u6570\u636e\u683c\u5f0f\u662f\u4ec0\u4e48"),a.props.save({batchBuildOperType:t,entity:a.state.mySelectedRows,id:n.id,ownCity:a.props.user.City})},a.onSelectChange=function(e,t){a.props.dispatch(Object(p._103)({mySelectedRows:t})),a.setState({mySelectedRows:t,selectedRowKeys:e},function(){console.log(a.state.mySelectedRows,"aaaa")})},r=n,o(a,r)}return r(t,e),A(t,[{key:"componentWillMount",value:function(){var e=[];this.props.dataSource.map(function(t){e.push(t.storied)}),this.setState({selectedRowKeys:e,mySelectedRows:this.props.dataSource})}},{key:"componentWillReceiveProps",value:function(e){var t=[];e.dataSource.map(function(e){t.push(e.storied)}),this.setState({selectedRowKeys:t,mySelectedRows:this.props.dataSource})}},{key:"render",value:function(){var e,t=this,n={labelCol:{span:6},wrapperCol:{span:14}},i=this.state,o=i.selectNum,r=i.firstDate,l=i.lastDate,c=i.numStartValue,s=i.numEndValue,p=i.engStartValue,u=i.defineStart,f=i.defineEnd,h=i.engEndValue,g=i.selectedRowKeys,A=(this.props.mySelectedRows,{selectedRowKeys:g,hideDefaultSelections:!0,onChange:this.onSelectChange,getCheckboxProps:function(e){return{defaultChecked:!1}}}),E=this.props.operInfo.batchBuildOperType;return d.a.createElement(m.o,{layout:"horizontal",style:{padding:"25px 0",marginTop:"25px",backgroundColor:"#ECECEC"},className:"buildingNoEdit"},d.a.createElement(m.p,{type:"tags-o",className:"content-icon"})," ",d.a.createElement("span",{className:"content-title"},"\u697c\u680b\u6279\u6b21\u4fe1\u606f"),d.a.createElement(m.z,{type:"flex",className:"beforeContent",style:{marginTop:"25px",marginBottom:"25px"}},d.a.createElement(m.k,{span:24},d.a.createElement(m.g,{onClick:this.showModal,type:"primary",style:{marginLeft:"50px"},disabled:this.props.buildInfo.isDisabled},"\u6279\u91cf\u751f\u6210\u697c\u680b"),d.a.createElement(m.u,{title:"\u697c\u680b\u6279\u6b21",visible:this.state.visibleModal,onOk:function(){return t.handleOkModal(o)},onCancel:this.handleCancelModal},d.a.createElement(b,Object.assign({},n,{label:"\u9009\u62e9\u697c\u680b\u89c4\u5219"}),d.a.createElement("div",null,d.a.createElement(C,{defaultValue:o,onChange:this.handleChange,style:{marginBottom:"10px"}},d.a.createElement(y,{value:"1"},"\u6570\u5b57\u6392\u5e8f"),d.a.createElement(y,{value:"2"},"\u5b57\u6bcd\u6392\u5e8f"),d.a.createElement(y,{value:"3"},"\u81ea\u5b9a\u4e49\u6392\u5e8f")),"3"!==o?d.a.createElement("div",{style:{marginBottom:"10px"}},"1"===o?d.a.createElement("p",null,d.a.createElement("span",{style:{color:"red",paddingRight:"5px"}},"*"),"\u8303\u56f4\uff1a",d.a.createElement(m.r,{style:{width:50},min:1,value:c,onChange:this.numStart,placeholder:"\u5f00\u59cb"})," ",d.a.createElement("span",null," \u81f3 "),d.a.createElement(m.r,{style:{width:50},min:1,value:s,onChange:this.numEnd,placeholder:"\u7ed3\u675f"})," "):d.a.createElement("p",null,d.a.createElement("span",{style:{color:"red",paddingRight:"5px"}},"*"),"\u8303\u56f4\uff1a",d.a.createElement(m.q,{style:{width:50},value:p,onChange:this.engStart,placeholder:"\u5f00\u59cb"})," ",d.a.createElement("span",null," \u81f3 "),d.a.createElement(m.q,{style:{width:50},value:h,onChange:this.engEnd,placeholder:"\u7ed3\u675f"}),"  (\u8bf7\u7edf\u4e00\u5927\u5c0f\u5199)")):d.a.createElement("div",null,d.a.createElement("p",{className:"defineSpan"},"\u4f8b\u5982\uff1a\u5f53\u8981\u8f93\u5165\u5357\u533a1\u680b\u65f6, \u5c31\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u5357\u533a\uff0c\u518d\u70b9\u51fb\u4e00\u4e2a\u4e0b\u9762\u7684\u6570\u5b57\u6807\u7b7e\u3002 \u82e5\u8f93\u5165\u5357\u533aA\u680b\u65f6, \u5c31\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u5357\u533a\uff0c\u518d\u70b9\u51fb\u4e00\u4e2a\u4e0b\u9762\u7684\u5b57\u6bcd\u6807\u7b7e\u3002"),d.a.createElement("p",{className:"defineInput"},d.a.createElement(m.q,{style:{width:100},onChange:this.onChangeDefine,value:this.state.defineCode})),d.a.createElement("p",{className:"tagBtn"},d.a.createElement(m.g,{type:"dashed",onClick:function(){return t.clickNum("1")},style:{marginRight:"5px"},size:"small"},"\u6570\u5b57"),d.a.createElement(m.g,{type:"dashed",onClick:function(){return t.clickEng("2")},size:"small"},"\u5b57\u6bcd")),d.a.createElement("p",null,d.a.createElement("span",{style:{color:"red",paddingRight:"5px"}},"*"),"\u8303\u56f4\uff1a",d.a.createElement(m.q,{style:{width:50},onChange:this.defineStartChange,value:u,placeholder:"\u5f00\u59cb"})," ",d.a.createElement("span",null," \u81f3 ")," ",d.a.createElement(m.q,{style:{width:50},value:f,onChange:this.defineEndChange,placeholder:"\u7ed3\u675f"}))),d.a.createElement("p",null,d.a.createElement("span",{style:{paddingRight:"5px"}}),"\u5f00\u76d8\u65f6\u95f4\uff1a",d.a.createElement(m.m,{format:"YYYY-MM-DD",onChange:this.firstTimeChange,value:r})," ",d.a.createElement("br",null),d.a.createElement("span",{style:{color:"red",paddingRight:"5px"}},"*"),"\u4ea4\u623f\u65f6\u95f4\uff1a",d.a.createElement(m.m,{format:"YYYY-MM-DD",onChange:this.lastTimeChange,value:l})," ",d.a.createElement("br",null),this.state.redText?null:d.a.createElement("span",{style:{fontWeight:"bold",color:"red"}},"\u5fc5\u987b\u8f93\u5165\u4ea4\u623f\u65f6\u95f4"))))))),d.a.createElement(m.z,{style:{display:0!==this.props.dataSource.length?"block":"none"}},d.a.createElement(m.k,{span:24},d.a.createElement("div",null,d.a.createElement(m.D,{bordered:!0,style:{width:"50%",marginLeft:"50px"},rowKey:function(e){return e.storied},dataSource:this.props.dataSource||null,columns:this.state.columns,rowSelection:A})))),"dynamic"===this.props.type?null:d.a.createElement(m.z,null,d.a.createElement(m.k,{span:24,style:{textAlign:"center"},className:"BtnTop"},d.a.createElement(m.g,{type:"primary",htmlType:"submit",loading:this.props.loadingState,disabled:this.props.buildInfo.isDisabled,style:{width:"8rem"},onClick:this.handleSave},"\u4fdd\u5b58"),"add"!==E?d.a.createElement(m.g,(e={className:"login-form-button"},a(e,"className","formBtn"),a(e,"onClick",this.handleCancel),e),"\u53d6\u6d88"):null)))}}]),t}(u.Component);t.a=Object(s.b)(l,c)(m.o.create()(E))},1792:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(46),l=(n(92),n(1216),n(0)),c=n.n(l),s=n(27),p=n.n(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=function(e){function t(){var e,n,o,r;a(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={value:o.props.value},o.handleChange=function(e,t){var n=e;o.setState({value:n},function(){o.props.onChange&&o.props.onChange(o.state.value)})},r=n,i(o,r)}return o(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"render",value:function(){var e=this.state.value;return c.a.createElement("div",{className:"editable-cell"},c.a.createElement("div",{className:"editable-cell-input-wrapper"},c.a.createElement(r.m,{format:"YYYY-MM-DD",allowClear:!1,value:null!==e?p()(e,"YYYY-MM-DD"):null,onChange:this.handleChange})))}}]),t}(c.a.Component);t.a=d},1793:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{basicData:e.basicData,buildInfo:e.building.buildInfo,operInfo:e.building.operInfo,loadingState:e.building.rulesloading,user:(e.oidc.user||{}).profile||{}}}function c(e){return{dispatch:e}}var s=n(92),p=n(1216),u=n(0),d=n.n(u),m=n(46),f=n(27),h=n.n(f),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),A=m.o.Item,b=(m.A.Option,m.j.Group,function(e){function t(){var e,n,a,r;i(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={loadingState:!1,checked:!1},a.handleSave=function(e){var t=a.props.operInfo.rulesOperType;a.props.form.validateFields(function(e,n){if(!e){a.props.dispatch(Object(p._92)());var i=n;i.liberatingStart=new Date(n.liberatingStart.format("YYYY-MM-DD HH:mm")),i.liberatingEnd=new Date(n.liberatingEnd.format("YYYY-MM-DD HH:mm")),i.id=a.props.buildInfo.id;var o=a.props.buildInfo.ruleInfo||{};i.reportedTemplate=o.reportedTemplate,console.log(i,"formData"),a.props.dispatch(Object(p._110)({rulesOperType:t,entity:i,id:a.props.buildInfo.id,template:!1,ownCity:a.props.user.City}))}})},a.handleCancel=function(e){var t=a.props.buildInfo.ruleInfo;console.log(t,"???cacaca"),a.props.dispatch(Object(p._97)({body:t}))},a.checkboxChange=function(e){a.setState({checked:!a.state.checked}),console.log(e.target.checked,"\u52fe\u9009")},r=n,o(a,r)}return r(t,e),g(t,[{key:"componentWillMount",value:function(){this.props.setChildForm&&this.props.setChildForm(this.props.form);var e=this.props.buildInfo.ruleInfo||{};this.setState({checked:e.isCompletenessPhone})}},{key:"componentWillReceiveProps",value:function(e){this.setState({loadingState:!1})}},{key:"render",value:function(){var e,t=this.props.form,n=t.getFieldDecorator,i=(t.getFieldsValue,{labelCol:{span:6},wrapperCol:{span:14}}),o=this.props.buildInfo.ruleInfo||{},r=void 0,l=void 0;console.log(o,999),o.liberatingStart&&(r=h()(o.liberatingStart,"HH:mm")),o.liberatingEnd&&(l=h()(o.liberatingEnd,"HH:mm"));var c=this.props.operInfo.rulesOperType;return d.a.createElement(m.o,{layout:"horizontal",style:{padding:"25px 0",marginTop:"25px",backgroundColor:"#ECECEC"},className:"rules"},d.a.createElement(m.p,{type:"tags-o",className:"content-icon"})," ",d.a.createElement("span",{className:"content-title"},"\u62a5\u5907\u89c4\u5219"),d.a.createElement(m.z,{type:"flex",style:{marginTop:"25px"}},d.a.createElement(m.k,{span:12},d.a.createElement(A,Object.assign({},i,{label:d.a.createElement("span",null,"\u62a5\u5907\u6709\u6548\u671f(\u5929)")}),n("validityDay",{initialValue:o.validityDay||1,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u62a5\u5907\u6709\u6548\u671f"}]})(d.a.createElement(m.r,{min:1,onChange:this.getFieldsValue})))),d.a.createElement(m.k,{span:12},d.a.createElement(A,Object.assign({},i,{label:d.a.createElement("span",null,"\u5e26\u770b\u4fdd\u62a4\u671f(\u5929)")}),n("beltProtectDay",{initialValue:o.beltProtectDay||30,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e26\u770b\u4fdd\u62a4\u671f"}]})(d.a.createElement(m.r,{min:1}))))),d.a.createElement(m.z,null,d.a.createElement(m.k,{span:12},d.a.createElement(A,Object.assign({},i,{label:d.a.createElement("span",null,"\u63a5\u8bbf\u65f6\u95f4(\u6700\u65e9)")}),n("liberatingStart",{initialValue:r,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6700\u65e9\u63a5\u8bbf\u65f6\u95f4"}]})(d.a.createElement(m.G,{format:"HH:mm"})))),d.a.createElement(m.k,{span:12},d.a.createElement(A,Object.assign({},i,{label:d.a.createElement("span",null,"\u63a5\u8bbf\u65f6\u95f4(\u6700\u665a)")}),n("liberatingEnd",{initialValue:l,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6700\u665a\u63a5\u8bbf\u65f6\u95f4"}]})(d.a.createElement(m.G,{format:"HH:mm"}))))),d.a.createElement(m.z,null,d.a.createElement(m.k,{span:12},d.a.createElement(A,Object.assign({},i,{label:d.a.createElement("span",null,"\u62a5\u5907\u5f00\u59cb\u65f6\u95f4")}),n("reportTime",{initialValue:o.reportTime?h()(o.reportTime,"YYYY-MM-DD"):null})(d.a.createElement(m.m,null)))),d.a.createElement(m.k,{span:12},d.a.createElement(A,Object.assign({},i,{label:d.a.createElement("span",null,"\u63d0\u524d\u62a5\u5907\u65f6\u95f4(\u5206\u949f)")}),n("advanceTime",{initialValue:o.advanceTime})(d.a.createElement(m.r,{min:1}))))),d.a.createElement(m.z,null,d.a.createElement(m.k,{span:12},d.a.createElement(A,Object.assign({},i,{help:"\u5411\u5f00\u53d1\u5546\u62a5\u5907\u65f6\uff0c\u5355\u6761\u77ed\u4fe1\u6216\u5fae\u4fe1\u5141\u8bb8\u53d1\u9001\u7684\u6700\u5927\u5ba2\u6237\u6570\u91cf",label:d.a.createElement("span",null,"\u6700\u5927\u5ba2\u6237\u6570(\u4e2a)")}),n("maxCustomer",{initialValue:o.maxCustomer||20})(d.a.createElement(m.r,{min:1,max:20,placeholder:"\u6700\u5927\u5ba2\u6237\u657020\u4e2a"}))))),d.a.createElement(m.z,null,d.a.createElement(m.k,{span:24,push:3},d.a.createElement(A,Object.assign({},i,{label:""}),n("isCompletenessPhone",{})(d.a.createElement(m.j,{onChange:this.checkboxChange,checked:this.state.checked},"\u5411\u5f00\u53d1\u5546\u62a5\u5907\u65f6\uff0c\u5fc5\u987b\u63d0\u4f9b\u5ba2\u6237\u7684\u5b8c\u6574\u624b\u673a\u53f7"))))),d.a.createElement(m.z,null,d.a.createElement(m.k,{span:24,pull:3},d.a.createElement(A,Object.assign({},i,{label:d.a.createElement("span",null,"\u5907\u6ce8")}),n("mark",{initialValue:o.mark})(d.a.createElement(m.q,{type:"textarea",placeholder:"\u8fd9\u91cc\u53ef\u4ee5\u586b\u5199\u62a5\u5907\u7684\u6ce8\u610f\u4e8b\u9879",style:{height:"100px"}}))))),"dynamic"===this.props.type?null:d.a.createElement(m.z,null,d.a.createElement(m.k,{span:24,style:{textAlign:"center"},className:"BtnTop"},d.a.createElement(m.g,{type:"primary",htmlType:"submit",disabled:this.props.buildInfo.isDisabled,loading:this.props.loadingState,style:{width:"8rem"},onClick:this.handleSave},"\u4fdd\u5b58"),"add"!==c?d.a.createElement(m.g,(e={className:"login-form-button"},a(e,"className","formBtn"),a(e,"onClick",this.handleCancel),e),"\u53d6\u6d88"):null)))}}]),t}(u.Component)),y=m.o.create()(b);t.a=Object(s.b)(l,c)(y)},1794:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){return{basicData:e.basicData,buildInfo:e.building.buildInfo,operInfo:e.building.operInfo,loadingState:e.building.rulesTemplateloading,user:(e.oidc.user||{}).profile||{},templateData:e.building.templateData}}function s(e){return{dispatch:e}}var p=n(92),u=n(1216),d=n(0),m=n.n(d),f=n(46),h=n(1304),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),A=(f.o.Item,f.A.Option),b=(f.j.Group,{id:"4fa9fe37-2899-4174-a1c9-ad8e00188b5a",customerId:"fba92d39-2aeb-4d19-88cd-99143e6fa598",customerName:"\u5f20\u4e09",userId:"5cfe1b85-360b-4014-94bc-3e37cece7339",departmentId:"0",departmentName:"\u897f\u533a\u4e00\u533a\u4e00\u7ec4",mainPhone:"150****3636",userPhone:"13122220000",userTrueName:"\u4e1a\u52a1\u5458A",transactionsStatus:2,reportTime:"2017-11-30T17:59:32.191637",buildingId:"b5a0baae-9691-4a20-9723-c07f9d2b7631",shopsId:"77b11f39-d70f-47d1-9edc-24ab794dbc34",buildingName:"\u4e07\u79d1\u91d1\u8272\u60a6\u57ce",shopsName:"3",expectedBeltTime:"2017-11-28T17:48:53.770883"}),y=[{label:"\u6240\u5c5e\u516c\u53f8 \uff1a",key:"\u6240\u5c5e\u516c\u53f8",value:{defValue:"\u65b0\u8000\u884c",type:"input"}},{label:"\u9879\u76ee \uff1a",key:"\u9879\u76ee",value:{defValue:"[\u9879\u76ee\u540d\u79f0]",type:"input"}},{label:"\u5ba2\u6237\u59d3\u540d \uff1a",key:"\u5ba2\u6237\u59d3\u540d",value:{defValue:"$CUS_NAME$",type:"readonly"}},{label:"\u5ba2\u6237\u7535\u8bdd \uff1a",key:"\u5ba2\u6237\u7535\u8bdd",value:{defValue:"$CUS_MOBILE$",type:"readonly"}},{label:"\u62a5\u5907\u65e5\u671f \uff1a",key:"\u62a5\u5907\u65e5\u671f",value:{defValue:"$TODAY$",valueLabel:"\u5f53\u5929(\u683c\u5f0f\uff1a2017\u5e7401\u670801\u65e5)",type:"list",list:[{value:"$TODAY$",label:"\u5f53\u5929(\u683c\u5f0f\uff1a2017\u5e7401\u670801\u65e5)"},{value:"$TODAY2$",label:"\u5f53\u5929(\u683c\u5f0f\uff1a2017-01-01)"},{value:"$TODAY3$",label:"\u5f53\u5929(\u683c\u5f0f\uff1a2017.01.01)"}]}},{label:"\u9884\u8ba1\u5e26\u770b\u65f6\u95f4 \uff1a",key:"\u9884\u8ba1\u5e26\u770b\u65f6\u95f4",value:{defValue:"$REPORTTIME$",valueLabel:"(\u683c\u5f0f\uff1a2017\u5e7401\u670801\u65e5 13:00)",type:"list",list:[{value:"$REPORTTIME$",label:"(\u683c\u5f0f\uff1a2017\u5e7401\u670801\u65e5 13:00)"},{value:"$REPORTTIME2$",label:"(\u683c\u5f0f\uff1a2017-01-01 13:00)"},{value:"$REPORTTIME3$",label:"(\u683c\u5f0f\uff1a2017.01.01 13:00)"}]}},{label:"\u4e1a\u52a1\u5458 \uff1a",key:"\u4e1a\u52a1\u5458",value:{defValue:"$USERNAME$",type:"readonly"}},{label:"\u4e1a\u52a1\u5458\u7535\u8bdd \uff1a",key:"\u4e1a\u52a1\u5458\u7535\u8bdd",value:{defValue:"$USER_MOBILE$",type:"readonly"}},{label:"\u4e1a\u52a1\u5458\u7ec4\u522b \uff1a",key:"\u4e1a\u52a1\u5458\u7ec4\u522b",value:{defValue:"$DEPARTMENT$",type:"readonly"}},{label:"\u9a7b\u573a \uff1a",key:"\u9a7b\u573a",value:{defValue:"$ZC_NAME$",type:"readonly"}},{label:"\u9a7b\u573a\u7535\u8bdd \uff1a",key:"\u9a7b\u573a\u7535\u8bdd",value:{defValue:"$ZC_MOBILE$",type:"readonly"}}],C=function(e){function t(){var e,n,a,l;o(this,t);for(var c=arguments.length,s=Array(c),p=0;p<c;p++)s[p]=arguments[p];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={loadingState:!1,visible:!1,popoverVisible:!1,myKey:"",defaultValue:"",ops:[],disabled:!1,myLine:{},myList:[]},a.handleSave=function(){var e=a.props.operInfo.rulesTemplateOperType,t=a.props.templateData;a.props.dispatch(Object(u._93)());var n=a.props.buildInfo.ruleInfo||{},i=Object.assign({},n,{id:a.props.buildInfo.id,reportedTemplate:JSON.stringify(t)});a.props.dispatch(Object(u._110)({rulesOperType:e,entity:i,id:a.props.buildInfo.id,template:!0,ownCity:a.props.user.City}))},a.handleCancel=function(e){a.props.dispatch(Object(u._96)())},a.defaultValueChange=function(e){a.setState({defaultValue:e.target.value})},a.showModal=function(){a.setState({visible:!0,defaultValue:""})},a.handleOkModal=function(e){a.setState({visible:!1});var t=y.find(function(e){return e.key===a.state.myKey}),n=[].concat(i(a.props.templateData));n.push({label:t.label,value:a.state.defaultValue?a.state.defaultValue:t.value.defValue,valueLabel:t.value.valueLabel,key:t.key,type:t.value.type}),a.props.dispatch(Object(u._124)({templateData:n}))},a.handleCancelModal=function(e){a.setState({visible:!1})},a.selectAfterChange=function(e){a.setState({myKey:e}),"\u6240\u5c5e\u516c\u53f8"===e||"\u9879\u76ee"===e?a.setState({disabled:!1}):a.setState({disabled:!0})},a.labelChanged=function(e,t){var n=[].concat(i(a.props.templateData)),o=n.indexOf(e);o>=0&&(n.splice(o,1,Object.assign({},e,{label:t})),a.props.dispatch(Object(u._124)({templateData:n})))},a.valueChanged=function(e,t){var n=[].concat(i(a.props.templateData)),o=n.indexOf(e);o>=0&&(n.splice(o,1,Object.assign({},e,{value:t})),a.props.dispatch(Object(u._124)({templateData:n})))},a.changeFormat=function(e){if([].concat(i(a.props.templateData)).indexOf(e)>=0){var t=y.find(function(t){return t.key===e.key}).value.list,n=t.map(function(e){return{label:e.label,value:e.value}});a.setState({ops:n,myLine:e,myList:t})}},a.menuClick=function(e){var t=a.state.ops[e.key];a._changeFormat(a.state.myLine,t)},a._changeFormat=function(e,t){var n=[].concat(i(a.props.templateData)),o=n.indexOf(e);o>=0&&(n.splice(o,1,Object.assign({},e,{value:t.value,valueLabel:t.label})),a.props.dispatch(Object(u._124)({templateData:n})))},a.delLine=function(e){var t=[].concat(i(a.props.templateData)),n=t.indexOf(e);n>=0&&(t.splice(n,1),a.props.dispatch(Object(u._124)({templateData:t})))},a.handleVisibleChange=function(e){a.setState({popoverVisible:e})},l=n,r(a,l)}return l(t,e),g(t,[{key:"componentWillMount",value:function(){var e=(this.props.buildInfo.ruleInfo||{}).reportedTemplate;console.log(e,"\u8fdb\u6765\u7b2c\u4e00\u6b21\u7684\u6a21\u677f\u6709\u6ca1\u6709\uff1f\uff1f/");var t=[];e&&(t=JSON.parse(e),this.props.dispatch(Object(u._124)({templateData:t})))}},{key:"componentWillReceiveProps",value:function(e){this.setState({loadingState:!1})}},{key:"render",value:function(){var e,t=this,n=[];y.forEach(function(e){t.props.templateData.find(function(t){return t.key===e.key})||n.push(e)});var i=m.a.createElement(f.A,{placeholder:"\u8bf7\u9009\u62e9\u7c7b\u578b",style:{width:200},onSelect:this.selectAfterChange},n.map(function(e){return m.a.createElement(A,{value:e.key,key:e.key},e.key)})),o=this.props.buildInfo||{},r=this.props.templateData;o.buildingBasic&&o.buildingBasic.name||(o.buildingBasic={name:"\u697c\u76d8\u540d\u79f0"});var l=Object(h.a)(r,b,this.props.user,o),c=this.props.form,s=(c.getFieldDecorator,c.getFieldsError,c.getFieldError,c.isFieldTouched,m.a.createElement("h4",null,m.a.createElement(f.p,{type:"star-o",style:{marginRight:"5px"}})," \u9884\u89c8")),p=m.a.createElement("h4",null,m.a.createElement(f.p,{type:"star-o",style:{marginRight:"5px"}})," \u6a21\u677f"),u=m.a.createElement(f.t,{onClick:this.menuClick},this.state.ops.map(function(e,t){return m.a.createElement(f.t.Item,{key:t},e.label)})),d=(this.props.buildInfo.rulesTemplateinfo,this.props.operInfo.rulesTemplateOperType);return m.a.createElement(f.o,{layout:"horizontal",style:{padding:"25px 0",backgroundColor:"#ECECEC"},className:"rulesTemplate"},m.a.createElement(f.p,{type:"tags-o",className:"content-icon"})," ",m.a.createElement("span",{className:"content-title"},"\u62a5\u5907\u6a21\u677f"),m.a.createElement(f.z,{type:"flex",style:{marginTop:"25px"}},m.a.createElement(f.g,{type:"primary",style:{marginLeft:"50px"},onClick:this.showModal},"\u6dfb\u52a0\u884c")),m.a.createElement(f.z,{style:{padding:"25px"}},m.a.createElement(f.k,{span:12},0===r.length?null:m.a.createElement("div",{className:"centerDiv",style:{width:"95%"}},m.a.createElement(f.h,{title:p,bordered:!1},m.a.createElement("div",null,r.map(function(e){return m.a.createElement("div",{className:"flexDiv",key:e.key},m.a.createElement(f.k,{span:9},m.a.createElement(f.q,{type:"text",value:e.label,onChange:function(n){return t.labelChanged(e,n.target.value)},style:{width:"90%"}})),m.a.createElement(f.k,{span:11},m.a.createElement("span",null,"input"===e.type?m.a.createElement(f.q,{type:"text",onChange:function(n){return t.valueChanged(e,n.target.value)},value:e.value}):null,"readonly"===e.type?m.a.createElement("span",{value:e.key},"[",e.key,"]"):null,"list"===e.type?m.a.createElement("div",null,"[",e.key,"]"):null)),m.a.createElement(f.k,{span:4},"list"===e.type?m.a.createElement(f.n,{overlay:u,trigger:["click"],placement:"bottomCenter"},m.a.createElement("span",{onClick:function(){return t.changeFormat(e)},style:{cursor:"pointer",color:"red"}},"\u66f4\u6539\u683c\u5f0f")):null,m.a.createElement(f.g,{onClick:function(){return t.delLine(e)},icon:"delete",shape:"circle",style:{marginLeft:"5px"},size:"small"})))})),m.a.createElement("div",{style:{clear:"both"}})))),m.a.createElement(f.k,{span:12},0===l.length?null:m.a.createElement("div",{className:"centerDiv"},m.a.createElement(f.h,{title:s,bordered:!1},m.a.createElement("pre",null,l))))),"dynamic"===this.props.type?null:m.a.createElement(f.z,null,m.a.createElement(f.k,{span:24,style:{textAlign:"center"},className:"BtnTop"},m.a.createElement(f.g,{type:"primary",htmlType:"submit",style:{width:"8rem"},disabled:this.props.buildInfo.isDisabled,loading:this.props.loadingState,onClick:this.handleSave},"\u4fdd\u5b58"),"add"!==d?m.a.createElement(f.g,(e={className:"login-form-button"},a(e,"className","formBtn"),a(e,"onClick",this.handleCancel),e),"\u53d6\u6d88"):null)),m.a.createElement(f.u,{title:"\u9009\u62e9\u884c\u7c7b\u578b",visible:this.state.visible,onOk:this.handleOkModal,onCancel:this.handleCancelModal,style:{textAlign:"center"}},m.a.createElement(f.q,{addonAfter:i,style:{width:"85%",margin:"20px 0"},placeholder:"\u8bf7\u8f93\u5165\u9ed8\u8ba4\u503c",onChange:this.defaultValueChange,value:this.state.defaultValue,disabled:this.state.disabled})))}}]),t}(d.Component),E=f.o.create()(C);t.a=Object(p.b)(c,s)(E)},1795:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{buildInfo:e.building.buildInfo,operInfo:e.building.operInfo,loadingState:e.building.commissionloading,user:(e.oidc.user||{}).profile||{}}}function c(e){return{dispatch:e}}var s=n(92),p=n(1216),u=n(0),d=n.n(u),m=n(46),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=m.o.Item,g=function(e){function t(){var e,n,a,r;i(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={loadingState:!1},a.handleSave=function(e){var t=a.props.operInfo.commissionOperType;a.props.form.validateFields(function(e,n){if(!e){a.props.dispatch(Object(p.A)());var i=a.props.buildInfo.id,o=n;o.id=a.props.buildInfo.id,console.log(i,"&&"),a.props.dispatch(Object(p._100)({commissionOperType:t,entity:o,id:i,ownCity:a.props.user.City}))}})},a.handleCancel=function(e){a.props.dispatch(Object(p.B)())},r=n,o(a,r)}return r(t,e),f(t,[{key:"componentWillMount",value:function(){this.props.setCommisson&&this.props.setCommisson(this.props.form)}},{key:"componentWillReceiveProps",value:function(e){this.setState({loadingState:!1})}},{key:"render",value:function(){var e,t=this.props.form,n=t.getFieldDecorator,i=(t.getFieldsError,t.getFieldError,t.isFieldTouched,{labelCol:{span:0},wrapperCol:{span:24}}),o=this.props.operInfo.commissionOperType,r=this.props.buildInfo.commissionPlan;return d.a.createElement(m.o,{layout:"horizontal",style:{padding:"25px 0",marginTop:"25px",backgroundColor:"#ECECEC"}},d.a.createElement(m.p,{type:"tags-o",className:"content-icon"})," ",d.a.createElement("span",{className:"content-title"},"\u4f63\u91d1\u65b9\u6848"),d.a.createElement(m.z,{type:"flex",style:{marginTop:"25px"}},d.a.createElement(m.k,{span:1}),d.a.createElement(m.k,{span:22},d.a.createElement(h,i,n("commissionPlan",{initialValue:r})(d.a.createElement(m.q,{type:"textarea",style:{height:"100px"},placeholder:"\u8bf7\u8f93\u5165\u4f63\u91d1\u65b9\u6848..."})))),d.a.createElement(m.k,{span:1})),"dynamic"===this.props.type?null:d.a.createElement(m.z,null,d.a.createElement(m.k,{span:24,style:{textAlign:"center"},className:"BtnTop"},d.a.createElement(m.g,{type:"primary",htmlType:"submit",disabled:this.props.buildInfo.isDisabled,loading:this.props.loadingState,style:{width:"8rem"},onClick:this.handleSave},"\u4fdd\u5b58"),"add"!==o?d.a.createElement(m.g,(e={className:"login-form-button"},a(e,"className","formBtn"),a(e,"onClick",this.handleCancel),e),"\u53d6\u6d88"):null)))}}]),t}(u.Component),A=m.o.create()(g);t.a=Object(s.b)(l,c)(A)},1893:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{isLoading:e.active.isLoading,projectId:e.active.projectId,shopList:e.active.shopList,operInfo:e.building.operInfo,buildInfo:e.building.buildInfo,shopInfo:e.shop.shopsInfo,descriptionValue:e.active.descriptionValue,submitLoading:e.active.submitLoading,statusArr:e.active.statusArr,hotOpertype:e.active.hotOpertype,completeFileList:e.shop.completeFileList,deletePicList:e.shop.deletePicList,templateData:e.building.templateData,mySelectedRows:e.building.mySelectedRows,isUse:e.active.isUse,dynamicBuildInfo:e.building.dynamicBuildInfo,myTitleValue:e.active.myTitleValue}}function l(e){return{dispatch:e}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(92),s=n(1216),p=n(0),u=n.n(p),d=n(46),m=n(27),f=n.n(m),h=n(2113),g=n(2114),A=n(1713),b=n(1793),y=n(1714),C=n(1794),E=n(1734),v=n(1795),B=n(2115),x=(n(1334),n(1710),n(1712)),k=n(1791),w=n(1715),I=n(1735),S=(n.n(I),"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),O=(d.s.Header,d.s.Sider,d.s.Content),D=d.E.TabPane,N=function(e){function t(){var e,n,o,r;a(this,t);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={current:"",projectId:"",mrForm:{},commissonForm:{}},o.setChildForm=function(e){o.setState({mrForm:e})},o.setCommisson=function(e){o.setState({commissonForm:e})},o.handleChange=function(e){o.props.dispatch(Object(s.r)({type:1}));var t=o.props.projectId,n=void 0;switch(o.setState({current:e}),e){case"1":o.props.dispatch(Object(s._43)({id:t,saleStatus:["2"]}));break;case"2":o.props.dispatch(Object(s._43)({id:t,saleStatus:["1"]}));break;case"3":n={pageSize:1,contentTypes:["ReportRule"],contentIds:[t]},o.props.dispatch(Object(s._18)({condition:n,id:t,updateType:1}));break;case"4":n={pageSize:1,contentTypes:["CommissionType"],contentIds:[t]},o.props.dispatch(Object(s._18)({condition:n,id:t,updateType:1}));break;case"5":console.log("\u697c\u680b\u6279\u6b21"),n={pageSize:1,contentTypes:["BuildingNo"],contentIds:[t]},o.props.dispatch(Object(s._18)({condition:n,id:t,updateType:1}));break;case"6":console.log("\u4f18\u60e0\u653f\u7b56"),n={pageSize:1,contentTypes:["DiscountPolicy"],contentIds:[t]},o.props.dispatch(Object(s._18)({condition:n,id:t,updateType:1}));break;case"7":console.log("\u56fe\u7247"),n={pageSize:1,contentTypes:["Image"],contentIds:[t]},o.props.dispatch(Object(s._18)({condition:n,id:t,updateType:1}));break;default:n={pageSize:1,contentTypes:["Attachment"],contentIds:[t]},o.props.dispatch(Object(s._18)({condition:n,id:t,updateType:1}))}},o.handleSave=function(e){console.log(e,"\u4ec0\u4e48\uff1f\uff1f\u76ee\u524d\u662f");var t=o.props,n=t.descriptionValue,a=t.projectId,i=t.buildInfo,r=(t.shopInfo,t.myTitleValue),l=void 0,c=void 0;switch(e){case"3":if(0!==Object.keys(o.state.mrForm).length)o.state.mrForm.validateFields(function(e,t){e||(t.reportTime=f()(t.reportTime).format("YYYY-MM-DD"),t.liberatingEnd=new Date(t.liberatingEnd.format("YYYY-MM-DD HH:mm")),t.liberatingStart=new Date(t.liberatingStart.format("YYYY-MM-DD HH:mm")),0!==o.props.templateData.length?t.reportedTemplate=o.props.templateData:t.reportedTemplate=(i.ruleInfo||{}).reportedTemplate,l={updateType:1,contentType:"ReportRule",contentId:a,updateContent:JSON.stringify(t),content:n,title:r},n?o.props.dispatch(Object(s._148)({obj:l})):d.L.warning({message:"\u5fc5\u987b\u8f93\u5165\u63cf\u8ff0\u4fe1\u606f",duration:3}))});else{c=o.props.buildInfo.ruleInfo||{};var p=Object.assign({},o.props.buildInfo.ruleInfo,{reportedTemplate:o.props.templateData,isUse:o.props.isUse});l={updateType:1,contentType:"ReportRule",contentId:a,updateContent:JSON.stringify(p),content:n,title:r},n?o.props.dispatch(Object(s._148)({obj:l})):d.L.warning({message:"\u5fc5\u987b\u8f93\u5165\u63cf\u8ff0\u4fe1\u606f",duration:3})}break;case"4":o.state.commissonForm.validateFields(function(e,t){e||(l={updateType:1,contentType:"CommissionType",contentId:a,updateContent:JSON.stringify(t),content:n,title:r},n?o.props.dispatch(Object(s._148)({obj:l})):d.L.warning({message:"\u5fc5\u987b\u8f93\u5165\u63cf\u8ff0\u4fe1\u606f",duration:3}))});break;case"5":var u=o.props.dynamicBuildInfo.buildingNoInfos;u&&u.map(function(e){"object"===S(e.openDate)&&(e.openDate=f()(e.openDate).format("YYYY-MM-DD")),"object"===S(e.deliveryDate)&&(e.deliveryDate=f()(e.deliveryDate).format("YYYY-MM-DD"))}),l={updateType:1,contentType:"BuildingNo",contentId:a,updateContent:JSON.stringify(u),content:n,title:r},n?o.props.dispatch(Object(s._148)({obj:l})):d.L.warning({message:"\u5fc5\u987b\u8f93\u5165\u63cf\u8ff0\u4fe1\u606f",duration:3});break;case"7":var m=o.props,h=m.completeFileList,g=m.deletePicList;console.log(h,g,"\u56fe\u7247"),0!==h.length&&(l={updateType:1,contentType:"Image",contentId:a,updateContent:JSON.stringify(h),content:n,title:r}),0!==g.length&&(l={updateType:1,contentType:"Image",contentId:a,updateContent:JSON.stringify(g),content:n,title:r}),console.log(l,"pp"),n?o.props.dispatch(Object(s._148)({obj:l})):d.L.warning({message:"\u5fc5\u987b\u8f93\u5165\u63cf\u8ff0\u4fe1\u606f",duration:3});break;default:c=(i.ruleInfo||{}).ruleInfo,console.log(c,"\u9644\u4ef6"),l={updateType:1,contentType:"Attachment",contentId:a,updateContent:JSON.stringify(c),content:n,title:r},n?o.props.dispatch(Object(s._148)({obj:l})):d.L.warning({message:"\u5fc5\u987b\u8f93\u5165\u63cf\u8ff0\u4fe1\u606f",duration:3})}},o.handleCancel=function(){console.log("\u70b9\u51fb\u53d6\u6d88\u6309\u94ae"),o.props.dispatch(Object(s._68)({id:o.props.projectId,type:"dynamic"}))},o.getStatus=function(e){var t=(o.props.statusArr||[]).find(function(t){return t.action===e})||{};switch(t.examineStatus){case 1:return"\u5ba1\u6838\u4e2d";case 3:return"\u5ba1\u6838\u9a73\u56de";default:return""}},o.isReport=function(){var e=o.props.isUse;console.log("\u54c8\u54c8,\u6682\u505c\u62a5\u5907\uff1f\uff1f\uff1f",e),o.props.dispatch(Object(s._90)({isUse:!e}))},r=n,i(o,r)}return o(t,e),j(t,[{key:"componentWillMount",value:function(){this.props.dispatch(Object(s._17)(["PHOTO_CATEGORIES"]))}},{key:"render",value:function(){var e=this,t=u.a.createElement(d.z,{style:{marginTop:"25px"}},u.a.createElement(d.k,{span:24,style:{textAlign:"center"}},u.a.createElement(d.g,{type:"primary",style:{width:"8rem"},loading:this.props.submitLoading,onClick:function(){return e.handleSave(e.state.current)}},"\u4fdd\u5b58"),u.a.createElement(d.g,{className:"login-form-button formBtn",onClick:this.handleCancel},"\u53d6\u6d88"))),n=this.props,a=n.operInfo;n.statusArr,n.isUse;return u.a.createElement(d.B,{spinning:this.props.isLoading},u.a.createElement("div",{className:"relative"},u.a.createElement(d.s,null,u.a.createElement(O,{className:"content activeProjectPage"},u.a.createElement(d.E,{defaultActiveKey:"1",style:{marginTop:"20px"},onChange:this.handleChange},u.a.createElement(D,{tab:u.a.createElement("span",null,u.a.createElement("i",{className:"iconfont icon-remai myicon"}),"\u70ed\u5356\u6237\u578b"),key:"1"},u.a.createElement(h.a,null)),u.a.createElement(D,{tab:u.a.createElement("span",null,u.a.createElement("i",{className:"iconfont icon-jiatui myicon"}),"\u52a0\u63a8",u.a.createElement("span",{style:{color:"red",paddingLeft:"10px"}},this.getStatus("ShopsAdd"))),key:"2"},u.a.createElement(g.a,{text:this.getStatus("ShopsAdd")})),u.a.createElement(D,{tab:u.a.createElement("span",null,u.a.createElement("i",{className:"iconfont icon-guize myicon"}),"\u62a5\u5907\u89c4\u5219",u.a.createElement("span",{style:{color:"red",paddingLeft:"10px"}},this.getStatus("ReportRule"))),key:"3"},"view"===a.rulesOperType?u.a.createElement(A.a,{type:"dynamic"}):u.a.createElement(b.a,{type:"dynamic",setChildForm:this.setChildForm}),"view"===a.rulesTemplateOperType?u.a.createElement(y.a,{type:"dynamic"}):u.a.createElement(C.a,{type:"dynamic"}),u.a.createElement(w.a,{text:this.getStatus("ReportRule")}),"\u5ba1\u6838\u4e2d"===this.getStatus("ReportRule")?null:t),u.a.createElement(D,{tab:u.a.createElement("span",null,u.a.createElement("i",{className:"iconfont icon-yongjin myicon"}),"\u4f63\u91d1\u65b9\u6848",u.a.createElement("span",{style:{color:"red",paddingLeft:"10px"}},this.getStatus("CommissionType"))),key:"4"},"view"===a.commissionOperType?u.a.createElement(E.a,{type:"dynamic"}):u.a.createElement(v.a,{type:"dynamic",setCommisson:this.setCommisson}),u.a.createElement(w.a,{text:this.getStatus("CommissionType")}),"\u5ba1\u6838\u4e2d"===this.getStatus("CommissionType")?null:t),u.a.createElement(D,{tab:u.a.createElement("span",null,u.a.createElement("i",{className:"iconfont icon-pici myicon"}),"\u697c\u680b\u6279\u6b21\uff08\u5f00\u76d8\u65f6\u95f4\uff09",u.a.createElement("span",{style:{color:"red",paddingLeft:"10px"}},this.getStatus("BuildingNo"))),key:"5"},"view"===a.batchBuildOperType?u.a.createElement(x.a,{type:"dynamic"}):u.a.createElement(k.a,{type:"dynamic"}),u.a.createElement(w.a,{text:this.getStatus("BuildingNo")}),"\u5ba1\u6838\u4e2d"===this.getStatus("BuildingNo")?null:t),u.a.createElement(D,{tab:u.a.createElement("span",null,u.a.createElement("i",{className:"iconfont icon-youhui myicon"}),"\u4f18\u60e0\u653f\u7b56",u.a.createElement("span",{style:{color:"red",paddingLeft:"10px"}},this.getStatus("DiscountPolicy"))),key:"6"},u.a.createElement(B.a,{text:this.getStatus("DiscountPolicy")})))))))}}]),t}(p.Component);t.default=Object(c.b)(r,l)(N)},2113:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{isLoading:e.active.isLoading,projectId:e.active.projectId,shopList:e.active.shopList,submitLoading:e.active.submitLoading,hotCheckedArr:e.active.hotCheckedArr,pushCheckedArr:e.active.pushCheckedArr,submitDisabled:e.active.submitDisabled,descriptionValue:e.active.descriptionValue,buildInfo:e.building.buildInfo,myTitleValue:e.active.myTitleValue}}function c(e){return{dispatch:e}}var s=n(92),p=n(1216),u=n(0),d=n.n(u),m=n(46),f=n(27),h=(n.n(f),n(1766)),g=n(1715),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=function(e){function t(){var e,n,r,l;i(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={buildingNo:[],buildingId:""},r.getBuildingNo=function(e){var t=[],n=[];n=[].concat(a(e)),n.forEach(function(e){t.push({buildingNo:e.buildingNo})});var i={};t=t.reduce(function(e,t){return i[t.buildingNo]||(i[t.buildingNo]=e.push(t)),e},[]),t.map(function(e){return e.children=[]}),n.forEach(function(e){var n=t.findIndex(function(t){return t.buildingNo===e.buildingNo});e.checked=e.isHot,t[n].children.push(e)}),r.setState({buildingNo:t},function(){})},r.handleCancel=function(){r.props.dispatch(Object(p._68)({id:r.props.projectId,type:"dynamic"}))},r.handleSave=function(){var e=r.props,t=e.hotCheckedArr,n=e.descriptionValue,a=e.projectId,i=e.buildInfo,o=e.myTitleValue;if(n){var l={updateType:1,contentType:"ShopsHot",contentName:i.basicInfo.name,contentId:a,updateContent:JSON.stringify({shopList:t,memo:"",fileList:[]}),title:o,content:n,ext2:i.basicInfo.areaFullName};console.log(l,"\u70ed\u9500obj"),r.props.dispatch(Object(p._148)({obj:l}))}else m.L.warning({message:"\u5fc5\u987b\u8f93\u5165\u63cf\u8ff0\u4fe1\u606f",duration:3})},l=n,o(r,l)}return r(t,e),A(t,[{key:"componentWillMount",value:function(){this.setState({buildingId:this.props.projectId}),this.props.dispatch(Object(p._43)({id:this.props.projectId,saleStatus:["2"]}))}},{key:"componentWillReceiveProps",value:function(e){this.state.buildingId!==e.projectId&&(this.props.dispatch(Object(p._43)({id:e.projectId,saleStatus:["2"]})),this.setState({buildingId:e.projectId})),this.getBuildingNo(e.shopList)}},{key:"render",value:function(){var e=this.state.buildingNo;this.props.submitDisabled;return d.a.createElement("div",{className:"hotShopPage",style:{marginTop:"25px"}},0===e.length?d.a.createElement("div",{style:{textAlign:"center",fontSize:"1rem"}},d.a.createElement(m.p,{type:"frown-o"}),d.a.createElement("span",{style:{marginLeft:"15px"}},"\u6682\u65e0\u5546\u94fa\u6570\u636e")):d.a.createElement("div",null,d.a.createElement(h.a,{list:e,type:"hot"}),d.a.createElement(g.a,null),this.hot,d.a.createElement(m.z,{style:{marginTop:"25px"}},d.a.createElement(m.k,{span:24,style:{textAlign:"center"}},d.a.createElement(m.g,{type:"primary",style:{width:"8rem"},loading:this.props.submitLoading,onClick:this.handleSave},"\u4fdd\u5b58"),d.a.createElement(m.g,{className:"login-form-button formBtn",onClick:this.handleCancel},"\u53d6\u6d88")))))}}]),t}(u.Component);t.a=Object(s.b)(l,c)(b)},2114:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{isLoading:e.active.isLoading,projectId:e.active.projectId,shopList:e.active.shopList,submitLoading:e.active.submitLoading,descriptionValue:e.active.descriptionValue,pushCheckedArr:e.active.pushCheckedArr,buildInfo:e.building.buildInfo,myTitleValue:e.active.myTitleValue}}function c(e){return{dispatch:e}}var s=n(92),p=n(1216),u=n(0),d=n.n(u),m=n(46),f=n(27),h=(n.n(f),n(1766)),g=n(1715),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=function(e){function t(){var e,n,r,l;i(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={buildingNo:[],buildingId:""},r.getBuildingNo=function(e){var t=[],n=[];n=[].concat(a(e)),n.forEach(function(e){t.push({buildingNo:e.buildingNo})});var i={};t=t.reduce(function(e,t){return i[t.buildingNo]||(i[t.buildingNo]=e.push(t)),e},[]),t.map(function(e){return e.children=[]}),n.forEach(function(e){var n=t.findIndex(function(t){return t.buildingNo===e.buildingNo});e.checked=e.isHot,t[n].children.push(e)}),r.setState({buildingNo:t},function(){})},r.handleCancel=function(){r.props.dispatch(Object(p._68)({id:r.props.projectId,type:"dynamic"}))},r.handleSave=function(){var e=r.props,t=e.pushCheckedArr,n=e.descriptionValue,a=e.projectId,i=e.buildInfo,o=e.myTitleValue;if(n){console.log(t,i,"AAAA????");var l={updateType:1,contentType:"ShopsAdd",contentName:i.buildingBasic.name,contentId:a,updateContent:JSON.stringify(t),content:n,ext2:i.buildingBasic.areaFullName,title:o};r.props.dispatch(Object(p._148)({obj:l}))}else m.L.warning({message:"\u5fc5\u987b\u8f93\u5165\u63cf\u8ff0\u4fe1\u606f",duration:3})},l=n,o(r,l)}return r(t,e),A(t,[{key:"componentWillMount",value:function(){this.setState({buildingId:this.props.projectId}),this.props.dispatch(Object(p._43)({id:this.props.projectId,saleStatus:["1"]}))}},{key:"componentWillReceiveProps",value:function(e){this.state.buildingId!==e.projectId&&(this.props.dispatch(Object(p._43)({id:e.projectId,saleStatus:["1"]})),this.setState({buildingId:e.projectId})),this.getBuildingNo(e.shopList)}},{key:"render",value:function(){var e=this.state.buildingNo,t=this.props.submitDisabled||{},n=t.pushBtn;return d.a.createElement(m.B,{spinning:this.props.isLoading},d.a.createElement("div",{className:"pushShop",style:{marginTop:"25px"}},0===e.length?d.a.createElement("div",{style:{textAlign:"center",fontSize:"1rem"}},d.a.createElement(m.p,{type:"frown-o"}),d.a.createElement("span",{style:{marginLeft:"15px"}},"\u6682\u65e0\u5546\u94fa\u6570\u636e")):d.a.createElement("div",null,d.a.createElement(h.a,{list:e,type:"push",text:this.props.text}),d.a.createElement(g.a,{text:this.props.text}),"\u5ba1\u6838\u4e2d"===this.props.text?null:d.a.createElement(m.z,{style:{marginTop:"25px"}},d.a.createElement(m.k,{span:24,style:{textAlign:"center"}},d.a.createElement(m.g,{type:"primary",style:{width:"8rem"},disabled:n,loading:this.props.submitLoading,onClick:this.handleSave},"\u4fdd\u5b58"),d.a.createElement(m.g,{className:"login-form-button formBtn",onClick:this.handleCancel},"\u53d6\u6d88"))))))}}]),t}(u.Component);t.a=Object(s.b)(l,c)(b)},2115:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{buildInfo:e.building.buildInfo,descriptionValue:e.active.descriptionValue,operInfo:e.building.operInfo,submitLoading:e.active.submitLoading,eidtFlagYhui:e.building.eidtFlagYhui,statusArr:e.active.statusArr,dynamicBuildInfo:e.building.dynamicBuildInfo,projectId:e.active.projectId,dynamicStatusArr:e.active.dynamicStatusArr,myTitleValue:e.active.myTitleValue}}function l(e){return{dispatch:e}}var c=n(92),s=n(1216),p=n(0),u=n.n(p),d=n(46),m=n(27),f=(n.n(m),n(1715)),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=d.o.Item,A=function(e){function t(){var e,n,o,r;a(this,t);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={projectId:""},o.handleEdit=function(e){o.props.dispatch(Object(s._166)())},o.initData=function(e){o.setState({projectId:e},function(){if("dynamic"===o.props.type){var e={pageSize:1,isCurrent:!0,contentTypes:["DiscountPolicy"],contentIds:[o.state.projectId]};o.props.dispatch(Object(s._18)({condition:e,id:o.state.projectId,updateType:1}))}})},o.handleSave=function(e){e.preventDefault();var t=o.props,n=t.descriptionValue,a=t.projectId,i=t.myTitleValue;o.props.form.validateFields(function(e,t){if(!e){var r={updateType:1,contentType:"DiscountPolicy",contentId:a,updateContent:JSON.stringify(t),content:n,title:i};n?o.props.dispatch(Object(s._148)({obj:r})):d.L.warning({message:"\u5fc5\u987b\u8f93\u5165\u63cf\u8ff0\u4fe1\u606f",duration:3})}})},o.handleCancel=function(){o.props.dispatch(Object(s._68)({id:o.props.projectId,type:"dynamic"}))},r=n,i(o,r)}return o(t,e),h(t,[{key:"componentWillMount",value:function(){this.initData(this.props.projectId)}},{key:"componentWillReceiveProps",value:function(e){e.projectId!==this.state.projectId&&(console.log("\u53d8\u4e86id",e.projectId),this.initData(e.projectId))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:2},wrapperCol:{span:14}},n=this.props,a=n.eidtFlagYhui,i=n.dynamicBuildInfo,o=n.buildInfo,r=n.dynamicStatusArr,l=void 0,c=(this.props.statusArr||[]).find(function(e){return"DiscountPolicy"===e.action})||{};return l="{}"===JSON.stringify(c)?o.relShopInfo:[1,16].includes(r.examineStatus)?i.relShopInfo:o.relShopInfo,u.a.createElement("div",null,u.a.createElement("div",{style:{backgroundColor:"#ECECEC"}},a?u.a.createElement(d.o,{layout:"horizontal",style:{padding:"25px 0"}},u.a.createElement(g,Object.assign({},t,{label:"\u4f18\u60e0\u653f\u7b56"}),e("preferentialPolicies",{initialValue:l.preferentialPolicies})(u.a.createElement(d.q,{type:"textarea",placeholder:"\u8bf7\u8f93\u5165\u4f18\u60e0\u653f\u7b56",style:{height:"100px"}})))):u.a.createElement(d.o,{layout:"horizontal",style:{padding:"25px 0"}},u.a.createElement(d.z,{type:"flex"},u.a.createElement(d.k,{span:20,style:{textAlign:"right"}},"\u5ba1\u6838\u4e2d"===this.props.text?null:u.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}))),u.a.createElement(d.z,{className:"viewRow"},u.a.createElement(d.k,{span:24},"\u4f18\u60e0\u653f\u7b56\uff1a",l.preferentialPolicies?l.preferentialPolicies:"\u6682\u65e0\u4f18\u60e0\u653f\u7b56")))),u.a.createElement(f.a,{text:this.props.text}),"\u5ba1\u6838\u4e2d"===this.props.text?null:u.a.createElement(d.z,{style:{marginTop:"25px"}},u.a.createElement(d.k,{span:24,style:{textAlign:"center"}},u.a.createElement(d.g,{type:"primary",style:{width:"8rem"},loading:this.props.submitLoading,onClick:this.handleSave},"\u4fdd\u5b58"),u.a.createElement(d.g,{className:"login-form-button formBtn",onClick:this.handleCancel},"\u53d6\u6d88"))))}}]),t}(p.Component),b=d.o.create()(A);t.a=Object(c.b)(r,l)(b)}});
//# sourceMappingURL=19.f03ef726.chunk.js.map