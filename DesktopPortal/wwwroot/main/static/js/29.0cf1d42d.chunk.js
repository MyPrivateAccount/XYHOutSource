webpackJsonp([29],{1892:function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function r(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function o(e){return{editManagerInfo:e.manager.editManagerInfo,dataSource:e.manager.dataSource,isLoading:e.manager.isLoading,checkedArr:e.manager.checkedArr,userArr:e.manager.userArr,currentInfo:e.manager.currentInfo,examineStatus:e.manager.examineStatus}}function s(e){return{dispatch:e,closeModal:function(){return e(Object(c.u)())},openModal:function(){return e(c._82.apply(void 0,arguments))},savePerson:function(){return e(c._104.apply(void 0,arguments))}}}Object.defineProperty(n,"__esModule",{value:!0});var l=t(92),c=t(1216),m=t(0),d=t.n(m),A=t(46),p=t(27),f=(t.n(p),t(2110)),u=(t.n(f),t(2112)),g=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),y=(A.s.Header,A.s.Sider,A.s.Content),b=function(e){function n(){var e,t,r,o;i(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return t=r=a(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),r.state={thisData:{},pageIndex:0},r.handleEdit=function(e){r.props.openModal(e)},r.handleOk=function(e){var n=r.props,t=n.currentInfo,i=n.checkedArr,a={residentUser1:(i[0]||{}).id||null,residentUser2:(i[1]||{}).id||null,residentUser3:(i[2]||{}).id||null,residentUser4:(i[3]||{}).id||null,residentUserName1:(i[0]||{}).name||null,residentUserName2:(i[1]||{}).name||null,residentUserName3:(i[2]||{}).name||null,residentUserName4:(i[3]||{}).name||null,id:t.id,name:(t.basicInfo||{}).name||""};console.log(a,"\u6307\u6d3e\u9a7b\u573aobj"),r.props.savePerson(a)},r.handleCancel=function(){r.props.closeModal()},o=t,a(r,o)}return r(n,e),g(n,[{key:"componentWillMount",value:function(){this.props.dispatch(Object(c._8)())}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this,n=this.props.editManagerInfo,t=n.show,i=n.operating;return d.a.createElement(A.B,{spinning:this.props.isLoading},d.a.createElement("div",{className:"relative"},d.a.createElement(A.s,null,d.a.createElement(y,{className:"content zcManagementPage"},(this.props.dataSource||[]).map(function(n,t){return d.a.createElement(A.z,{className:"itemStyle",key:t},d.a.createElement(A.k,{span:24},d.a.createElement(A.z,{className:"borderDiv"},d.a.createElement(A.k,{span:20},d.a.createElement("div",{className:"listLeft"},d.a.createElement("div",{className:"imgDiv"},d.a.createElement("img",{src:n.icon||"../../../images/default-icon.jpg",alt:"\u623f\u5b50"})),d.a.createElement("div",{className:"listText"},d.a.createElement("p",{style:{fontWeight:"bold"}},n.basicInfo.name),d.a.createElement("p",{className:"itemPerson"},d.a.createElement("span",null,n.residentUser1Info.userName||"\u6682\u65e0"),d.a.createElement("span",null,n.residentUser2Info.userName||"\u6682\u65e0"),d.a.createElement("span",null,n.residentUser3Info.userName||"\u6682\u65e0"),d.a.createElement("span",null,n.residentUser4Info.userName||"\u6682\u65e0"))))),d.a.createElement(A.k,{span:4,className:"priceDiv"},d.a.createElement(A.g,{type:"primary",shape:"circle",icon:"edit",onClick:function(){return e.handleEdit(n)}})))))}),d.a.createElement(A.u,{title:"\u4fee\u6539\u9a7b\u573a",visible:t,confirmLoading:i,footer:[d.a.createElement(A.g,{size:"large",onClick:this.handleCancel},"\u53d6\u6d88"),d.a.createElement(A.g,{type:"primary",size:"large",onClick:this.handleOk,disabled:1===this.props.examineStatus},"\u786e\u5b9a")],onCancel:this.handleCancel},d.a.createElement(u.a,{type:"modal"}))))))}}]),n}(m.Component);n.default=Object(l.b)(o,s)(b)},2110:function(e,n,t){var i=t(2111);"string"===typeof i&&(i=[[e.i,i,""]]);var a={};a.transform=void 0;t(477)(i,a);i.locals&&(e.exports=i.locals)},2111:function(e,n,t){n=e.exports=t(476)(!0),n.push([e.i,'.ant-modal-body .info .infoDiv .title,.zcManagementPage .info .infoDiv .title{margin-right:10px;width:120px;padding:10px}.ant-modal-body .info .infoDiv .itemUser,.zcManagementPage .info .infoDiv .itemUser{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.ant-modal-body .info .infoDiv .itemUser .checkPerson,.zcManagementPage .info .infoDiv .itemUser .checkPerson{cursor:pointer;position:relative;border:1px solid #dcdcdc;padding:5px 25px;margin:0 10px 15px 0}.ant-modal-body .info .infoDiv .itemUser .checkPerson .icon,.zcManagementPage .info .infoDiv .itemUser .checkPerson .icon{position:absolute;right:0;top:0}.ant-modal-body .info .infoDiv .itemUser .checkedPerson,.zcManagementPage .info .infoDiv .itemUser .checkedPerson{cursor:pointer;position:relative;border:1px solid #1992ea;padding:5px 25px;margin:0 10px 15px 0;color:#1992ea}.ant-modal-body .info .infoDiv .itemUser .checkedPerson .icon,.zcManagementPage .info .infoDiv .itemUser .checkedPerson .icon{position:absolute;right:0;top:0}.ant-modal-body .itemStyle,.zcManagementPage .itemStyle{display:-ms-flexbox;display:flex;margin:20px 0 10px}.ant-modal-body .itemStyle .borderDiv,.zcManagementPage .itemStyle .borderDiv{border-top:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;padding:10px 0}.ant-modal-body .itemStyle .borderDiv .listText,.zcManagementPage .itemStyle .borderDiv .listText{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;height:8rem;padding:15px 5px}.ant-modal-body .itemStyle .borderDiv .listText p,.zcManagementPage .itemStyle .borderDiv .listText p{padding:10px}.ant-modal-body .itemStyle .borderDiv .listLeft,.zcManagementPage .itemStyle .borderDiv .listLeft{display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center}.ant-modal-body .itemStyle .borderDiv .listLeft .imgDiv,.zcManagementPage .itemStyle .borderDiv .listLeft .imgDiv{width:10rem;height:8rem;position:relative;overflow:hidden}.ant-modal-body .itemStyle .borderDiv .listLeft .imgDiv img,.zcManagementPage .itemStyle .borderDiv .listLeft .imgDiv img{position:absolute;right:0;left:0;height:100%}.ant-modal-body .itemStyle .borderDiv .listLeft .itemPerson,.zcManagementPage .itemStyle .borderDiv .listLeft .itemPerson{display:-ms-flexbox;display:flex}.ant-modal-body .itemStyle .borderDiv .listLeft .itemPerson span:not(:last-of-type):after,.zcManagementPage .itemStyle .borderDiv .listLeft .itemPerson span:not(:last-of-type):after{content:"|";margin:0 .5rem}.ant-modal-body .itemStyle .borderDiv .priceDiv,.zcManagementPage .itemStyle .borderDiv .priceDiv{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:8rem}.ant-modal-body .itemStyle .borderDiv .priceDiv .text,.zcManagementPage .itemStyle .borderDiv .priceDiv .text{padding:10px;font-weight:700}',"",{version:3,sources:["E:/work/XYH/xinyaohang/DesktopPortal/src/houseResource/pages/zcManagement/zcManagment.less"],names:[],mappings:"AAAA,8EAEE,kBAAmB,AACnB,YAAa,AACb,YAAc,CACf,AACD,oFAEE,oBAAqB,AACrB,aAAc,AACd,mBAAoB,AAChB,cAAgB,CACrB,AACD,8GAEE,eAAgB,AAChB,kBAAmB,AACnB,yBAA0B,AAC1B,iBAAkB,AAClB,oBAAsB,CACvB,AACD,0HAEE,kBAAmB,AACnB,QAAS,AACT,KAAO,CACR,AACD,kHAEE,eAAgB,AAChB,kBAAmB,AACnB,yBAA0B,AAC1B,iBAAkB,AAClB,qBAAsB,AACtB,aAAe,CAChB,AACD,8HAEE,kBAAmB,AACnB,QAAS,AACT,KAAO,CACR,AACD,wDAEE,oBAAqB,AACrB,aAAc,AACd,kBAAsB,CACvB,AACD,8EAEE,6BAA8B,AAC9B,gCAAiC,AACjC,cAAgB,CACjB,AACD,kGAEE,oBAAqB,AACrB,aAAc,AACd,0BAA2B,AACvB,sBAAuB,AAC3B,qBAAsB,AAClB,uBAAwB,AAC5B,YAAa,AACb,gBAAkB,CACnB,AACD,sGAEE,YAAc,CACf,AACD,kGAEE,oBAAqB,AACrB,aAAc,AACd,oBAAqB,AACjB,2BAA4B,AAChC,sBAAuB,AACnB,kBAAoB,CACzB,AACD,kHAEE,YAAa,AACb,YAAa,AACb,kBAAmB,AACnB,eAAiB,CAClB,AACD,0HAEE,kBAAmB,AACnB,QAAS,AACT,OAAQ,AACR,WAAa,CACd,AACD,0HAEE,oBAAqB,AACrB,YAAc,CACf,AACD,sLAEE,YAAa,AACb,cAAgB,CACjB,AACD,kGAEE,oBAAqB,AACrB,aAAc,AACd,0BAA2B,AACvB,sBAAuB,AAC3B,sBAAuB,AACnB,mBAAoB,AACxB,qBAAsB,AAClB,uBAAwB,AAC5B,WAAa,CACd,AACD,8GAEE,aAAc,AACd,eAAkB,CACnB",file:"zcManagment.less",sourcesContent:[".zcManagementPage .info .infoDiv .title,\n.ant-modal-body .info .infoDiv .title {\n  margin-right: 10px;\n  width: 120px;\n  padding: 10px;\n}\n.zcManagementPage .info .infoDiv .itemUser,\n.ant-modal-body .info .infoDiv .itemUser {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.zcManagementPage .info .infoDiv .itemUser .checkPerson,\n.ant-modal-body .info .infoDiv .itemUser .checkPerson {\n  cursor: pointer;\n  position: relative;\n  border: 1px solid #dcdcdc;\n  padding: 5px 25px;\n  margin: 0 10px 15px 0;\n}\n.zcManagementPage .info .infoDiv .itemUser .checkPerson .icon,\n.ant-modal-body .info .infoDiv .itemUser .checkPerson .icon {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.zcManagementPage .info .infoDiv .itemUser .checkedPerson,\n.ant-modal-body .info .infoDiv .itemUser .checkedPerson {\n  cursor: pointer;\n  position: relative;\n  border: 1px solid #1992EA;\n  padding: 5px 25px;\n  margin: 0 10px 15px 0;\n  color: #1992EA;\n}\n.zcManagementPage .info .infoDiv .itemUser .checkedPerson .icon,\n.ant-modal-body .info .infoDiv .itemUser .checkedPerson .icon {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.zcManagementPage .itemStyle,\n.ant-modal-body .itemStyle {\n  display: -ms-flexbox;\n  display: flex;\n  margin: 20px 0 10px 0;\n}\n.zcManagementPage .itemStyle .borderDiv,\n.ant-modal-body .itemStyle .borderDiv {\n  border-top: 1px solid #e0e0e0;\n  border-bottom: 1px solid #e0e0e0;\n  padding: 10px 0;\n}\n.zcManagementPage .itemStyle .borderDiv .listText,\n.ant-modal-body .itemStyle .borderDiv .listText {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  -ms-flex-pack: center;\n      justify-content: center;\n  height: 8rem;\n  padding: 15px 5px;\n}\n.zcManagementPage .itemStyle .borderDiv .listText p,\n.ant-modal-body .itemStyle .borderDiv .listText p {\n  padding: 10px;\n}\n.zcManagementPage .itemStyle .borderDiv .listLeft,\n.ant-modal-body .itemStyle .borderDiv .listLeft {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: start;\n      justify-content: flex-start;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.zcManagementPage .itemStyle .borderDiv .listLeft .imgDiv,\n.ant-modal-body .itemStyle .borderDiv .listLeft .imgDiv {\n  width: 10rem;\n  height: 8rem;\n  position: relative;\n  overflow: hidden;\n}\n.zcManagementPage .itemStyle .borderDiv .listLeft .imgDiv img,\n.ant-modal-body .itemStyle .borderDiv .listLeft .imgDiv img {\n  position: absolute;\n  right: 0;\n  left: 0;\n  height: 100%;\n}\n.zcManagementPage .itemStyle .borderDiv .listLeft .itemPerson,\n.ant-modal-body .itemStyle .borderDiv .listLeft .itemPerson {\n  display: -ms-flexbox;\n  display: flex;\n}\n.zcManagementPage .itemStyle .borderDiv .listLeft .itemPerson span:not(:last-of-type)::after,\n.ant-modal-body .itemStyle .borderDiv .listLeft .itemPerson span:not(:last-of-type)::after {\n  content: '|';\n  margin: 0 .5rem;\n}\n.zcManagementPage .itemStyle .borderDiv .priceDiv,\n.ant-modal-body .itemStyle .borderDiv .priceDiv {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  height: 8rem;\n}\n.zcManagementPage .itemStyle .borderDiv .priceDiv .text,\n.ant-modal-body .itemStyle .borderDiv .priceDiv .text {\n  padding: 10px;\n  font-weight: bold;\n}\n"],sourceRoot:""}])},2112:function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function r(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function o(e){return{editManagerInfo:e.manager.editManagerInfo,infoLoading:e.manager.infoLoading,checkedArr:e.manager.checkedArr,userArr:e.manager.userArr,currentInfo:e.manager.currentInfo,examineStatus:e.manager.examineStatus}}function s(e){return{dispatch:e,savePerson:function(){return e(c._104.apply(void 0,arguments))}}}var l=t(92),c=t(1216),m=t(0),d=t.n(m),A=t(46),p=t(27),f=(t.n(p),function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}()),u=(A.A.Option,function(e){function n(){var e,t,r,o;i(this,n);for(var s=arguments.length,l=Array(s),m=0;m<s;m++)l[m]=arguments[m];return t=r=a(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),r.state={currentInfo:[],projectId:""},r.initData=function(e){var n={pageSize:1,contentTypes:"BuildingsOnSite",examinAction:"BuildingsOnSite",contentIds:r.state.projectId};r.props.dispatch(Object(c._22)({condition:n}))},r.clickItem=function(e,n){var t=r.props.checkedArr.concat([]),i=r.props.userArr.concat([]);if(!i[n].isChecked&&r.props.checkedArr.length>=4)return void A.L.warning({message:"\u6700\u591a\u6307\u6d3e\u56db\u4e2a\u9a7b\u573a",duration:3});if(i[n].isChecked=!i[n].isChecked,i[n].isChecked)t.push({id:e.id,name:e.trueName});else{var a=t.findIndex(function(n){return n.id===e.id});t.splice(a,1)}console.log(t,"\u6307\u6d3e\u9a7b\u573acheckedArr"),r.props.dispatch(Object(c.m)({arr:i,checkedArr:t}))},r.getExamineStatus=function(e){switch(e){case 1:return"\u5ba1\u6838\u4e2d";case 3:return"\u5ba1\u6838\u9a73\u56de"}},o=t,a(r,o)}return r(n,e),f(n,[{key:"componentWillMount",value:function(){var e=this;this.setState({currentInfo:this.props.currentInfo,projectId:this.props.currentInfo.id},function(){console.log(e.state.currentInfo,e.state.projectId),e.props.dispatch(Object(c._55)(e.state.projectId))})}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var n=this;this.state.projectId!==e.currentInfo.id&&(this.props.dispatch(Object(c._55)(e.currentInfo.id)),this.setState({currentInfo:e.currentInfo,projectId:e.currentInfo.id},function(){console.log(n.state.currentInfo,n.state.projectId,123)}))}},{key:"render",value:function(){var e=this,n=this.props.editManagerInfo.operating;return d.a.createElement(A.B,{spinning:this.props.infoLoading},d.a.createElement("div",{className:"info",style:{marginTop:this.props.type?0:"25px"}},d.a.createElement("div",{className:"infoDiv"},d.a.createElement("p",{className:"title",style:{width:"140px"}},"\u8bf7\u9009\u62e9\u9a7b\u573a\uff1a",this.props.examineStatus?d.a.createElement("span",{style:{fontWeight:"bold",color:"red"}},this.getExamineStatus(this.props.examineStatus)):null),d.a.createElement("div",{className:"itemUser"},this.props.userArr.map(function(n,t){return d.a.createElement("div",{className:n.isChecked?"checkedPerson":"checkPerson",onClick:function(){return e.clickItem(n,t)},key:t},n.isChecked?d.a.createElement(A.p,{type:"check",className:"icon",size:"small"}):null,d.a.createElement("div",null,n.trueName))}))),this.props.type?null:d.a.createElement("div",{className:"infoDiv"},d.a.createElement(A.g,{type:"primary",style:{width:"100px"},onclick:this.save,loading:n},"\u4fdd\u5b58"))))}}]),n}(m.Component));n.a=Object(l.b)(o,s)(u)}});
//# sourceMappingURL=29.0cf1d42d.chunk.js.map