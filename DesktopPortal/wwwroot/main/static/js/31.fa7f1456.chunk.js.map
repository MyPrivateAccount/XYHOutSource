{"version":3,"sources":["../static/js/31.fa7f1456.chunk.js","privilegeManager/pages/role/roleTable.js","privilegeManager/pages/role/roleEdit.js"],"names":["webpackJsonp","2067","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","roletableMapStateToProps","state","console","log","role","activeRole","operInfo","roleSource","appList","app","privilegeTreeSource","treeSource","org","checkPrivileges","permissionOrgTree","roletableMapDispatchToProps","dispatch","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_react_redux__","__WEBPACK_IMPORTED_MODULE_2_antd__","__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__","__WEBPACK_IMPORTED_MODULE_4__roleEdit__","__WEBPACK_IMPORTED_MODULE_5__constants_baseConfig__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","Header","Content","Sider","SubMenu","MenuItemGroup","ItemGroup","TreeNode","orgPrivilegeTypes","Option","organizationId","organizationName","RoleTable","_Component","_ref","_temp","_this","_ret","this","_len","arguments","args","Array","_key","getPrototypeOf","apply","concat","privilegeOrgTreeShow","privilegeOrgTreeDisabled","activePrivilegeItem","filialeChecked","curOrgChecked","allChecked","handleRoleSlected","e","selectedKeys","handleRoleAdd","handlePrivilegeSave","rolePrivilege","checkedPrivilegeItemNodes","roleApps","map","node","filterResult","filter","p","applicationId","find","a","id","appPrivilegeItem","applicationName","displayName","permissions","push","roleId","entity","handleDeleteClick","handlePrivilegeItemSelected","setState","privilegeItem","permissionId","organizations","checkkeys","includes","privilegeItemCheckChange","_e$target","checked","original","checkedKeys","slice","nodeList","permissionName","name","groupName","groups","c","splice","handleOrgPrivilegeTypeChecked","_e$target2","o","checkNodes","orgIndex","handleOrgOnchecked","_e$node$props","title","eventKey","checkedNodes","newCheckPrivileges","assign","newProps","JSON","stringify","appInfo","appIcon","appType","applicationType","icon","_this2","checkedOrgkeys","checkRolekeys","createElement","className","type","shape","onClick","style","overflowY","padding","theme","defaultSelectedKeys","onSelect","mode","Item","size","handleRoleEdit","onConfirm","onCancel","okText","cancelText","overflowX","gutter","height","span","disabled","undefined","getAppIcon","children","group","item","onChange","checkable","defaultCheckedKeys","checkStrictly","onCheck","loadData","onOrgTreeLoadData","loop","data","isLeaf","AddRolePermissionTree","2068","roleEditMapStateToProps","roleEditMapDispatchToProps","__WEBPACK_IMPORTED_MODULE_0_react_redux__","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_1_react___default","FormItem","RoleEditor","dialogTitle","visible","roleInfo","roleType","handleOk","preventDefault","operType","form","validateFields","err","values","method","handleCancel","handleOrgSelected","handleRoleTypeChange","_newProps$operInfo","result","resetFields","getFieldDecorator","formItemLayout","labelCol","wrapperCol","treeNodes","AddNormalRoleTree","AddPublicRoleTree","width","maskClosable","onOk","label","initialValue","rules","required","message","float","dropdownStyle","maxHeight","overflow","treeData","orgTreeSource","placeholder","WrappedRegistrationForm"],"mappings":"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","file":"static/js/31.fa7f1456.chunk.js","sourcesContent":["webpackJsonp([31],{\n\n/***/ 2067:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_redux__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__ = __webpack_require__(1281);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__roleEdit__ = __webpack_require__(2068);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__constants_baseConfig__ = __webpack_require__(120);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Header=__WEBPACK_IMPORTED_MODULE_2_antd__[\"s\" /* Layout */].Header,Sider=__WEBPACK_IMPORTED_MODULE_2_antd__[\"s\" /* Layout */].Sider,Content=__WEBPACK_IMPORTED_MODULE_2_antd__[\"s\" /* Layout */].Content;var SubMenu=__WEBPACK_IMPORTED_MODULE_2_antd__[\"t\" /* Menu */].SubMenu;var MenuItemGroup=__WEBPACK_IMPORTED_MODULE_2_antd__[\"t\" /* Menu */].ItemGroup;var TreeNode=__WEBPACK_IMPORTED_MODULE_2_antd__[\"I\" /* Tree */].TreeNode;var Option=__WEBPACK_IMPORTED_MODULE_2_antd__[\"A\" /* Select */].Option;var orgPrivilegeTypes=[{organizationId:'00000000',organizationName:'本组织'},{organizationId:'11111111',organizationName:'分公司'},{organizationId:'88888888',organizationName:'全部'}];var RoleTable=function(_Component){_inherits(RoleTable,_Component);function RoleTable(){var _ref;var _temp,_this,_ret;_classCallCheck(this,RoleTable);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=RoleTable.__proto__||Object.getPrototypeOf(RoleTable)).call.apply(_ref,[this].concat(args))),_this),_this.state={privilegeOrgTreeShow:true,//权限树禁用\nprivilegeOrgTreeDisabled:true,//权限树禁用\nactivePrivilegeItem:'',//当前选中权限\nfilialeChecked:false,//分公司checkbox状态\ncurOrgChecked:false,//本组织checkbox状态\nallChecked:false//全选\n},_this.handleRoleSlected=function(e){//角色选择\nconsole.log(\"selected角色：\",e.selectedKeys,e);_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"Q\" /* roleSlected */])(e.selectedKeys));_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"N\" /* rolePrivilegeGet */])(e.selectedKeys[0]));},_this.handleRoleAdd=function(e){console.log(\"角色新增：\");_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"F\" /* roleAdd */])());},_this.handlePrivilegeSave=function(e){console.log(\"权限保存\",_this.props.checkPrivileges);var rolePrivilege=[];//工具-》权限项-》部门\nvar appList=_this.props.appList;var checkedPrivilegeItemNodes=_this.props.checkPrivileges.checkedPrivilegeItemNodes;var roleApps=[];checkedPrivilegeItemNodes.map(function(node){var filterResult=rolePrivilege.filter(function(p){return p.applicationId==node.applicationId;});if(filterResult.length==0){var app=appList.find(function(a){return a.id==node.applicationId;});var appPrivilegeItem={applicationId:app.id,applicationName:app.displayName,permissions:[]};appPrivilegeItem.permissions.push(node);rolePrivilege.push(appPrivilegeItem);roleApps.push(app.id);}else{filterResult[0].permissions.push(node);}});console.log(\"权限保存JSON：\",rolePrivilege,roleApps);_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"O\" /* rolePrivilegeSave */])({roleId:_this.props.activeRole.id,rolePrivilege:rolePrivilege}));_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"G\" /* roleAppSave */])({roleId:_this.props.activeRole.id,entity:roleApps}));},_this.handleDeleteClick=function(role){console.log(\"delete role:\",role);_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"H\" /* roleDelete */])(role.id));},_this.handlePrivilegeItemSelected=function(e){//权限选择处理（勾选上的权限项，才可以设置组织权限）\nconsole.log(\"权限项选中:\",e.key);_this.setState({activePrivilegeItem:e.key});var filialeChecked=false,curOrgChecked=false,allChecked=false;for(var i in _this.props.checkPrivileges.checkedPrivilegeItemNodes){var privilegeItem=_this.props.checkPrivileges.checkedPrivilegeItemNodes[i];if(privilegeItem.permissionId==e.key){filialeChecked=privilegeItem.organizations.filter(function(org){return org.organizationId=='11111111';}).length>0;curOrgChecked=privilegeItem.organizations.filter(function(org){return org.organizationId=='00000000';}).length>0;allChecked=privilegeItem.organizations.filter(function(org){return org.organizationId=='88888888';}).length>0;break;}};_this.setState({privilegeOrgTreeShow:!allChecked,allChecked:allChecked,curOrgChecked:curOrgChecked,filialeChecked:filialeChecked,privilegeOrgTreeDisabled:!_this.props.checkPrivileges.checkkeys.includes(e.key)});},_this.privilegeItemCheckChange=function(e){//权限项勾选处理\nvar _e$target=e.target,checked=_e$target.checked,original=_e$target.original;console.log(\"activePrivilegeItem:\",_this.state.activePrivilegeItem);console.log(\"checkChange:\"+checked,original);var checkedKeys=_this.props.checkPrivileges.checkkeys.slice();var nodeList=_this.props.checkPrivileges.checkedPrivilegeItemNodes.slice();_this.setState({privilegeOrgTreeDisabled:!checked});if(checked){checkedKeys.push(original.id);nodeList.push({applicationId:original.applicationId,permissionId:original.id,permissionName:original.name,groupName:original.groups,organizations:[]});}else{checkedKeys=checkedKeys.filter(function(c){return c!=original.id;});for(var i=nodeList.length-1;i>-1;i--){if(nodeList[i].permissionId==original.id){nodeList.splice(i,1);break;}}}_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"M\" /* rolePrivilegeEdit */])({checkkeys:checkedKeys,checkedPrivilegeItemNodes:nodeList}));},_this.handleOrgPrivilegeTypeChecked=function(e){//权限类型勾选处理\nconsole.log(\"e\",e);var _e$target2=e.target,checked=_e$target2.checked,value=_e$target2.value;console.log(\"选择：，value\",checked,value);if(value=='88888888'&&checked){_this.setState({privilegeOrgTreeShow:false,filialeChecked:false,curOrgChecked:false,allChecked:true});}else{_this.setState({privilegeOrgTreeShow:true,allChecked:false});if(value=='00000000'){_this.setState({curOrgChecked:checked});}if(value=='11111111'){_this.setState({filialeChecked:checked});}}var org=orgPrivilegeTypes.find(function(o){return o.organizationId==value;});var checkNodes=_this.props.checkPrivileges.checkedPrivilegeItemNodes.slice();for(var i in checkNodes){if(checkNodes[i].permissionId==_this.state.activePrivilegeItem){if(value=='88888888'){//全部权限\ncheckNodes[i].organizations=checked?[org]:[];}else{if(checked){checkNodes[i].organizations.push(org);}else{for(var orgIndex=checkNodes[i].organizations.length-1;orgIndex>-1;orgIndex--){if(checkNodes[i].organizations[orgIndex].organizationId==value){checkNodes[i].organizations[orgIndex].splice(orgIndex,1);break;}}}}break;}}console.log(\"checkedPrivilegeItemNodes\",checkNodes);_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"M\" /* rolePrivilegeEdit */])({checkkeys:_this.props.checkPrivileges.checkkeys.slice(),checkedPrivilegeItemNodes:checkNodes}));},_this.handleOrgOnchecked=function(checkedKeys,e){var _e$node$props=e.node.props,title=_e$node$props.title,eventKey=_e$node$props.eventKey;var organizations=[];e.checkedNodes.map(function(node){//直接遍历所有选中的节点\norganizations.push({organizationId:node.key,organizationName:node.props.title});});var checkedPrivilegeItemNodes=_this.props.checkPrivileges.checkedPrivilegeItemNodes.slice();for(var i in checkedPrivilegeItemNodes){if(checkedPrivilegeItemNodes[i].permissionId==_this.state.activePrivilegeItem){console.log(\"找到选中的当前权限项，设置部门属性为：\",organizations);checkedPrivilegeItemNodes[i].organizations=organizations;break;}}console.log(\"org tree checkedkeys\",checkedKeys.checked,checkedPrivilegeItemNodes);var newCheckPrivileges=Object.assign({},_this.props.checkPrivileges,{checkedPrivilegeItemNodes:checkedPrivilegeItemNodes});_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"M\" /* rolePrivilegeEdit */])(newCheckPrivileges));},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(RoleTable,[{key:'componentWillMount',value:function componentWillMount(){this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"L\" /* roleGetList */])());this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"K\" /* roleGetAllToolPrivilegeItem */])(this.props.appList));//setTimeout(() => { }, 100);\nthis.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"t\" /* orgGetPermissionTree */])(\"RoleCreate\"));this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"t\" /* orgGetPermissionTree */])(\"PublicRoleOper\"));this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"t\" /* orgGetPermissionTree */])(\"AuthorizationPermission\"));}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(newProps){}},{key:'handleRoleEdit',value:function handleRoleEdit(role){console.log(\"角色编辑：\"+JSON.stringify(role));this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"J\" /* roleEdit */])(role));}//选择权限项的组织结构\n},{key:'getAppIcon',// onOrgTreeLoadData = (e) => {\n//     let { eventKey } = e.props;\n//     this.props.dispatch(getOrgDataByID({ id: eventKey }));\n//     return new Promise((resolve) => {\n//         setTimeout(() => {\n//             resolve();\n//         }, 500);\n//     });\n// }\nvalue:function getAppIcon(appInfo){var appIcon=\"appstore\";var appType=appInfo.applicationType;var app=__WEBPACK_IMPORTED_MODULE_5__constants_baseConfig__[\"a\" /* ApplicationTypes */].find(function(app){return app.key===appType;});if(app){appIcon=app.icon;}return appIcon;}},{key:'render',value:function render(){var _this2=this;var checkedPrivilegeItemNodes=this.props.checkPrivileges.checkedPrivilegeItemNodes;var checkedOrgkeys=[];checkedPrivilegeItemNodes.map(function(node){if(node.permissionId==_this2.state.activePrivilegeItem){node.organizations.map(function(org){checkedOrgkeys.push(org.organizationId);});}});//角色默认选中\nvar checkRolekeys=[];if(this.props.activeRole.id){checkRolekeys.push(this.props.activeRole.id);}var loop=function loop(data){return data.map(function(item){if(item.children&&item.children.length){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(TreeNode,{key:item.key,title:item.name,original:item.original},loop(item.children));}return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(TreeNode,{key:item.key,title:item.name,original:item.original,isLeaf:item.isLeaf});});};return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'inner-page'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'left-panel'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'relative'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"s\" /* Layout */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Header,null,'\\u89D2\\u8272\\u5217\\u8868',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"H\" /* Tooltip */],{title:'\\u65B0\\u589E\\u89D2\\u8272'},'\\xA0',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Button */],{type:'primary',shape:'circle',icon:'plus',onClick:this.handleRoleAdd}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Content,{style:{overflowY:'auto',padding:'0'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"t\" /* Menu */],{theme:this.state.theme,defaultSelectedKeys:checkRolekeys,onSelect:this.handleRoleSlected,mode:'inline'},this.props.roleSource.map(function(role,i){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"t\" /* Menu */].Item,{key:role.id,selectedKeys:[_this2.props.activeRole.id]},_this2.props.activeRole.id==role.id?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{className:'right-tool-bar'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"H\" /* Tooltip */],{title:'\\u7F16\\u8F91\\u89D2\\u8272'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Button */],{type:'primary',className:'ml-sm',shape:'circle',icon:'edit',size:'small',onClick:function onClick(e){return _this2.handleRoleEdit(role);}})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"H\" /* Tooltip */],{title:'\\u5220\\u9664\\u89D2\\u8272'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"w\" /* Popconfirm */],{title:'\\u4F60\\u786E\\u5B9A\\u8981\\u5220\\u9664\\u6B64\\u89D2\\u8272\\u4E48?',onConfirm:function onConfirm(e){return _this2.handleDeleteClick(role);},onCancel:null,okText:'\\u662F',cancelText:'\\u5426'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Button */],{type:'primary',className:'ml-sm',shape:'circle',icon:'delete',size:'small'})))):null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,role.name));})))))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'right-panel'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'relative'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"s\" /* Layout */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Content,{style:{overflowX:'hidden'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"z\" /* Row */],{gutter:10,style:{height:'100%'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Col */],{span:12,style:{height:'100%'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"s\" /* Layout */],{style:{height:'100%'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Header,null,'\\u5DE5\\u5177\\u6743\\u9650',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"H\" /* Tooltip */],{title:'\\u4FDD\\u5B58\\u5DE5\\u5177\\u6743\\u9650'},'\\xA0',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Button */],{type:'primary',shape:'circle',icon:'save',onClick:this.handlePrivilegeSave,disabled:this.props.activeRole.id==undefined}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Content,{style:{height:'100%',overflowY:'auto'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"t\" /* Menu */],{theme:this.state.theme,onSelect:function onSelect(e){return _this2.handlePrivilegeItemSelected(e);},mode:'inline'},this.props.privilegeTreeSource.map(function(appInfo,i){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(SubMenu,{key:i,title:__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"p\" /* Icon */],{type:_this2.getAppIcon(appInfo.original)}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,appInfo.name))},appInfo.children.map(function(group){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(MenuItemGroup,{key:group.key,title:group.name},group.children.map(function(item){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"t\" /* Menu */].Item,{key:item.key},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"j\" /* Checkbox */],{disabled:_this2.props.activeRole.id==undefined,key:item.key,checked:_this2.props.checkPrivileges.checkkeys.find(function(c){return c==item.key;})!=undefined,original:item.original,onChange:function onChange(e){return _this2.privilegeItemCheckChange(e);}}),' ',item.name);}));}));}))))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Col */],{span:12,style:{height:'100%'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"s\" /* Layout */],{style:{height:'100%'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Header,null,'\\u7EC4\\u7EC7\\u6743\\u9650'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Content,{style:{height:'100%',overflowY:'auto'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"j\" /* Checkbox */],{disabled:this.state.privilegeOrgTreeDisabled,value:'88888888',checked:this.state.allChecked,onChange:function onChange(e){return _this2.handleOrgPrivilegeTypeChecked(e);}},'\\u5168\\u90E8'),this.state.privilegeOrgTreeShow?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"j\" /* Checkbox */],{disabled:this.state.privilegeOrgTreeDisabled,checked:this.state.curOrgChecked,value:'00000000',onChange:function onChange(e){return _this2.handleOrgPrivilegeTypeChecked(e);}},'\\u672C\\u7EC4\\u7EC7'):null,this.state.privilegeOrgTreeShow?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"j\" /* Checkbox */],{disabled:this.state.privilegeOrgTreeDisabled,checked:this.state.filialeChecked,value:'11111111',onChange:function onChange(e){return _this2.handleOrgPrivilegeTypeChecked(e);}},'\\u5206\\u516C\\u53F8'):null,this.state.privilegeOrgTreeShow?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"I\" /* Tree */],{checkable:!this.state.privilegeOrgTreeDisabled,defaultCheckedKeys:checkedOrgkeys,checkStrictly:true,onCheck:function onCheck(checkedKeys,e){return _this2.handleOrgOnchecked(checkedKeys,e);},loadData:this.onOrgTreeLoadData},loop(this.props.permissionOrgTree.AddRolePermissionTree)):null)))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__roleEdit__[\"a\" /* default */],null))))));}}]);return RoleTable;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);function roletableMapStateToProps(state){console.log(\"roletableMapStateToProps:\",state.role);return{activeRole:state.role.activeRole,operInfo:state.role.operInfo,roleSource:state.role.roleSource,appList:state.app.appList,privilegeTreeSource:state.role.privilegeTreeSource,treeSource:state.org.treeSource,checkPrivileges:state.role.checkPrivileges,permissionOrgTree:state.org.permissionOrgTree};}function roletableMapDispatchToProps(dispatch){return{dispatch:dispatch};}/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_1_react_redux__[\"b\" /* connect */])(roletableMapStateToProps,roletableMapDispatchToProps)(RoleTable));\n\n/***/ }),\n\n/***/ 2068:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__ = __webpack_require__(1281);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var FormItem=__WEBPACK_IMPORTED_MODULE_2_antd__[\"o\" /* Form */].Item;var TreeNode=__WEBPACK_IMPORTED_MODULE_2_antd__[\"J\" /* TreeSelect */].TreeNode;var Option=__WEBPACK_IMPORTED_MODULE_2_antd__[\"A\" /* Select */].Option;var RoleEditor=function(_Component){_inherits(RoleEditor,_Component);function RoleEditor(){var _ref;var _temp,_this,_ret;_classCallCheck(this,RoleEditor);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=RoleEditor.__proto__||Object.getPrototypeOf(RoleEditor)).call.apply(_ref,[this].concat(args))),_this),_this.state={dialogTitle:'',visible:false,roleInfo:{},roleType:'Normal'},_this.handleOk=function(e){e.preventDefault();var operType=_this.props.operInfo.operType;_this.props.form.validateFields(function(err,values){if(!err){console.log('Received values of form: ',values);var method='POST';if(operType!='add'){method=\"PUT\";values=Object.assign({},_this.props.activeRole,values);}_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"P\" /* roleSave */])({method:method,data:values}));}});},_this.handleCancel=function(e){_this.props.dispatch(Object(__WEBPACK_IMPORTED_MODULE_3__actions_actionCreator__[\"I\" /* roleDialogClose */])());},_this.handleOrgSelected=function(e){console.log(\"\");},_this.handleRoleTypeChange=function(roleType){_this.setState({roleType:'Normal'});},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(RoleEditor,[{key:'componentWillReceiveProps',value:function componentWillReceiveProps(newProps){var _newProps$operInfo=newProps.operInfo,operType=_newProps$operInfo.operType,result=_newProps$operInfo.result;var activeRole=newProps.activeRole;if(operType=='edit'){this.setState({visible:true,dialogTitle:'角色编辑',roleInfo:activeRole});}else if(operType=='add'){this.setState({visible:true,dialogTitle:'角色新增',roleInfo:{}});}else{this.props.form.resetFields();this.setState({visible:false});}}//角色部门选择\n},{key:'render',value:function render(){var getFieldDecorator=this.props.form.getFieldDecorator;var formItemLayout={labelCol:{span:6},wrapperCol:{span:14}};var loop=function loop(data){return data.map(function(item){if(item.children){return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(TreeNode,{title:item.name,key:item.key,value:item.key},loop(item.children));}return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(TreeNode,{title:item.name,key:item.key,value:item.key,isLeaf:item.isLeaf});});};var treeNodes=loop(this.props.treeSource);var orgTreeSource=this.state.roleType===\"Normal\"?this.props.permissionOrgTree.AddNormalRoleTree:this.props.permissionOrgTree.AddPublicRoleTree;return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"u\" /* Modal */],{width:600,title:this.state.dialogTitle,maskClosable:false,visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"z\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Col */],{span:12},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('span',null,'\\u89D2\\u8272\\u540D\\u79F0')}),getFieldDecorator('name',{initialValue:this.state.roleInfo.name,rules:[{required:true,message:'请输入角色名称!'}]})(__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"q\" /* Input */],{style:{float:'left'}}))))),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"z\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Col */],{span:12},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('span',null,'\\u89D2\\u8272\\u7C7B\\u578B')}),getFieldDecorator('type',{initialValue:this.state.roleInfo.type||\"Normal\",rules:[{required:true,message:'请选择角色类型!'}]})(__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"A\" /* Select */],{style:{width:\"100%\"},onChange:this.handleRoleTypeChange},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(Option,{value:'Normal'},'\\u666E\\u901A'),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(Option,{value:'Public'},'\\u516C\\u5171')))))),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"z\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Col */],{span:12},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('span',null,'\\u6240\\u5C5E\\u90E8\\u95E8')}),getFieldDecorator('organizationId',{initialValue:this.state.roleInfo.organizationId,rules:[{required:true,message:'请选择所属部门!'}]})(__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"J\" /* TreeSelect */],{style:{width:300},dropdownStyle:{maxHeight:400,overflow:'auto'},treeData:this.props.permissionOrgTree.orgTreeSource,placeholder:'\\u8BF7\\u9009\\u62E9\\u6240\\u5C5E\\u90E8\\u95E8'},treeNodes))))));}}]);return RoleEditor;}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]);function roleEditMapStateToProps(state){//console.log(\"roleEditMapStateToProps:\", state.role);\nreturn{activeRole:state.role.activeRole,operInfo:state.role.operInfo,roleSource:state.role.roleSource,treeSource:state.org.treeSource,permissionOrgTree:state.org.permissionOrgTree};}function roleEditMapDispatchToProps(dispatch){return{dispatch:dispatch};}var WrappedRegistrationForm=__WEBPACK_IMPORTED_MODULE_2_antd__[\"o\" /* Form */].create()(RoleEditor);/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"b\" /* connect */])(roleEditMapStateToProps,roleEditMapDispatchToProps)(WrappedRegistrationForm));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/31.fa7f1456.chunk.js","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Layout, Table, Button, Checkbox, Tree, Tabs, Row, Col, Menu, Icon, Select, Popconfirm, Tooltip, message} from 'antd';\r\nimport {\r\n    roleAdd, roleEdit, roleDelete, roleDialogClose,\r\n    rolePrivilegeGet, rolePrivilegeEdit, rolePrivilegeSave, roleAppSave, orgGetPermissionTree,\r\n    roleGetList, roleSlected, getOrgDataByID, privilegeGetList, roleGetAllToolPrivilegeItem\r\n} from '../../actions/actionCreator';\r\nimport RoleEditor from './roleEdit';\r\nimport {ApplicationTypes} from '../../../constants/baseConfig'\r\n\r\nconst {Header, Sider, Content} = Layout;\r\nconst SubMenu = Menu.SubMenu;\r\nconst MenuItemGroup = Menu.ItemGroup;\r\nconst TreeNode = Tree.TreeNode;\r\nconst Option = Select.Option;\r\n\r\n\r\nconst orgPrivilegeTypes = [{organizationId: '00000000', organizationName: '本组织'},\r\n{organizationId: '11111111', organizationName: '分公司'},\r\n{organizationId: '88888888', organizationName: '全部'}];\r\n\r\nclass RoleTable extends Component {\r\n    state = {\r\n        privilegeOrgTreeShow: true,//权限树禁用\r\n        privilegeOrgTreeDisabled: true,//权限树禁用\r\n        activePrivilegeItem: '',//当前选中权限\r\n        filialeChecked: false,//分公司checkbox状态\r\n        curOrgChecked: false,//本组织checkbox状态\r\n        allChecked: false,//全选\r\n    }\r\n    componentWillMount() {\r\n        this.props.dispatch(roleGetList());\r\n        this.props.dispatch(roleGetAllToolPrivilegeItem(this.props.appList));\r\n        //setTimeout(() => { }, 100);\r\n        this.props.dispatch(orgGetPermissionTree(\"RoleCreate\"));\r\n        this.props.dispatch(orgGetPermissionTree(\"PublicRoleOper\"));\r\n        this.props.dispatch(orgGetPermissionTree(\"AuthorizationPermission\"));\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n\r\n    }\r\n\r\n    handleRoleSlected = (e) => {//角色选择\r\n        console.log(\"selected角色：\", e.selectedKeys, e);\r\n        this.props.dispatch(roleSlected(e.selectedKeys));\r\n        this.props.dispatch(rolePrivilegeGet(e.selectedKeys[0]));\r\n    }\r\n\r\n    handleRoleAdd = (e) => {\r\n        console.log(\"角色新增：\");\r\n        this.props.dispatch(roleAdd());\r\n    }\r\n    handleRoleEdit(role) {\r\n        console.log(\"角色编辑：\" + JSON.stringify(role));\r\n        this.props.dispatch(roleEdit(role));\r\n    }\r\n\r\n    handlePrivilegeSave = (e) => {\r\n        console.log(\"权限保存\", this.props.checkPrivileges);\r\n        let rolePrivilege = [];//工具-》权限项-》部门\r\n        let {appList} = this.props;\r\n        let {checkedPrivilegeItemNodes} = this.props.checkPrivileges;\r\n        let roleApps = [];\r\n        checkedPrivilegeItemNodes.map((node) => {\r\n            let filterResult = rolePrivilege.filter((p) => p.applicationId == node.applicationId);\r\n            if (filterResult.length == 0) {\r\n                let app = appList.find((a) => a.id == node.applicationId);\r\n                let appPrivilegeItem = {applicationId: app.id, applicationName: app.displayName, permissions: []};\r\n                appPrivilegeItem.permissions.push(node);\r\n                rolePrivilege.push(appPrivilegeItem);\r\n                roleApps.push(app.id);\r\n            } else {\r\n                filterResult[0].permissions.push(node);\r\n            }\r\n        });\r\n        console.log(\"权限保存JSON：\", rolePrivilege, roleApps);\r\n        this.props.dispatch(rolePrivilegeSave({roleId: this.props.activeRole.id, rolePrivilege: rolePrivilege}));\r\n        this.props.dispatch(roleAppSave({roleId: this.props.activeRole.id, entity: roleApps}));\r\n    }\r\n    handleDeleteClick = (role) => {\r\n        console.log(\"delete role:\", role);\r\n        this.props.dispatch(roleDelete(role.id));\r\n    }\r\n\r\n    handlePrivilegeItemSelected = (e) => {//权限选择处理（勾选上的权限项，才可以设置组织权限）\r\n        console.log(\"权限项选中:\", e.key);\r\n        this.setState({activePrivilegeItem: e.key});\r\n        let filialeChecked = false, curOrgChecked = false, allChecked = false;\r\n        for (let i in this.props.checkPrivileges.checkedPrivilegeItemNodes) {\r\n            let privilegeItem = this.props.checkPrivileges.checkedPrivilegeItemNodes[i];\r\n            if (privilegeItem.permissionId == e.key) {\r\n                filialeChecked = (privilegeItem.organizations.filter((org) => org.organizationId == '11111111').length > 0);\r\n                curOrgChecked = (privilegeItem.organizations.filter((org) => org.organizationId == '00000000').length > 0);\r\n                allChecked = (privilegeItem.organizations.filter((org) => org.organizationId == '88888888').length > 0);\r\n                break;\r\n            }\r\n        };\r\n        this.setState({privilegeOrgTreeShow: !allChecked, allChecked: allChecked, curOrgChecked: curOrgChecked, filialeChecked: filialeChecked, privilegeOrgTreeDisabled: !this.props.checkPrivileges.checkkeys.includes(e.key)});\r\n    }\r\n    privilegeItemCheckChange = (e) => {//权限项勾选处理\r\n        let {checked, original} = e.target;\r\n        console.log(\"activePrivilegeItem:\", this.state.activePrivilegeItem);\r\n        console.log(\"checkChange:\" + checked, original);\r\n        let checkedKeys = this.props.checkPrivileges.checkkeys.slice();\r\n        let nodeList = this.props.checkPrivileges.checkedPrivilegeItemNodes.slice();\r\n        this.setState({privilegeOrgTreeDisabled: !checked});\r\n        if (checked) {\r\n            checkedKeys.push(original.id);\r\n            nodeList.push({applicationId: original.applicationId, permissionId: original.id, permissionName: original.name, groupName: original.groups, organizations: []});\r\n        } else {\r\n            checkedKeys = checkedKeys.filter((c) => c != original.id);\r\n            for (let i = nodeList.length - 1; i > -1; i--) {\r\n                if (nodeList[i].permissionId == original.id) {\r\n                    nodeList.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        this.props.dispatch(rolePrivilegeEdit({checkkeys: checkedKeys, checkedPrivilegeItemNodes: nodeList}));\r\n    }\r\n    handleOrgPrivilegeTypeChecked = (e) => {//权限类型勾选处理\r\n        console.log(\"e\", e);\r\n        let {checked, value} = e.target;\r\n        console.log(\"选择：，value\", checked, value);\r\n        if (value == '88888888' && checked) {\r\n            this.setState({privilegeOrgTreeShow: false, filialeChecked: false, curOrgChecked: false, allChecked: true});\r\n        } else {\r\n            this.setState({privilegeOrgTreeShow: true, allChecked: false});\r\n            if (value == '00000000') {\r\n                this.setState({curOrgChecked: checked});\r\n            }\r\n            if (value == '11111111') {\r\n                this.setState({filialeChecked: checked});\r\n            }\r\n        }\r\n        let org = orgPrivilegeTypes.find((o) => o.organizationId == value);\r\n        let checkNodes = this.props.checkPrivileges.checkedPrivilegeItemNodes.slice();\r\n        for (let i in checkNodes) {\r\n            if (checkNodes[i].permissionId == this.state.activePrivilegeItem) {\r\n                if (value == '88888888') {//全部权限\r\n                    checkNodes[i].organizations = checked ? [org] : [];\r\n                } else {\r\n                    if (checked) {\r\n                        checkNodes[i].organizations.push(org);\r\n                    } else {\r\n                        for (let orgIndex = checkNodes[i].organizations.length - 1; orgIndex > -1; orgIndex--) {\r\n                            if (checkNodes[i].organizations[orgIndex].organizationId == value) {\r\n                                checkNodes[i].organizations[orgIndex].splice(orgIndex, 1);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        console.log(\"checkedPrivilegeItemNodes\", checkNodes);\r\n        this.props.dispatch(rolePrivilegeEdit({checkkeys: this.props.checkPrivileges.checkkeys.slice(), checkedPrivilegeItemNodes: checkNodes}));\r\n    }\r\n\r\n    //选择权限项的组织结构\r\n    handleOrgOnchecked = (checkedKeys, e) => {\r\n        let {title, eventKey} = e.node.props;\r\n        let organizations = [];\r\n        e.checkedNodes.map((node) => {//直接遍历所有选中的节点\r\n            organizations.push({organizationId: node.key, organizationName: node.props.title});\r\n        });\r\n        let checkedPrivilegeItemNodes = this.props.checkPrivileges.checkedPrivilegeItemNodes.slice();\r\n        for (let i in checkedPrivilegeItemNodes) {\r\n            if (checkedPrivilegeItemNodes[i].permissionId == this.state.activePrivilegeItem) {\r\n                console.log(\"找到选中的当前权限项，设置部门属性为：\", organizations);\r\n                checkedPrivilegeItemNodes[i].organizations = organizations;\r\n                break;\r\n            }\r\n        }\r\n        console.log(\"org tree checkedkeys\", checkedKeys.checked, checkedPrivilegeItemNodes);\r\n        let newCheckPrivileges = Object.assign({}, this.props.checkPrivileges, {checkedPrivilegeItemNodes: checkedPrivilegeItemNodes});\r\n        this.props.dispatch(rolePrivilegeEdit(newCheckPrivileges));\r\n    }\r\n\r\n\r\n    // onOrgTreeLoadData = (e) => {\r\n    //     let { eventKey } = e.props;\r\n    //     this.props.dispatch(getOrgDataByID({ id: eventKey }));\r\n    //     return new Promise((resolve) => {\r\n    //         setTimeout(() => {\r\n    //             resolve();\r\n    //         }, 500);\r\n    //     });\r\n    // }\r\n\r\n    getAppIcon(appInfo) {\r\n        let appIcon = \"appstore\";\r\n        let appType = appInfo.applicationType;\r\n        let app = ApplicationTypes.find(app => app.key === appType);\r\n        if (app) {\r\n            appIcon = app.icon;\r\n        }\r\n        return appIcon;\r\n    }\r\n    render() {\r\n        let {checkedPrivilegeItemNodes} = this.props.checkPrivileges;\r\n        let checkedOrgkeys = [];\r\n        checkedPrivilegeItemNodes.map((node) => {\r\n            if (node.permissionId == this.state.activePrivilegeItem) {\r\n                node.organizations.map((org) => {\r\n                    checkedOrgkeys.push(org.organizationId);\r\n                });\r\n            }\r\n        });\r\n        //角色默认选中\r\n        let checkRolekeys = [];\r\n        if (this.props.activeRole.id) {\r\n            checkRolekeys.push(this.props.activeRole.id);\r\n        }\r\n\r\n        const loop = data => data.map((item) => {\r\n            if (item.children && item.children.length) {\r\n                return <TreeNode key={item.key} title={item.name} original={item.original}>{loop(item.children)}</TreeNode>;\r\n            }\r\n            return <TreeNode key={item.key} title={item.name} original={item.original} isLeaf={item.isLeaf} />;\r\n        });\r\n\r\n        return (\r\n            <div className=\"inner-page\">\r\n                <div className=\"left-panel\">\r\n                    <div className=\"relative\">\r\n                        <Layout>\r\n                            <Header>\r\n                                角色列表\r\n                                <Tooltip title=\"新增角色\">\r\n                                    &nbsp;<Button type='primary' shape='circle' icon='plus' onClick={this.handleRoleAdd} />\r\n                                </Tooltip>\r\n                            </Header>\r\n                            <Content style={{overflowY: 'auto', padding: '0'}}>\r\n                                <Menu theme={this.state.theme} defaultSelectedKeys={checkRolekeys}\r\n                                    onSelect={this.handleRoleSlected}\r\n                                    mode=\"inline\" >\r\n                                    {\r\n                                        this.props.roleSource.map((role, i) => {\r\n                                            return (\r\n                                                <Menu.Item key={role.id} selectedKeys={[this.props.activeRole.id]}>\r\n                                                    {\r\n                                                        (this.props.activeRole.id == role.id) ?\r\n                                                            <span className=\"right-tool-bar\">\r\n                                                                <Tooltip title=\"编辑角色\">\r\n                                                                    <Button type=\"primary\" className=\"ml-sm\" shape=\"circle\" icon=\"edit\" size=\"small\" onClick={(e) => this.handleRoleEdit(role)} />\r\n                                                                </Tooltip>\r\n                                                                <Tooltip title=\"删除角色\">\r\n                                                                    <Popconfirm title=\"你确定要删除此角色么?\" onConfirm={(e) => this.handleDeleteClick(role)} onCancel={null} okText=\"是\" cancelText=\"否\">\r\n                                                                        <Button type=\"primary\" className=\"ml-sm\" shape=\"circle\" icon=\"delete\" size=\"small\" />\r\n                                                                    </Popconfirm>\r\n                                                                </Tooltip>\r\n                                                            </span> : null\r\n                                                    }\r\n                                                    <span>{role.name}</span>\r\n                                                </Menu.Item>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </Menu>\r\n                            </Content>\r\n                        </Layout>\r\n                    </div>\r\n                </div>\r\n                <div className=\"right-panel\">\r\n                    <div className=\"relative\">\r\n                        <Layout>\r\n                            <Content style={{overflowX: 'hidden'}}>\r\n                                <Row gutter={10} style={{height: '100%'}}>\r\n                                    <Col span={12} style={{height: '100%'}}>\r\n                                        <Layout style={{height: '100%'}}>\r\n                                            <Header>工具权限\r\n                                            <Tooltip title=\"保存工具权限\">\r\n                                                    &nbsp;<Button type='primary' shape='circle' icon='save' onClick={this.handlePrivilegeSave} disabled={this.props.activeRole.id == undefined} />\r\n                                                </Tooltip>\r\n                                            </Header>\r\n                                            <Content style={{height: '100%', overflowY: 'auto'}}>\r\n                                                <Menu theme={this.state.theme} onSelect={(e) => this.handlePrivilegeItemSelected(e)} mode=\"inline\" >\r\n                                                    {this.props.privilegeTreeSource.map((appInfo, i) =>\r\n                                                        <SubMenu key={i} title={<span><Icon type={this.getAppIcon(appInfo.original)} /><span>{appInfo.name}</span></span>}>\r\n                                                            {\r\n                                                                appInfo.children.map((group) =>\r\n                                                                    <MenuItemGroup key={group.key} title={group.name}>\r\n                                                                        {\r\n                                                                            group.children.map((item) =>\r\n                                                                                <Menu.Item key={item.key} >\r\n                                                                                    <Checkbox disabled={this.props.activeRole.id == undefined} key={item.key}\r\n                                                                                        checked={this.props.checkPrivileges.checkkeys.find((c) => c == item.key) != undefined}\r\n                                                                                        original={item.original} onChange={(e) => this.privilegeItemCheckChange(e)} /> {item.name}\r\n                                                                                </Menu.Item>\r\n                                                                            )\r\n                                                                        }\r\n                                                                    </MenuItemGroup>\r\n                                                                )\r\n                                                            }\r\n                                                        </SubMenu>\r\n                                                    )}\r\n                                                </Menu>\r\n\r\n                                            </Content>\r\n                                        </Layout></Col>\r\n                                    <Col span={12} style={{height: '100%'}}>\r\n                                        <Layout style={{height: '100%'}}>\r\n                                            <Header>组织权限</Header>\r\n                                            <Content style={{height: '100%', overflowY: 'auto'}}>\r\n                                                <Checkbox disabled={this.state.privilegeOrgTreeDisabled} value='88888888' checked={this.state.allChecked} onChange={(e) => this.handleOrgPrivilegeTypeChecked(e)}>全部</Checkbox>\r\n                                                {\r\n                                                    this.state.privilegeOrgTreeShow ? <Checkbox disabled={this.state.privilegeOrgTreeDisabled} checked={this.state.curOrgChecked} value='00000000' onChange={(e) => this.handleOrgPrivilegeTypeChecked(e)}>本组织</Checkbox> : null\r\n                                                }\r\n                                                {\r\n                                                    this.state.privilegeOrgTreeShow ? <Checkbox disabled={this.state.privilegeOrgTreeDisabled} checked={this.state.filialeChecked} value='11111111' onChange={(e) => this.handleOrgPrivilegeTypeChecked(e)}>分公司</Checkbox> : null\r\n                                                }\r\n                                                {\r\n                                                    this.state.privilegeOrgTreeShow ? <Tree checkable={!this.state.privilegeOrgTreeDisabled} defaultCheckedKeys={checkedOrgkeys} checkStrictly={true} onCheck={(checkedKeys, e) => this.handleOrgOnchecked(checkedKeys, e)}\r\n                                                        loadData={this.onOrgTreeLoadData} >\r\n                                                        {loop(this.props.permissionOrgTree.AddRolePermissionTree)}\r\n                                                    </Tree> : null\r\n                                                }\r\n\r\n                                            </Content>\r\n                                        </Layout></Col>\r\n                                </Row>\r\n                                <RoleEditor />\r\n                            </Content>\r\n                        </Layout>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction roletableMapStateToProps(state) {\r\n    console.log(\"roletableMapStateToProps:\", state.role);\r\n    return {\r\n        activeRole: state.role.activeRole,\r\n        operInfo: state.role.operInfo,\r\n        roleSource: state.role.roleSource,\r\n        appList: state.app.appList,\r\n        privilegeTreeSource: state.role.privilegeTreeSource,\r\n        treeSource: state.org.treeSource,\r\n        checkPrivileges: state.role.checkPrivileges,\r\n        permissionOrgTree: state.org.permissionOrgTree\r\n    }\r\n}\r\n\r\nfunction roletableMapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch\r\n    };\r\n}\r\n\r\nexport default connect(roletableMapStateToProps, roletableMapDispatchToProps)(RoleTable);\n\n\n// WEBPACK FOOTER //\n// ./src/privilegeManager/pages/role/roleTable.js","import { connect } from 'react-redux';\r\nimport React, { Component } from 'react'\r\nimport { Select, Button, Modal, Row, Col, Form, Input, Menu, Dropdown, message, TreeSelect } from 'antd'\r\nimport { roleEditComplete, roleSave, roleDialogClose, getOrgDataByID } from '../../actions/actionCreator';\r\n\r\nconst FormItem = Form.Item;\r\nconst TreeNode = TreeSelect.TreeNode;\r\nconst Option = Select.Option;\r\n\r\nclass RoleEditor extends Component {\r\n    state = {\r\n        dialogTitle: '',\r\n        visible: false,\r\n        roleInfo: {},\r\n        roleType: 'Normal'\r\n    }\r\n    componentWillReceiveProps(newProps) {\r\n        let { operType, result } = newProps.operInfo;\r\n        let { activeRole } = newProps;\r\n        if (operType == 'edit') {\r\n            this.setState({ visible: true, dialogTitle: '角色编辑', roleInfo: activeRole });\r\n        } else if (operType == 'add') {\r\n            this.setState({ visible: true, dialogTitle: '角色新增', roleInfo: {} });\r\n        } else {\r\n            this.props.form.resetFields();\r\n            this.setState({ visible: false });\r\n        }\r\n    }\r\n    handleOk = (e) => {\r\n        e.preventDefault();\r\n        let { operType } = this.props.operInfo;\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                console.log('Received values of form: ', values);\r\n                let method = 'POST';\r\n                if (operType != 'add') {\r\n                    method = \"PUT\";\r\n                    values = Object.assign({}, this.props.activeRole, values);\r\n                }\r\n                this.props.dispatch(roleSave({ method: method, data: values }));\r\n            }\r\n        });\r\n    }\r\n    handleCancel = (e) => {\r\n        this.props.dispatch(roleDialogClose());\r\n    }\r\n    //角色部门选择\r\n    handleOrgSelected = (e) => {\r\n        console.log(\"\", );\r\n    }\r\n\r\n    handleRoleTypeChange = (roleType) => {\r\n        this.setState({ roleType: 'Normal' })\r\n    }\r\n\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        const formItemLayout = {\r\n            labelCol: { span: 6 },\r\n            wrapperCol: { span: 14 },\r\n        };\r\n\r\n        const loop = data => data.map((item) => {\r\n            if (item.children) {\r\n                return <TreeNode title={item.name} key={item.key} value={item.key}>{loop(item.children)}</TreeNode>;\r\n            }\r\n            return <TreeNode title={item.name} key={item.key} value={item.key} isLeaf={item.isLeaf} />;\r\n        });\r\n        const treeNodes = loop(this.props.treeSource);\r\n        const orgTreeSource = (this.state.roleType === \"Normal\" ? this.props.permissionOrgTree.AddNormalRoleTree : this.props.permissionOrgTree.AddPublicRoleTree);\r\n\r\n        return (\r\n            <Modal width={600} title={this.state.dialogTitle} maskClosable={false} visible={this.state.visible}\r\n                onOk={this.handleOk} onCancel={this.handleCancel} >\r\n                <Row>\r\n                    <Col span={12}>\r\n                        <FormItem\r\n                            {...formItemLayout}\r\n                            label={(\r\n                                <span>\r\n                                    角色名称\r\n                            </span>\r\n                            )}>\r\n                            {getFieldDecorator('name', {\r\n                                initialValue: this.state.roleInfo.name,\r\n                                rules: [{ required: true, message: '请输入角色名称!' }],\r\n                            })(\r\n                                <Input style={{ float: 'left' }} />\r\n                                )}\r\n                        </FormItem>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col span={12}>\r\n                        <FormItem\r\n                            {...formItemLayout}\r\n                            label={(\r\n                                <span>\r\n                                    角色类型\r\n                            </span>\r\n                            )}>\r\n                            {getFieldDecorator('type', {\r\n                                initialValue: this.state.roleInfo.type || \"Normal\",\r\n                                rules: [{ required: true, message: '请选择角色类型!' }],\r\n                            })(\r\n                                <Select style={{ width: \"100%\" }} onChange={this.handleRoleTypeChange}>\r\n                                    <Option value=\"Normal\">普通</Option>\r\n                                    <Option value=\"Public\">公共</Option>\r\n                                </Select>\r\n                                )}\r\n                        </FormItem>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col span={12}>\r\n                        <FormItem\r\n                            {...formItemLayout}\r\n                            label={(\r\n                                <span>\r\n                                    所属部门\r\n                            </span>\r\n                            )}>\r\n                            {getFieldDecorator('organizationId', {\r\n\r\n                                initialValue: this.state.roleInfo.organizationId,\r\n                                rules: [{ required: true, message: '请选择所属部门!' }]\r\n                            })(\r\n                                <TreeSelect style={{ width: 300 }}\r\n                                    dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\r\n                                    treeData={this.props.permissionOrgTree.orgTreeSource}\r\n                                    placeholder=\"请选择所属部门\">\r\n                                    {treeNodes}\r\n                                </TreeSelect>\r\n                                )}\r\n                        </FormItem>\r\n                    </Col>\r\n                </Row>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\nfunction roleEditMapStateToProps(state) {\r\n    //console.log(\"roleEditMapStateToProps:\", state.role);\r\n    return {\r\n        activeRole: state.role.activeRole,\r\n        operInfo: state.role.operInfo,\r\n        roleSource: state.role.roleSource,\r\n        treeSource: state.org.treeSource,\r\n        permissionOrgTree: state.org.permissionOrgTree\r\n    }\r\n}\r\n\r\nfunction roleEditMapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch\r\n    };\r\n}\r\nconst WrappedRegistrationForm = Form.create()(RoleEditor);\r\nexport default connect(roleEditMapStateToProps, roleEditMapDispatchToProps)(WrappedRegistrationForm);\n\n\n// WEBPACK FOOTER //\n// ./src/privilegeManager/pages/role/roleEdit.js"],"sourceRoot":""}