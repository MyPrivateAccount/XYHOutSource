webpackJsonp([35],{1891:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return{showLoading:e.msg.showLoading,changeList:e.shop.changeList,buildingInfo:e.index.buildingInfo,user:(e.oidc.user||{}).profile||{}}}function l(e){return{dispatch:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(92),c=n(1216),p=n(0),u=n.n(p),f=n(46),d=n(1221),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=f.o.Item,g=f.q.TextArea,b=f.A.Option,y=function(e){function t(){var e,n,i,o;a(this,t);for(var l=arguments.length,s=Array(l),p=0;p<l;p++)s[p]=arguments[p];return n=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),i.state={showPreview:!1},i.handlePreview=function(e){e.preventDefault(),i.props.form.validateFieldsAndScroll(function(e,t){e||i.showPreviewDialog(t)})},i.handleSend=function(e){var t=i.props.changeList||[];e.preventDefault(),i.props.form.validateFields(function(e,n){e||(n.id=Object(d.a)(),n.ext1=t.find(function(e){return e.id===n.buildingId}).basicInfo.name,i.props.dispatch(Object(c._132)()),i.props.dispatch(Object(c._130)(n)))})},i.handleReset=function(e){i.props.form.resetFields()},o=n,r(i,o)}return i(t,e),m(t,[{key:"componentWillMount",value:function(){this.props.dispatch(Object(c._11)({city:this.props.user.City}))}},{key:"componentWillReceiveProps",value:function(e){}},{key:"showPreviewDialog",value:function(e){f.u.info({title:e.title,content:u.a.createElement("div",null,u.a.createElement("p",null,e.content)),onOk:function(){}})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:4},wrapperCol:{span:20}},n=this.props.changeList||[],a=void 0;return console.log(n,this.props.buildingInfo,"/??"),0!==n.length&&(a=(this.props.buildingInfo||{}).id),u.a.createElement("div",{style:{padding:"25px 5px"}},u.a.createElement(f.B,{spinning:this.props.showLoading},u.a.createElement(f.z,null,u.a.createElement(f.k,{span:12},u.a.createElement(h,Object.assign({},t,{label:"\u6807\u9898"}),e("title",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u9898!"},{min:3,message:"\u6807\u9898\u4e0d\u5c11\u4e8e3\u4e2a\u5b57\u7b26!"},{max:20,message:"\u6700\u591a\u53ea\u80fd\u8f93\u516520\u4e2a\u5b57\u7b26!"}]})(u.a.createElement(f.q,{style:{width:"300px"},placeholder:"\u8bf7\u8f93\u5165\u6807\u9898"}))))),u.a.createElement(f.z,null,u.a.createElement(f.k,{span:12},u.a.createElement(h,Object.assign({},t,{label:"\u76f8\u5173\u697c\u76d8"}),e("buildingId",{initialValue:a,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u76f8\u5173\u697c\u76d8!"}]})(u.a.createElement(f.A,{style:{width:"300px"}},n.map(function(e){return u.a.createElement(b,{key:e.id,value:e.id},e.basicInfo.name)})))))),u.a.createElement(f.z,null,u.a.createElement(f.k,{span:12},u.a.createElement(h,Object.assign({},t,{label:"\u5185\u5bb9\u63cf\u8ff0"}),e("content",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a73\u56de\u539f\u56e0!"},{max:2e3,message:"\u6700\u591a\u53ea\u80fd\u8f93\u516520\u4e2a\u5b57\u7b26!"}]})(u.a.createElement(g,{rows:6,style:{width:"450px"},onChange:this.hanldeRejectReson,placeholder:"\u8bf7\u8f93\u5165\u6d88\u606f\u5185\u5bb9!"}))))),u.a.createElement(f.z,{style:{paddingLeft:"8%"}},u.a.createElement(f.k,{span:12},u.a.createElement(f.g,{onClick:this.handleReset,type:"primary",style:{margin:"5px"}},"\u91cd\u7f6e"),u.a.createElement(f.g,{onClick:this.handlePreview,type:"primary",style:{margin:"5px"}},"\u9884\u89c8"),u.a.createElement(f.g,{onClick:this.handleSend,type:"primary",style:{margin:"5px"}},"\u53d1\u5e03")))))}}]),t}(p.Component),v=f.o.create()(y);t.default=Object(s.b)(o,l)(v)}});
//# sourceMappingURL=35.4d7bfa64.chunk.js.map