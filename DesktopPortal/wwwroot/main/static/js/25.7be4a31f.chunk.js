webpackJsonp([25],{1278:function(e,t,n){var i=n(1409);"string"===typeof i&&(i=[[e.i,i,""]]);var o={};o.transform=void 0;n(477)(i,o);i.locals&&(e.exports=i.locals)},1334:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{shopAttachInfo:e.shop.shopsInfo.attachInfo,buildingAttachInfo:e.building.buildInfo.attachInfo,buildInfo:e.building.buildInfo,shopInfo:e.shop.shopsInfo,statusArr:e.active.statusArr,dynamicShopAttachInfo:e.shop.dynamicShopsInfo.attachInfo,dynamicBuildingAttachInfo:e.building.dynamicBuildInfo.attachInfo,projectId:e.active.projectId,shopId:e.active.shopId,dynamicStatusArr:e.active.dynamicStatusArr,basicData:e.basicData}}function r(e){return{dispatch:e}}var l=n(92),c=n(1216),p=n(0),A=n.n(p),d=n(46),u=n(1278),f=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),m=(d.s.Header,d.s.Sider,d.s.Content),h=d.E.TabPane,g=function(e){function t(){var e,n,a,s;i(this,t);for(var r=arguments.length,l=Array(r),p=0;p<r;p++)l[p]=arguments[p];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={previewVisible:!1,previewImage:"",fileList:[],projectId:"",shopId:"",group:[],picGroup:"",imgFiles:{}},a.handleEdit=function(e){"building"===a.props.parentPage?a.props.dispatch(Object(c.j)()):a.props.dispatch(Object(c._136)())},a.handleCancel=function(){return a.setState({previewVisible:!1})},a.getGroup=function(e){if(e&&e.length>0){var t={};e.forEach(function(e){e.group=e.group?e.group:"5",t.hasOwnProperty(e.group)?t[e.group].push({uid:e.fileGuid,name:e.name||"",status:"done",url:e.icon||e.localUrl}):t[e.group]=[{uid:e.fileGuid,name:e.name||"",status:"done",url:e.icon||e.localUrl}]}),a.setState({imgFiles:t})}},a.handlePreview=function(e){a.setState({previewImage:e.url||e.localUrl,previewVisible:!0})},s=n,o(a,s)}return a(t,e),f(t,[{key:"componentDidMount",value:function(){var e=[];"building"===this.props.parentPage?(this.props.buildingAttachInfo.fileList&&this.getGroup(this.props.buildingAttachInfo.fileList),this.setState({fileList:e})):(this.props.shopAttachInfo.fileList&&this.props.shopAttachInfo.fileList.map(function(t){e.push({uid:t.fileGuid,name:t.name||"",status:"done",url:t.icon||t.localUrl})}),this.setState({fileList:e}))}},{key:"componentWillReceiveProps",value:function(e){var t=[];"building"===this.props.parentPage?e.buildingAttachInfo.fileList&&this.getGroup(e.buildingAttachInfo.fileList):(console.log(e.shopAttachInfo.fileList,"\u56fe\u7247\u8be6\u60c5INfolist"),e.shopAttachInfo.fileList.length&&(e.shopAttachInfo.fileList.map(function(e){t.push({uid:e.fileGuid,name:e.name||"",status:"done",url:e.icon||e.localUrl})}),this.setState({fileList:t})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.shopAttachInfo,i=t.buildingAttachInfo,o=void 0,a=void 0,s=this.state,r=s.previewVisible,l=s.previewImage,c=s.fileList,p=(s.group,{multiple:!0,listType:"picture-card",fileList:c,onPreview:function(t){e.setState({previewImage:t.url||t.localUrl,previewVisible:!0})}});return o=n.fileList||[],a=i.fileList||[],console.log(o,"\u5546\u94fa\u5217\u8868"),A.a.createElement("div",{className:""},A.a.createElement(d.s,null,A.a.createElement(m,{className:"attchInfo",style:{padding:"12px 0",margin:"20px 0",backgroundColor:"#ECECEC"}},A.a.createElement(d.z,{type:"flex"},A.a.createElement(d.k,{span:20},"dynamic"===this.props.type?null:A.a.createElement("div",null,A.a.createElement(d.p,{type:"tags-o",className:"content-icon"})," ",A.a.createElement("span",{className:"content-title"},"\u9644\u52a0\u4fe1\u606f"))),A.a.createElement(d.k,{span:4},"dynamic"===this.props.type?A.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}):"building"===this.props.parentPage?[1,8].includes(this.props.buildInfo.examineStatus)?null:A.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}):[1,8].includes(this.props.shopInfo.examineStatus)?null:A.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}))),A.a.createElement(d.z,{type:"flex",justify:"space-between"},"building"===this.props.parentPage?A.a.createElement(d.k,{span:24},0!==a.length?A.a.createElement("div",null,A.a.createElement("div",{className:"picture"},"\u56fe\u7247"),A.a.createElement(d.E,{defaultActiveKey:"1",className:"picBox"},this.props.basicData.photoCategories.map(function(t,n){return A.a.createElement(h,{tab:t.key,key:t.value},A.a.createElement("div",{className:"picBox"},e.state.imgFiles[t.value]?A.a.createElement("div",{className:"clearfix"},A.a.createElement(d.K,{multiple:!0,listType:"picture-card",fileList:e.state.imgFiles[t.value],onPreview:e.handlePreview}),A.a.createElement(d.u,{visible:r,footer:null,onCancel:e.handleCancel},A.a.createElement("img",{alt:"example",style:{width:"100%"},src:l}))):A.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"\u6682\u65e0\u6570\u636e")))}))):A.a.createElement("div",{style:{marginLeft:"50px"}},"\u65e0\u56fe\u7247")):A.a.createElement(d.k,{span:24},0!==o.length?A.a.createElement("div",null,A.a.createElement("div",{className:"picture"},"\u56fe\u7247"),A.a.createElement("div",{className:"picBox"},A.a.createElement("div",{className:"clearfix"},A.a.createElement(d.K,p),A.a.createElement(d.u,{visible:r,footer:null,onCancel:this.handleCancel},A.a.createElement("img",{alt:"example",style:{width:"100%"},src:l}))))):A.a.createElement("div",{style:{marginLeft:"50px"}},"\u65e0\u56fe\u7247"))))))}}]),t}(p.Component);t.a=Object(l.b)(s,r)(g)},1409:function(e,t,n){t=e.exports=n(476)(!0),t.push([e.i,'.content .ant-form-item-label,.content .ant-form-item-label span,.content .ant-form-item-required{font-size:.9rem}.content .viewRow{padding:.7rem 4rem}.content .content-icon{font-size:1.6rem;vertical-align:middle;padding-left:1rem}.content .content-title{font-weight:700}.content .divBorder{border:1px solid #c4c0c0;padding:0 10px 10px}.content .spanSize{font-size:.7rem;font-weight:600}.content .someInput{width:65%}.content .BtnTop{margin:25px 0 10px}.content .file,.content .files,.content .pic,.content .picture{height:2.5rem;background-color:#ddd;line-height:2.5rem;margin-top:15px}.content .files,.content .picture{padding-left:3rem}.content .picBox{padding:25px 3.5rem}.content .picBox .ant-col-sm-6{width:11%}.content .oprationBtn{margin-left:40px;width:8rem}.content .basicEdit .ant-col-sm-6,.content .leaseEdit .ant-col-sm-6{width:25%}.content .leaseEdit .beizhu .ant-col-sm-6{width:12.5%}.content .leaseEdit .redContent .ant-form-item-label label:before{display:inline-block;margin-right:4px;content:"*";font-family:SimSun;line-height:1;font-size:12px;color:#f04134}.content .supporEdit .ant-col-sm-6{width:12.5%}.content .buildingNo{font-weight:700;font-size:1.5rem}.content .buildingName{font-size:1.3rem;font-weight:700;margin-left:10px}.content .redSpan{color:red;font-weight:700}.content .boldSpan{font-weight:700}.content .viewPic{width:8rem;height:8rem;border:1px solid #cdcdcd;position:relative;overflow:hidden;margin:10px}.content .viewPic img{width:8rem;position:absolute}.content .fileViewBox{width:90%;margin:0 auto;padding:10px 0;border-bottom:1px dashed #cdcdcd;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.content .fileViewBox .fileIcon{font-size:1.3rem;cursor:pointer}.content .picViewBox{padding:10px 0;-ms-flex-wrap:wrap;flex-wrap:wrap}.content .eidtViewFile,.content .picViewBox{width:93%;margin:0 auto;display:-ms-flexbox;display:flex}.content .eidtViewFile{-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.content .ant-upload-select-picture-card i{font-size:28px;color:#999}.content .ant-upload-select-picture-card .ant-upload-text{margin-top:8px;font-size:12px;color:#666}.content .fileInput .ant-form-item-control{width:50%}.content .fileDes .ant-col-sm-6,.content .fileInput .ant-col-sm-6{width:10%}.content .uploadFileList{margin-left:8rem}.content .uploadFileList .ant-col-12{width:38%}.attchInfo .anticon-delete:before{content:""}',"",{version:3,sources:["E:/work/XYH/xinyaohang/DesktopPortal/src/houseResource/pages/shops/edit/editCommon.less"],names:[],mappings:"AAAA,kGAGE,eAAiB,CAClB,AACD,kBACE,kBAAqB,CACtB,AACD,uBACE,iBAAkB,AAClB,sBAAuB,AACvB,iBAAmB,CACpB,AACD,wBACE,eAAkB,CACnB,AACD,oBACE,yBAA0B,AAC1B,mBAA0B,CAC3B,AACD,mBACE,gBAAiB,AACjB,eAAiB,CAClB,AACD,oBACE,SAAW,CACZ,AACD,iBACE,kBAAsB,CACvB,AACD,+DAIE,cAAe,AACf,sBAA0B,AAC1B,mBAAoB,AACpB,eAAiB,CAClB,AACD,kCAEE,iBAAmB,CACpB,AACD,iBACE,mBAAqB,CACtB,AACD,+BACE,SAAW,CACZ,AACD,sBACE,iBAAkB,AAClB,UAAY,CACb,AACD,oEAEE,SAAW,CACZ,AACD,0CACE,WAAa,CACd,AACD,kEACE,qBAAsB,AACtB,iBAAkB,AAClB,YAAa,AACb,mBAAoB,AACpB,cAAe,AACf,eAAgB,AAChB,aAAe,CAChB,AACD,mCACE,WAAa,CACd,AACD,qBACE,gBAAkB,AAClB,gBAAkB,CACnB,AACD,uBACE,iBAAkB,AAClB,gBAAkB,AAClB,gBAAkB,CACnB,AACD,kBACE,UAAW,AACX,eAAkB,CACnB,AACD,mBACE,eAAkB,CACnB,AACD,kBACE,WAAY,AACZ,YAAa,AACb,yBAA0B,AAC1B,kBAAmB,AACnB,gBAAiB,AACjB,WAAa,CACd,AACD,sBACE,WAAY,AACZ,iBAAmB,CACpB,AACD,sBACE,UAAW,AACX,cAAgB,AAChB,eAAgB,AAChB,iCAAkC,AAClC,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,8BAA+B,AACnC,sBAAuB,AACnB,kBAAoB,CACzB,AACD,gCACE,iBAAkB,AAClB,cAAgB,CACjB,AACD,qBAGE,eAAgB,AAGhB,mBAAoB,AAChB,cAAgB,CACrB,AACD,4CARE,UAAW,AACX,cAAgB,AAEhB,oBAAqB,AACrB,YAAc,CAaf,AATD,uBAKE,sBAAuB,AACnB,8BAA+B,AACnC,sBAAuB,AACnB,kBAAoB,CACzB,AACD,2CACE,eAAgB,AAChB,UAAY,CACb,AACD,0DACE,eAAgB,AAChB,eAAgB,AAChB,UAAY,CACb,AACD,2CACE,SAAW,CACZ,AAID,kEACE,SAAW,CACZ,AACD,yBACE,gBAAkB,CACnB,AACD,qCACE,SAAW,CACZ,AACD,kCACE,UAAY,CACb",file:"editCommon.less",sourcesContent:['.content .ant-form-item-label,\n.content .ant-form-item-required,\n.content .ant-form-item-label span {\n  font-size: .9rem;\n}\n.content .viewRow {\n  padding: 0.7rem 4rem;\n}\n.content .content-icon {\n  font-size: 1.6rem;\n  vertical-align: middle;\n  padding-left: 1rem;\n}\n.content .content-title {\n  font-weight: bold;\n}\n.content .divBorder {\n  border: 1px solid #C4C0C0;\n  padding: 0 10px 10px 10px;\n}\n.content .spanSize {\n  font-size: .7rem;\n  font-weight: 600;\n}\n.content .someInput {\n  width: 65%;\n}\n.content .BtnTop {\n  margin: 25px 0 10px 0;\n}\n.content .pic,\n.content .file,\n.content .picture,\n.content .files {\n  height: 2.5rem;\n  background-color: #DDDDDD;\n  line-height: 2.5rem;\n  margin-top: 15px;\n}\n.content .picture,\n.content .files {\n  padding-left: 3rem;\n}\n.content .picBox {\n  padding: 25px 3.5rem;\n}\n.content .picBox .ant-col-sm-6 {\n  width: 11%;\n}\n.content .oprationBtn {\n  margin-left: 40px;\n  width: 8rem;\n}\n.content .basicEdit .ant-col-sm-6,\n.content .leaseEdit .ant-col-sm-6 {\n  width: 25%;\n}\n.content .leaseEdit .beizhu .ant-col-sm-6 {\n  width: 12.5%;\n}\n.content .leaseEdit .redContent .ant-form-item-label label:before {\n  display: inline-block;\n  margin-right: 4px;\n  content: "*";\n  font-family: SimSun;\n  line-height: 1;\n  font-size: 12px;\n  color: #f04134;\n}\n.content .supporEdit .ant-col-sm-6 {\n  width: 12.5%;\n}\n.content .buildingNo {\n  font-weight: bold;\n  font-size: 1.5rem;\n}\n.content .buildingName {\n  font-size: 1.3rem;\n  font-weight: bold;\n  margin-left: 10px;\n}\n.content .redSpan {\n  color: red;\n  font-weight: bold;\n}\n.content .boldSpan {\n  font-weight: bold;\n}\n.content .viewPic {\n  width: 8rem;\n  height: 8rem;\n  border: 1px solid #cdcdcd;\n  position: relative;\n  overflow: hidden;\n  margin: 10px;\n}\n.content .viewPic img {\n  width: 8rem;\n  position: absolute;\n}\n.content .fileViewBox {\n  width: 90%;\n  margin: 0  auto;\n  padding: 10px 0;\n  border-bottom: 1px dashed #cdcdcd;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.content .fileViewBox .fileIcon {\n  font-size: 1.3rem;\n  cursor: pointer;\n}\n.content .picViewBox {\n  width: 93%;\n  margin: 0  auto;\n  padding: 10px 0;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.content .eidtViewFile {\n  width: 93%;\n  margin: 0 auto;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.content .ant-upload-select-picture-card i {\n  font-size: 28px;\n  color: #999;\n}\n.content .ant-upload-select-picture-card .ant-upload-text {\n  margin-top: 8px;\n  font-size: 12px;\n  color: #666;\n}\n.content .fileInput .ant-form-item-control {\n  width: 50%;\n}\n.content .fileInput .ant-col-sm-6 {\n  width: 10%;\n}\n.content .fileDes .ant-col-sm-6 {\n  width: 10%;\n}\n.content .uploadFileList {\n  margin-left: 8rem;\n}\n.content .uploadFileList .ant-col-12 {\n  width: 38%;\n}\n.attchInfo .anticon-delete:before {\n  content: "";\n}\n'],sourceRoot:""}])},1710:function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{operInfo:e.shop.operInfo,buildingOperInfo:e.building.operInfo,shopsInfo:e.shop.shopsInfo,buildInfo:e.building.buildInfo,attachInfo:e.building.buildInfo.attachInfo,shopAttachInfo:e.shop.shopsInfo.attachInfo,completeFileList:e.shop.completeFileList,deletePicList:e.shop.deletePicList,basicData:e.basicData,loadingState:e.building.attachloading,user:(e.oidc.user||{}).profile||{}}}function l(e){return{save:function(){return e(p._107.apply(void 0,arguments))},dispatch:e}}var c=n(92),p=n(1216),A=n(0),d=n.n(A),u=n(1278),f=(n.n(u),n(46)),m=(n(1221),n(1245)),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),g=(f.s.Header,f.s.Sider,f.s.Content),C=(f.A.Option,f.o.Item,f.E.TabPane),B=function(e){function t(){var e,n,s,r;o(this,t);for(var l=arguments.length,c=Array(l),A=0;A<l;A++)c[A]=arguments[A];return n=s=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),s.state={previewVisible:!1,previewImage:"",fileList:[],attachments:[],picUploading:!1,deleteIdArr:[],picGroup:"1",imgFiles:{}},s.getGroup=function(e){if(e&&e.length>0){var t={};e.forEach(function(e){e.group=e.group?e.group:"5",t.hasOwnProperty(e.group)?t[e.group].push({uid:e.fileGuid,name:e.name||"",status:"done",url:e.icon||e.localUrl}):t[e.group]=[{uid:e.fileGuid,name:e.name||"",status:"done",url:e.icon||e.localUrl}]});var n=Object.assign({},s.state.imgFiles);if(0!==Object.keys(n).length){for(var i in t)t[i]&&(n[i]=n[i].concat(t[i]));s.setState({imgFiles:n})}else s.setState({imgFiles:t})}},s.handleCancel=function(){return s.setState({previewVisible:!1})},s.hanldeRemove=function(e){var t=e.uid,n=void 0,i=s.state,o=i.fileList,a=i.deleteIdArr,r=i.imgFiles,l=s.props.deletePicList;if(a.push(e.uid),l.push(e),"building"!==s.props.parentPage)o.forEach(function(e,i){e.uid===t&&(n=i)}),o=o.splice(n,1),s.props.dispatch(Object(p._102)({deletePicList:l})),s.setState({deleteIdArr:a,filelist:o});else{var c=r[s.state.picGroup]||[];c.forEach(function(e,i){e.uid===t&&(n=i)}),c.splice(n,1),r[s.state.picGroup]=c.slice(),s.props.dispatch(Object(p._102)({deletePicList:l})),s.setState({deleteIdArr:a,imgFiles:r},function(){})}return!0},s.handleCancelBtn=function(){"building"===s.props.parentPage?s.props.dispatch(Object(p.k)({filelist:s.props.attachInfo.fileList,type:"cancel"})):s.props.dispatch(Object(p._137)({filelist:s.props.shopAttachInfo.fileList,type:"cancel"}))},s.handleBeforeUpload=function(e){console.log(e,"???",s.state.fileList,"\u6211\u7231\u4f60");var t=new FileReader;return t.readAsDataURL(e),t.onloadend=function(){var n=this;if(e.type.startsWith("image/"))if("building"===this.props.parentPage){var i=this.state.imgFiles[this.state.picGroup]||[],o=i.concat([{uid:e.uid,name:e.name,status:"uploading",url:t.result}]),a=Object.assign({},this.state.imgFiles);a[this.state.picGroup]=o,this.setState({imgFiles:a})}else{console.log("shopshopso");var s=this.state.fileList.concat([{uid:e.uid,name:e.name,status:"uploading",url:t.result}]);this.setState({fileList:s},function(){console.log(n.state.fileList,"shopsBeforeUploadFiles")})}}.bind(s),e.type.startsWith("image/")?(s.UploadFile(e,function(e){if(console.log("\u56de\u8c03\u4fe1\u606f\uff1a",e),"building"===s.props.parentPage){var t=Object.assign({},s.state.imgFiles);t[s.state.picGroup].map(function(t){t.uid===e.fileGuid&&(t.status="done",e.localUrl=t.url,e.group=s.state.picGroup)}),s.setState({imgFiles:t},function(){console.log(s.state.imgFiles,"\u4e0a\u4f20\u4e4b\u540e\u7684\u56de\u8c03\u4fe1\u606f\uff1a")})}else{var n=s.state.fileList.slice();n.map(function(t){t.uid===e.fileGuid&&(t.status="done",e.localUrl=t.url)}),s.setState({fileList:n},function(){console.log(s.state.fileList,"\u4e0a\u4f20\u4e4b\u540e\u7684\u56de\u8c03\u4fe1\u606f\uff1ashop")})}var o=[].concat(i(s.props.completeFileList),[e]);console.log(o,"7"),s.props.dispatch(Object(p._101)({completeFileList:o}))}),!1):(f.L.error({message:"\u53ea\u80fd\u4e0a\u4f20\u56fe\u7247\uff01",duration:3}),!1)},s.handPictureSave=function(){s.props.dispatch(Object(p.e)());var e=s.state.deleteIdArr,t=s.props,n=t.completeFileList,i=t.deletePicList;console.log(n,i,"???s\u5220\u9664\u56fe\u7247\uff1f\uff1f\uff1f\uff1f\uff1f\uff1f\uff1f\uff1f");var o=s.props,a=o.shopsInfo,r=o.buildInfo,l="building"===s.props.parentPage?r.id:a.id;return 0!==n.length?(console.log("\u8fdb\u5165\u7684\u662f\u65b0\u589e\u4e48\uff1f\uff1f"),void s.props.save({parentPage:s.props.parentPage,fileInfo:n,completeFileList:n,id:l,type:s.props.type,ownCity:s.props.user.City})):0!==i.length?(console.log("\u8fdb\u5165\u7684\u662f\u5220\u9664\u4e48\uff1f\uff1f"),void s.props.dispatch(Object(p.L)({parentPage:s.props.parentPage,fileInfo:e,id:l,deletePicList:i,type:s.props.type,ownCity:s.props.user.City}))):void 0},s.UploadFile=function(e,t){var n=s.props.shopsInfo,i=s.props.buildInfo,o="building"===s.props.parentPage?i.id:n.id,a=""+m.a.attach.uploadUrl+o,r=e.uid,l=new FormData;l.append("fileGuid",r),l.append("name",e.name),l.append("file",e);var c=new XMLHttpRequest;c.open("POST",a,!0),c.send(l),c.onload=function(n){if(200===this.status){var i=JSON.parse(this.response);if("0"===i.code){var a={fileGuid:r,from:"pc-upload",WXPath:i.extension,sourceId:o,appId:"houseSource",localUrl:e.url,name:e.name};t&&t(a)}else f.L.error({message:"\u4e0a\u4f20\u5931\u8d25\uff1a",duration:3})}else f.L.error({message:"\u56fe\u7247\u4e0a\u4f20\u5931\u8d25!",duration:3})},c.onerror=function(e){f.L.error({message:"\u56fe\u7247\u4e0a\u4f20\u5931\u8d25!",duration:3})},c.onabort=function(){f.L.error({message:"\u56fe\u7247\u4e0a\u4f20\u5f02\u5e38\u7ec8\u6b62!",duration:3})}},s.handlePreview=function(e){s.setState({previewImage:e.url||e.localUrl,previewVisible:!0})},s.changeTabKey=function(e){s.setState({picGroup:e})},r=n,a(s,r)}return s(t,e),h(t,[{key:"componentDidMount",value:function(){var e=[];"building"===this.props.parentPage?this.props.attachInfo.fileList&&this.getGroup(this.props.attachInfo.fileList):(this.props.shopAttachInfo.fileList&&this.props.shopAttachInfo.fileList.map(function(t){e.push({uid:t.fileGuid,name:t.name||"",status:"done",url:t.icon||t.localUrl})}),this.setState({fileList:e}))}},{key:"componentWillReceiveProps",value:function(e){var t=[];"building"===this.props.parentPage?e.attachInfo.fileList&&(this.initFiles||this.getGroup(e.attachInfo.fileList),this.initFiles=!0):e.shopAttachInfo.fileList&&(e.shopAttachInfo.fileList.map(function(e){t.push({uid:e.fileGuid,name:e.name||"",status:"done",url:e.icon||e.localUrl})}),this.setState({fileList:this.state.fileList},function(){}))}},{key:"render",value:function(){var e=this,t=this.props.operInfo.attachPicOperType,n=this.props.buildingOperInfo.attachPicOperType,i=(this.props.shopsInfo,this.props.buildInfo,this.state),o=i.previewVisible,a=i.previewImage,s=i.fileList,r=(this.props.basicData,d.a.createElement("div",null,d.a.createElement(f.p,{type:"plus"}),d.a.createElement("div",{className:"ant-upload-text"},"\u6dfb\u52a0\u56fe\u7247"))),l={multiple:!0,listType:"picture-card",fileList:s,onPreview:function(t){e.setState({previewImage:t.url||t.localUrl,previewVisible:!0})}};return d.a.createElement("div",{className:""},d.a.createElement(f.s,null,d.a.createElement(g,{className:"",style:{padding:"25px 0",margin:"20px 0",backgroundColor:"#ECECEC"}},"dynamic"===this.props.type?null:d.a.createElement("div",null,d.a.createElement(f.p,{type:"tags-o",className:"content-icon"})," ",d.a.createElement("span",{className:"content-title"},"\u9644\u52a0\u4fe1\u606f")),d.a.createElement(f.z,{type:"flex",justify:"space-between"},d.a.createElement(f.k,{span:24},"dynamic"===this.props.type?null:d.a.createElement("div",{className:"picture"},"\u56fe\u7247"),d.a.createElement("div",{className:"picBox"},"building"===this.props.parentPage?d.a.createElement(f.E,{defaultActiveKey:"1",onChange:this.changeTabKey},this.props.basicData.photoCategories.map(function(t,n){return d.a.createElement(C,{tab:t.key,key:t.value},d.a.createElement("div",{className:"picBox"},d.a.createElement("div",{className:"clearfix"},d.a.createElement(f.K,{listType:"picture-card",fileList:e.state.imgFiles[t.value],onPreview:e.handlePreview,beforeUpload:e.handleBeforeUpload,onRemove:e.hanldeRemove},r),d.a.createElement(f.u,{visible:o,footer:null,onCancel:e.handleCancel},d.a.createElement("img",{alt:"example",style:{width:"100%"},src:a})))))})):d.a.createElement("div",{className:"clearfix"},d.a.createElement(f.K,Object.assign({},l,{beforeUpload:this.handleBeforeUpload,onRemove:this.hanldeRemove}),r),d.a.createElement(f.u,{visible:o,footer:null,onCancel:this.handleCancel},d.a.createElement("img",{alt:"example",style:{width:"100%"},src:a})))))),"dynamic"===this.props.type?null:d.a.createElement(f.z,{type:"flex",justify:"center",className:"BtnTop"},"building"===this.props.parentPage?d.a.createElement("div",null,d.a.createElement(f.g,{type:"primary",size:"default",style:{width:"8rem"},loading:this.props.loadingState,disabled:this.props.buildInfo.isDisabled,onClick:this.handPictureSave},"\u4fdd\u5b58"),"add"!==n?d.a.createElement(f.g,{size:"default",className:"oprationBtn",onClick:this.handleCancelBtn},"\u53d6\u6d88"):null):d.a.createElement("div",null,d.a.createElement(f.g,{type:"primary",size:"default",style:{width:"8rem"},loading:this.props.loadingState,disabled:this.props.shopsInfo.isDisabled,onClick:this.handPictureSave},"\u4fdd\u5b58"),"add"!==t?d.a.createElement(f.g,{size:"default",className:"oprationBtn",onClick:this.handleCancelBtn},"\u53d6\u6d88"):null)))))}}]),t}(A.Component);B.defaultProps={parentPage:"shops"},t.a=Object(c.b)(r,l)(f.o.create()(B))},1715:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{descriptionValue:e.active.descriptionValue,dynamicStatusArr:e.active.dynamicStatusArr,buildInfo:e.building.buildInfo,recordList:e.active.recordList,projectId:e.active.projectId}}function r(e){return{dispatch:e}}var l=n(92),c=n(1216),p=n(0),A=n.n(p),d=n(46),u=n(27),f=(n.n(u),n(1221),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),m=function(e){function t(){var e,n,a,s;i(this,t);for(var r=arguments.length,l=Array(r),p=0;p<r;p++)l[p]=arguments[p];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={detailValue:"",defaultValue:"",defaultTitleValue:"",titleValue:"",id:""},a.onChangeTitleValue=function(e){a.setState({titleValue:e.target.value},function(){a.props.dispatch(Object(c._133)(a.state.titleValue))})},a.onChangeValue=function(e){a.setState({detailValue:e.target.value},function(){a.props.dispatch(Object(c._131)(a.state.detailValue))})},s=n,o(a,s)}return a(t,e),f(t,[{key:"componentWillMount",value:function(){var e=this.props.dynamicStatusArr||[];this.setState({id:e.id||""})}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.dynamicStatusArr,i=e.recordList;n.id!==this.state.id&&(i.length>0&&[1,16].includes(n.examineStatus)&&this.setState({detailValue:n.content,titleValue:n.title}),this.setState({id:n.id},function(){console.log(t.state.id,">>>>>>>")}))}},{key:"render",value:function(){var e=this.props.text;return A.a.createElement("div",{className:"textPic"},A.a.createElement("div",{style:{marginBottom:"10px"}},"\u586b\u5199\u4ee5\u4e0b\u4fe1\u606f\uff0c\u53ca\u65f6\u901a\u77e5\u4e1a\u52a1\u5458\u623f\u6e90\u52a8\u6001\u4fe1\u606f\u53d8\u66f4"),A.a.createElement(d.q,{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898\uff08\u5fc5\u586b\uff09...",style:{width:200,marginBottom:"10px"},onChange:this.onChangeTitleValue,defaultValue:this.state.defaultTitleValue,value:this.state.titleValue,disabled:"\u5ba1\u6838\u4e2d"===e}),A.a.createElement("div",{className:"text"},A.a.createElement(d.q,{type:"textarea",rows:8,placeholder:"\u8bf7\u8f93\u5165\u8be6\u7ec6\u63cf\u8ff0\uff08\u5fc5\u586b\uff09...",defaultValue:this.state.defaultValue,value:this.state.detailValue,disabled:"\u5ba1\u6838\u4e2d"===e,onChange:this.onChangeValue})))}}]),t}(p.Component);t.a=Object(l.b)(s,r)(m)},1735:function(e,t,n){var i=n(1736);"string"===typeof i&&(i=[[e.i,i,""]]);var o={};o.transform=void 0;n(477)(i,o);i.locals&&(e.exports=i.locals)},1736:function(e,t,n){t=e.exports=n(476)(!0),t.push([e.i,".activeList{margin-top:25px}.activeList .listBox{width:100%;padding:0 10px;margin-top:10px;background-color:#fff}.activeList .listBox .noSubmit{color:red;padding-left:10px}.activeList .listBox .list_part{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding:10px 0}.activeList .listBox .list_part .addShopsIcon,.activeList .listBox .list_part .buldingTitle{font-weight:700}.activeList .listBox .list_part .addShopsIcon{cursor:pointer}.activeList .listBox .list_shops{padding:10px 20px;border-top:1px solid #dcdcdc}.activeList .listBox .list_shops .deleteShop{cursor:pointer}.activeList .listBox .moreBtn{text-align:center;padding:15px 0;cursor:pointer}.activeProjectPage .myicon,.activeShopPage .myicon{vertical-align:middle;margin-right:10px}.activeProjectPage .rulesTemplate .centerDiv{width:95%;margin:0 auto}.activeProjectPage .rulesTemplate .centerDiv .flexDiv{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin:10px 0}.activeProjectPage .rulesTemplate .ant-card-body{padding:15px}.collapseList .itemContent{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.collapseList .checkedShop{width:7rem;height:3rem;display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:relative;border:1px solid #1992ea;padding:5px 1rem;margin:0 10px 10px 0;color:#1992ea}.collapseList .checkedShop .icon{position:absolute;right:0;top:0}.collapseList .checkShop{width:7rem;height:3rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;position:relative;border:1px solid #dcdcdc;padding:5px 1rem;margin:0 10px 10px 0}.collapseList .checkShop .icon{position:absolute;right:0;top:0}.collapseList .notcheckShop{width:7rem;height:3rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:relative;border:1px solid #dcdcdc;padding:5px 1rem;margin:0 10px 10px 0}.collapseList .notcheckShop .icon{position:absolute;right:0;top:0}.collapseList .notCheckedShop{width:7rem;height:3rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:relative;border:1px solid #1992ea;padding:5px 1rem;color:#1992ea;margin:0 10px 10px 0}.collapseList .notCheckedShop .icon{position:absolute;right:0;top:0}.textPic{padding-top:40px}.textPic .text{margin:0 auto}.textPic .mypic{margin-top:20px}.ant-upload-select-picture-card i{font-size:28px;color:#999}.ant-upload-select-picture-card .ant-upload-text{margin-top:8px;font-size:12px;color:#666}.formBtn{margin-left:40px;width:8rem}","",{version:3,sources:["E:/work/XYH/xinyaohang/DesktopPortal/src/houseResource/pages/houseActive/houseActive.less"],names:[],mappings:"AAAA,YACE,eAAiB,CAClB,AACD,qBACE,WAAY,AACZ,eAAgB,AAChB,gBAAiB,AACjB,qBAAuB,CACxB,AACD,+BACE,UAAW,AACX,iBAAmB,CACpB,AACD,gCACE,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,8BAA+B,AACnC,sBAAuB,AACnB,mBAAoB,AACxB,cAAgB,CACjB,AACD,4FAEE,eAAkB,CACnB,AACD,8CACE,cAAgB,CACjB,AACD,iCACE,kBAAmB,AACnB,4BAA8B,CAC/B,AACD,6CACE,cAAgB,CACjB,AACD,8BACE,kBAAmB,AACnB,eAAgB,AAChB,cAAgB,CACjB,AACD,mDAEE,sBAAuB,AACvB,iBAAmB,CACpB,AACD,6CACE,UAAW,AACX,aAAe,CAChB,AACD,sDACE,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,mBAAoB,AACxB,aAAe,CAChB,AACD,iDACE,YAAc,CACf,AACD,2BACE,oBAAqB,AACrB,aAAc,AACd,mBAAoB,AAChB,cAAgB,CACrB,AACD,2BACE,WAAY,AACZ,YAAa,AACb,oBAAqB,AACrB,aAAc,AACd,eAAgB,AAChB,sBAAuB,AACnB,mBAAoB,AACxB,qBAAsB,AAClB,uBAAwB,AAC5B,kBAAmB,AACnB,yBAA0B,AAC1B,iBAAkB,AAClB,qBAAsB,AACtB,aAAe,CAChB,AACD,iCACE,kBAAmB,AACnB,QAAS,AACT,KAAO,CACR,AACD,yBACE,WAAY,AACZ,YAAa,AACb,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,mBAAoB,AACxB,qBAAsB,AAClB,uBAAwB,AAC5B,eAAgB,AAChB,kBAAmB,AACnB,yBAA0B,AAC1B,iBAAkB,AAClB,oBAAsB,CACvB,AACD,+BACE,kBAAmB,AACnB,QAAS,AACT,KAAO,CACR,AACD,4BACE,WAAY,AACZ,YAAa,AACb,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,mBAAoB,AACxB,qBAAsB,AAClB,uBAAwB,AAC5B,kBAAmB,AACnB,yBAA0B,AAC1B,iBAAkB,AAClB,oBAAsB,CACvB,AACD,kCACE,kBAAmB,AACnB,QAAS,AACT,KAAO,CACR,AACD,8BACE,WAAY,AACZ,YAAa,AACb,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,mBAAoB,AACxB,qBAAsB,AAClB,uBAAwB,AAC5B,kBAAmB,AACnB,yBAA0B,AAC1B,iBAAkB,AAClB,cAAe,AACf,oBAAsB,CACvB,AACD,oCACE,kBAAmB,AACnB,QAAS,AACT,KAAO,CACR,AACD,SACE,gBAAkB,CACnB,AACD,eACE,aAAe,CAChB,AACD,gBACE,eAAiB,CAClB,AACD,kCACE,eAAgB,AAChB,UAAY,CACb,AACD,iDACE,eAAgB,AAChB,eAAgB,AAChB,UAAY,CACb,AACD,SACE,iBAAkB,AAClB,UAAY,CACb",file:"houseActive.less",sourcesContent:[".activeList {\n  margin-top: 25px;\n}\n.activeList .listBox {\n  width: 100%;\n  padding: 0 10px;\n  margin-top: 10px;\n  background-color: #fff;\n}\n.activeList .listBox .noSubmit {\n  color: red;\n  padding-left: 10px;\n}\n.activeList .listBox .list_part {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  -ms-flex-align: center;\n      align-items: center;\n  padding: 10px 0;\n}\n.activeList .listBox .list_part .buldingTitle,\n.activeList .listBox .list_part .addShopsIcon {\n  font-weight: bold;\n}\n.activeList .listBox .list_part .addShopsIcon {\n  cursor: pointer;\n}\n.activeList .listBox .list_shops {\n  padding: 10px 20px;\n  border-top: 1px solid #dcdcdc;\n}\n.activeList .listBox .list_shops .deleteShop {\n  cursor: pointer;\n}\n.activeList .listBox .moreBtn {\n  text-align: center;\n  padding: 15px 0;\n  cursor: pointer;\n}\n.activeProjectPage .myicon,\n.activeShopPage .myicon {\n  vertical-align: middle;\n  margin-right: 10px;\n}\n.activeProjectPage .rulesTemplate .centerDiv {\n  width: 95%;\n  margin: 0 auto;\n}\n.activeProjectPage .rulesTemplate .centerDiv .flexDiv {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  margin: 10px 0;\n}\n.activeProjectPage .rulesTemplate .ant-card-body {\n  padding: 15px;\n}\n.collapseList .itemContent {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.collapseList .checkedShop {\n  width: 7rem;\n  height: 3rem;\n  display: -ms-flexbox;\n  display: flex;\n  cursor: pointer;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  position: relative;\n  border: 1px solid #1992EA;\n  padding: 5px 1rem;\n  margin: 0 10px 10px 0;\n  color: #1992EA;\n}\n.collapseList .checkedShop .icon {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.collapseList .checkShop {\n  width: 7rem;\n  height: 3rem;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  cursor: pointer;\n  position: relative;\n  border: 1px solid #dcdcdc;\n  padding: 5px 1rem;\n  margin: 0 10px 10px 0;\n}\n.collapseList .checkShop .icon {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.collapseList .notcheckShop {\n  width: 7rem;\n  height: 3rem;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  position: relative;\n  border: 1px solid #dcdcdc;\n  padding: 5px 1rem;\n  margin: 0 10px 10px 0;\n}\n.collapseList .notcheckShop .icon {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.collapseList .notCheckedShop {\n  width: 7rem;\n  height: 3rem;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  position: relative;\n  border: 1px solid #1992EA;\n  padding: 5px 1rem;\n  color: #1992EA;\n  margin: 0 10px 10px 0;\n}\n.collapseList .notCheckedShop .icon {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.textPic {\n  padding-top: 40px;\n}\n.textPic .text {\n  margin: 0 auto;\n}\n.textPic .mypic {\n  margin-top: 20px;\n}\n.ant-upload-select-picture-card i {\n  font-size: 28px;\n  color: #999;\n}\n.ant-upload-select-picture-card .ant-upload-text {\n  margin-top: 8px;\n  font-size: 12px;\n  color: #666;\n}\n.formBtn {\n  margin-left: 40px;\n  width: 8rem;\n}\n"],sourceRoot:""}])},1894:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{isLoading:e.active.isLoading,shopId:e.active.shopId,operInfo:e.shop.operInfo,shopInfo:e.shop.shopsInfo,descriptionValue:e.active.descriptionValue,statusArr:e.active.statusArr,completeFileList:e.shop.completeFileList,deletePicList:e.shop.deletePicList,myTitleValue:e.active.myTitleValue}}function r(e){return{dispatch:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(92),c=n(1216),p=n(0),A=n.n(p),d=n(46),u=n(27),f=(n.n(u),n(2116)),m=(n(1334),n(1710),n(1715),n(1735)),h=(n.n(m),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),g=(d.s.Header,d.s.Sider,d.s.Content),C=d.E.TabPane,B=function(e){function t(){var e,n,a,s;i(this,t);for(var r=arguments.length,l=Array(r),p=0;p<r;p++)l[p]=arguments[p];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={current:"",shopId:""},a.handleChange=function(e){var t=a.state.shopId,n=void 0;switch(a.setState({current:e}),e){case"1":n={pageSize:1,contentTypes:["Price"],contentIds:[t]},a.props.dispatch(Object(c._18)({condition:n,id:t,updateType:2}));break;default:n={pageSize:1,contentTypes:["Image"],contentIds:[t]},a.props.dispatch(Object(c._18)({condition:n,id:t,updateType:2}))}},a.getStatus=function(e){var t=(a.props.statusArr||[]).find(function(t){return t.action===e})||{};switch(t.examineStatus){case 1:return"\u5ba1\u6838\u4e2d";case 2:return"\u5ba1\u6838\u901a\u8fc7";case 3:return"\u5ba1\u6838\u9a73\u56de";default:return""}},a.handleSave=function(){var e=a.props,t=e.completeFileList,n=e.deletePicList,i=e.shopId,o=e.descriptionValue,s=e.myTitleValue,r=void 0;console.log(t,n,"\u56fe\u7247"),0!==t.length&&(r={updateType:2,contentType:"Image",contentId:i,updateContent:JSON.stringify(t),content:o,title:s}),0!==n.length&&(r={updateType:2,contentType:"Image",contentId:i,updateContent:JSON.stringify(n),content:o,title:s}),console.log(r,"\u6700\u65b0\u7684\u56fe\u7247\u5546\u94fa"),o?a.props.dispatch(Object(c._148)({obj:r})):d.L.warning({message:"\u5fc5\u987b\u8f93\u5165\u63cf\u8ff0\u4fe1\u606f",duration:3})},a.handleCancel=function(){console.log("\u70b9\u51fb\u53d6\u6d88\u6309\u94ae"),a.props.dispatch(Object(c._71)({id:a.props.shopId,type:"dynamic"}))},s=n,o(a,s)}return a(t,e),h(t,[{key:"componentWillMount",value:function(){var e=this;console.log(this.props.shopId,"\u697c\u76d8id"),this.setState({shopId:this.props.shopId},function(){e.props.dispatch(Object(c._25)({id:e.state.shopId}))})}},{key:"componentWillReceiveProps",value:function(e){var t=this;console.log(e.shopId,"\u697c\u76d8id\u65b0\u7684"),this.props.shopId!==e.shopId&&this.setState({shopId:e.shopId},function(){t.props.dispatch(Object(c._25)({id:t.state.shopId}))})}},{key:"render",value:function(){this.props.operInfo;return A.a.createElement(d.B,{spinning:this.props.isLoading},A.a.createElement("div",{className:"relative"},A.a.createElement(d.s,null,A.a.createElement(g,{className:"content activeShopPage"},A.a.createElement(d.E,{defaultActiveKey:"1",style:{marginTop:"20px"}},A.a.createElement(C,{tab:A.a.createElement("span",null,A.a.createElement("i",{className:"iconfont icon-zongjia myicon"}),"\u603b\u4ef7",A.a.createElement("span",{style:{color:"red",paddingLeft:"10px"}},this.getStatus("Price"))),key:"1"},A.a.createElement(f.a,{text:this.getStatus("Price")})))))))}}]),t}(p.Component);t.default=Object(l.b)(s,r)(B)},2116:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{shopInfo:e.shop.shopsInfo,descriptionValue:e.active.descriptionValue,operInfo:e.shop.operInfo,submitLoading:e.active.submitLoading,submitDisabled:e.active.submitDisabled,shopId:e.active.shopId,eidtFlagPrice:e.shop.eidtFlagPrice,dynamicShopsInfo:e.shop.dynamicShopsInfo,statusArr:e.active.statusArr,dynamicStatusArr:e.active.dynamicStatusArr,myTitleValue:e.active.myTitleValue}}function r(e){return{dispatch:e}}var l=n(92),c=n(1216),p=n(0),A=n.n(p),d=n(46),u=n(27),f=(n.n(u),n(1715)),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=d.o.Item,g=function(e){function t(){var e,n,a,s;i(this,t);for(var r=arguments.length,l=Array(r),p=0;p<r;p++)l[p]=arguments[p];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={eidtFlag:!1,shopId:""},a.handleEdit=function(e){a.props.dispatch(Object(c._84)())},a.handleSave=function(e){e.preventDefault();var t=a.props,n=t.descriptionValue,i=t.shopId,o=t.myTitleValue;console.log(i,"\u5546\u94faid"),a.props.form.validateFields(function(e,t){if(console.log(t,"\u5431\u5431\u5431"),!e){var s={updateType:2,contentType:"Price",contentId:i,updateContent:JSON.stringify(t),content:n,title:o},r=void 0;r="lower"!==a.props.type?"total":"guide",n?a.props.dispatch(Object(c._148)({obj:s,isBtn:r})):d.L.warning({message:"\u5fc5\u987b\u8f93\u5165\u63cf\u8ff0\u4fe1\u606f",duration:3})}})},a.initData=function(e){a.setState({shopId:e},function(){if(console.log("\u8bf7\u6c42\u63a5\u53e3\u6ca1\u6709\uff1f\uff1f\uff1f\uff1f"),"dynamic"===a.props.type){var e={pageSize:1,isCurrent:!0,contentTypes:["ReportRule"],contentIds:[a.state.shopId]};a.props.dispatch(Object(c._18)({condition:e,id:a.state.shopId,updateType:1}))}})},a.handleCancel=function(){console.log("\u70b9\u51fb\u53d6\u6d88\u6309\u94ae"),a.props.dispatch(Object(c._71)({id:a.props.shopId,type:"dynamic"}))},s=n,o(a,s)}return a(t,e),m(t,[{key:"componentWillMount",value:function(){console.log(this.state.shopId,"\u672c\u5730id"),this.initData(this.props.shopId)}},{key:"componentWillReceiveProps",value:function(e){e.shopId!==this.state.shopId&&(console.log("\u53d8\u4e86id",e.shopId),this.initData(e.shopId))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:4},wrapperCol:{span:12}},n=this.props,i=n.shopInfo,o=n.dynamicShopsInfo,a=n.eidtFlagPrice,s=n.dynamicStatusArr,r=(this.props.shopInfo||{}).basicInfo,l=(this.props.statusArr||[]).find(function(e){return"Price"===e.action})||{};return r="{}"===JSON.stringify(l)?(i||{}).basicInfo:[1,16].includes(s.examineStatus)?(o||{}).basicInfo:(i||{}).basicInfo,A.a.createElement("div",null,A.a.createElement("div",{style:{backgroundColor:"#ECECEC"}},a?A.a.createElement(d.o,{layout:"horizontal",style:{padding:"25px 0"}},A.a.createElement(d.z,null,A.a.createElement(d.k,{span:12},A.a.createElement(h,Object.assign({},t,{label:"\u603b\u4ef7(\u4e07\u5143/\u33a1)"}),e("totalPrice",{initialValue:r.totalPrice,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u697c\u76d8\u603b\u4ef7"}]})(A.a.createElement(d.r,{min:1}))))),A.a.createElement(d.z,{style:{marginTop:"15px"}},A.a.createElement(d.k,{span:12},A.a.createElement(h,Object.assign({},t,{label:"\u5185\u90e8\u6700\u4f4e\u603b\u4ef7(\u4e07\u5143/\u33a1)"}),e("guidingPrice",{initialValue:r.guidingPrice,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u90e8\u6700\u4f4e\u603b\u4ef7"}]})(A.a.createElement(d.r,{min:1})))))):A.a.createElement(d.o,{layout:"horizontal",style:{padding:"25px 0"}},A.a.createElement(d.z,{type:"flex"},A.a.createElement(d.k,{span:20,style:{textAlign:"right"}},"\u5ba1\u6838\u4e2d"===this.props.text?null:A.a.createElement(d.g,{type:"primary",shape:"circle",icon:"edit",onClick:this.handleEdit}))),A.a.createElement(d.z,{className:"viewRow"},A.a.createElement(d.k,{span:12},"\u603b\u4ef7\uff1a",A.a.createElement("span",{className:"redSpan"},r.totalPrice?r.totalPrice+" \u4e07\u5143/\u33a1":"\u65e0"," "))),A.a.createElement(d.z,{style:{marginTop:"15px"}},A.a.createElement(d.k,{span:12},"\u5185\u90e8\u6700\u4f4e\u603b\u4ef7\uff1a",A.a.createElement("span",{className:"redSpan"},r.guidingPrice?r.guidingPrice+" \u4e07\u5143":"\u65e0"," "))))),A.a.createElement(f.a,{text:this.props.text}),"\u5ba1\u6838\u4e2d"===this.props.text?null:A.a.createElement(d.z,{style:{marginTop:"25px"}},A.a.createElement(d.k,{span:24,style:{textAlign:"center"}},A.a.createElement(d.g,{type:"primary",style:{width:"8rem"},loading:this.props.submitLoading,onClick:this.handleSave},"\u4fdd\u5b58"),A.a.createElement(d.g,{className:"login-form-button formBtn",onClick:this.handleCancel},"\u53d6\u6d88"))))}}]),t}(p.Component),C=d.o.create()(g);t.a=Object(l.b)(s,r)(C)}});
//# sourceMappingURL=25.7be4a31f.chunk.js.map